function MarkerClusterer(a,b,c){this.extend(MarkerClusterer,google.maps.OverlayView),this.map_=a,this.markers_=[],this.clusters_=[],this.sizes=[53,56,66,78,90],this.styles_=[],this.ready_=!1;var d=c||{};this.gridSize_=d.gridSize||60,this.minClusterSize_=d.minimumClusterSize||2,this.maxZoom_=d.maxZoom||null,this.styles_=d.styles||[],this.imagePath_=d.imagePath||this.MARKER_CLUSTER_IMAGE_PATH_,this.imageExtension_=d.imageExtension||this.MARKER_CLUSTER_IMAGE_EXTENSION_,this.zoomOnClick_=!0,void 0!=d.zoomOnClick&&(this.zoomOnClick_=d.zoomOnClick),this.averageCenter_=!1,void 0!=d.averageCenter&&(this.averageCenter_=d.averageCenter),this.setupStyles_(),this.setMap(a),this.prevZoom_=this.map_.getZoom();var e=this;google.maps.event.addListener(this.map_,"zoom_changed",function(){var a=e.map_.getZoom(),b=e.map_.minZoom||0,c=Math.min(e.map_.maxZoom||100,e.map_.mapTypes[e.map_.getMapTypeId()].maxZoom);a=Math.min(Math.max(a,b),c),e.prevZoom_!=a&&(e.prevZoom_=a,e.resetViewport())}),google.maps.event.addListener(this.map_,"idle",function(){e.redraw()}),b&&(b.length||Object.keys(b).length)&&this.addMarkers(b,!1)}function Cluster(a){this.markerClusterer_=a,this.map_=a.getMap(),this.gridSize_=a.getGridSize(),this.minClusterSize_=a.getMinClusterSize(),this.averageCenter_=a.isAverageCenter(),this.center_=null,this.markers_=[],this.bounds_=null,this.clusterIcon_=new ClusterIcon(this,a.getStyles(),a.getGridSize())}function ClusterIcon(a,b,c){a.getMarkerClusterer().extend(ClusterIcon,google.maps.OverlayView),this.styles_=b,this.padding_=c||0,this.cluster_=a,this.center_=null,this.map_=a.getMap(),this.div_=null,this.sums_=null,this.visible_=!1,this.setMap(this.map_)}function _handleMultipleEvents(a,b,c,d){vjs.arr.forEach(c,function(c){a(b,c,d)})}function _logType(a,b){var c,d,e;c=Array.prototype.slice.call(b),d=function(){},e=window.console||{log:d,warn:d,error:d},a?c.unshift(a.toUpperCase()+":"):a="log",vjs.log.history.push(c),c.unshift("VIDEOJS:"),e[a].apply?e[a].apply(e,c):e[a](c.join(" "))}function playList(a,b){var c=this;c.pl=c.pl||{};var d=parseInt(a,10);return c.pl._guessVideoType=function(a){var b={webm:"video/webm",mp4:"video/mp4",m4v:"video/mp4",ogv:"video/ogg"},c=a.split(".").pop();return b[c]||""},c.pl.init=function(a,b){b=b||{},c.pl.videos=[],c.pl.current=0,c.on("ended",c.pl._videoEnd),b.getVideoSource&&(c.pl.getVideoSource=b.getVideoSource),c.pl._addVideos(a)},c.pl._updatePoster=function(a){c.poster(a),c.removeChild(c.posterImage),c.posterImage=c.addChild("posterImage")},c.pl._addVideos=function(a){for(var b=0,d=a.length;d>b;b++){for(var e=[],f=0,g=a[b].src.length;g>f;f++)e.push({type:c.pl._guessVideoType(a[b].src[f]),src:a[b].src[f]});a[b].src=e,c.pl.videos.push(a[b])}},c.pl._nextPrev=function(a){var b,d;if("next"===a?(b=c.pl.videos.length-1,d=1):(b=0,d=-1),c.pl.current!==b){var e=c.pl.current+d;c.pl._setVideo(e),c.trigger(a,[c.pl.videos[e]])}},c.pl._setVideo=function(a){a<c.pl.videos.length&&(c.pl.current=a,c.pl.currentVideo=c.pl.videos[a],c.paused()||c.pl._resumeVideo(),c.pl.getVideoSource?c.pl.getVideoSource(c.pl.videos[a],function(a,b){c.pl._setVideoSource(a,b)}):c.pl._setVideoSource(c.pl.videos[a].src,c.pl.videos[a].poster))},c.pl._setVideoSource=function(a,b){c.src(a),c.pl._updatePoster(b)},c.pl._resumeVideo=function(){c.one("loadstart",function(){c.play()})},c.pl._videoEnd=function(){c.pl.current===c.pl.videos.length-1?c.trigger("lastVideoEnded"):(c.pl._resumeVideo(),c.next())},a instanceof Array?(c.pl.init(a,b),c.pl._setVideo(0),c):d===d?(c.pl._setVideo(d),c):"string"==typeof a&&"undefined"!=typeof c.pl[a]?(c.pl[a].apply(c),c):void 0}!function(){function a(a){function b(b){function c(){O=setTimeout(function(){clearTimeout(h),b.horizontal=!b.horizontal,b.vertical=!b.vertical,h=setTimeout(C,1e3)},200)}var d,e,f,g,h,i,j,k,l,m,n,o,p="mouseup touchend mouseleave",q="mousedown touchstart",r="mousemove touchmove",s=350,t=b.swipeDistance||50,u={x:0,y:0},v={x:0,y:0},w={},x={},y=!!b.inertia&&("boolean"==typeof b.inertia?200:b.inertia),z=b.scrollSpeed||500,A=function(a){return"string"==typeof a.MozTransform?{j:"Moz",c:"-moz-"}:"string"==typeof a.WebkitTransform?{j:"Webkit",c:"-webkit-"}:"string"!=typeof a.msTransform&&"string"!=typeof a.MsTransform||/MSIE 9/.test(navigator.appVersion)?"string"==typeof a.transform?{j:"",c:""}:{j:null,c:null}:{j:"ms",c:"-ms-"}}(document.body.style),B=b.node.find(".slide").length?b.node.find(".slide").parent().length?b.node.find(".slide").parent()[0]:b.node.find(".slide")[0]:b.node[0],C=function(a){return clearTimeout(h),g=((a||{}).x||b.boundsX||b.node.width()+20)-b.node.parent().width(),i=((a||{}).y||b.boundsY||b.node.height()+20)-b.node.parent().height(),B},D=function(a,c){var d=b.horizontal||c?a.pageX||((a.touches||(a.originalEvent||{}).touches||[])[0]||{}).pageX||0:0,e=b.vertical||c?a.pageY||((a.touches||(a.originalEvent||{}).touches||[])[0]||{}).pageY||0:0;return{x:d,y:e}},E=function(a){var c,d=Math.abs;if(c=D(a,!0),b.horizontal&&d(w.x-c.x)>15||b.vertical&&d(w.y-c.y)>15)if(d(w.x-c.x)>d(w.y-c.y)){if(b.horizontal)return!0}else if(b.vertical)return!0;return!1},F=function(b,c,d,f){var h,j,k,l;(e||d)&&(j={x:v.x-b.x,y:v.y-b.y},d&&(j=b),j.x>g&&(j.x=g,h=!0),j.x<0&&(j.x=0,h=!0),j.y>i&&(j.y=i,h=!0),j.y<0&&(j.y=0,h=!0),k=-(j.x||0),l=-(j.y||0),A.j?B.style[A.j+"Transform"]="Webkit"===A.j?"translate3d("+k+"px, "+l+"px, 0)":"translate("+k+"px, "+l+"px)":d&&0!==f?a(B).animate({left:k+"px",top:l+"px"},f):(B.style.left=k+"px",B.style.top=l+"px"),u=j)},G=function(a,c){return B.style[A.j+"Transition"]=A.c+"transform "+(c||z)+"ms "+(b.easing||"ease-out"),F(a,null,!0,c||z),B},H=function(a,c,d){if((new Date).getTime()-a.getTime()<s){if(b.horizontal&&Math.abs(c.x-d.x)>t)return c.x>d.x?1:-1;if(b.vertical&&Math.abs(c.y-d.y)>t)return c.y>d.y?1:-1}return!1},I=function(){n?(n.x=m.x-u.x,n.y=m.y-u.y):n={x:0,y:0},m=u},J=function(){if(clearInterval(l),y&&n){var a=Math.abs(n.x),b=Math.abs(n.y),c=n.x,d=n.y;(a>5||b>5)&&(a>200||b>200?G({x:-c*(y/200)*3+u.x,y:-d*(y/200)*3+u.y},3*y):a>150||b>150?G({x:-c*(y/200)*2+u.x,y:-d*(y/200)*2+u.y},2*y):G({x:-c*(y/200)+u.x,y:-d*(y/200)+u.y},y)),n=null}},K=function(a){if(b.lockscroll&&a.preventDefault(),!(j||window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints&&!a.isPrimary)){f=!0,d=new Date,B.style[A.j+"Transition"]="";var c=D(a);v=u?{x:u.x+c.x,y:u.y+c.y}:c,w=D(a,!0),k=(new Date).getTime(),clearInterval(l),n=null,I(),l=setInterval(I,100)}},L=function(c){if(!(j||window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints&&!c.isPrimary)){var d=a(c.target).parents("."+b.scrollable).length;f&&(e=!0,!b.lockscroll&&!E(c)||d||(c.stopPropagation(),c.preventDefault()),(!b.scrollable||b.scrollable&&!d)&&F(D(c),c)),x=D(c,!0)}},M=function(c){j||window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints&&!c.isPrimary||(b.callback&&f&&b.callback(a(c.target),u,e,!!e&&H(d,w,x)),f=!1,e=!1,d=null,J())},N=function(c){var f=b.horizontal?c.deltaX:0,g=b.vertical?c.deltaY:0,h=/MSIE ([6-8])/.test(navigator.appVersion)?40:1;if(b.horizontal&&!b.vertical&&Math.abs(c.deltaY)>Math.abs(c.deltaX)&&(f=-c.deltaY),0!==f||0!==g){c.preventDefault(),c.stopPropagation(),e=!0;var i={x:u.x+f*c.deltaFactor*h,y:u.y-g*c.deltaFactor*h};d||(d=new Date,w={x:u.x,y:u.y}),x={x:u.x,y:u.y},F(i,null,!0,0),e=!1,clearTimeout(o),o=setTimeout(function(){b.callback&&b.callback(a(c.target),u,e,!!e&&H(d,w,x)),d=w=x=null},150)}};window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints&&(p="MSPointerUp",q="MSPointerDown",r="MSPointerMove"),C();var O;return b.orientationchange&&(window.addEventListener?window.addEventListener("orientationchange",c,!0):a("window").on("orientationchange resize",c)),a(B).on(q,K),a(B).on(r,L),a(B).on(p,M),b.mousewheel&&a.fn.mousewheel&&!function(){a(B).on("mousewheel.scroll",N)}(),a("body").bind("mouseup.scroll",function(){f=!1}).bind("dragstart.scroll",function(){return!1}),{position:function(){return u},scrollto:G,setBounds:C,switchDirection:function(){return b.vertical=!b.vertical,b.horizontal=!b.horizontal,B},suspend:function(){j=!0},resume:function(){j=!1}}}a.fn.akscroller=function(c,d,e){if("string"!=typeof c)d=c,this.each(function(){var c=a.extend({},d);c.node=a(this),a(this).attr("style",""),this.akscroller=new b(c),a(this).data("scroller",!0)});else{if("scrollto"===c&&this.each(function(){this.akscroller.scrollto(d,e)}),"bounds"===c&&this.each(function(){this.akscroller.setBounds(d)}),"position"===c&&this.eq(0)&&this.eq(0)[0]&&this.eq(0)[0].akscroller)return this.eq(0)[0].akscroller.position();"switchdirection"===c&&this.each(function(){this.akscroller.switchDirection()}),"suspendscroll"===c&&this.each(function(){this.akscroller&&this.akscroller.suspend()}),"resumescroll"===c&&this.each(function(){this.akscroller&&this.akscroller.resume()})}return this}}function b(){window.jQuery||window.Zepto?a(window.jQuery||window.Zepto):setTimeout(b,100)}b()}(),!function(){function a(a){function b(b,c){function d(){clearTimeout(C),C=setTimeout(function(){b.scrolltotop&&window.scrollTo(0,1),b.switchonorientationchange&&(b.horizontal=!b.horizontal,b.vertical=!b.vertical),h.akscroller("bounds",{x:y(),y:z()}),b.switchonorientationchange&&h.akscroller("switchdirection"),x(w)},200)}function e(){var a;clearTimeout(i),i=setTimeout(function(){a=++w,a===t.length&&(a=w=0),x(a),b.callback&&b.callback(w,!1,!1,b.node),e()},b.delay||5e3)}function f(b){b.preventDefault(),b.stopPropagation();var c=j.find("a").index(a(b.target));x(c)}function g(){if(b.navarrows){var a=b.node.find(".cleftarrow").removeClass("off"),c=b.node.find(".crightarrow").removeClass("off");(w>=t.length-u||u>t.length)&&c.addClass("off"),(!w||0>=w)&&a.addClass("off")}}b.switchonorientationchange&&(c&&document.width/document.height<1||!c&&document.width/document.height>1)&&(b.horizontal=!b.horizontal,b.vertical=!b.vertical);var h,i,j,k,l,m,n,o,p,q,r="undefined"==typeof window.ontouchstart?"mouseup":"touchend",s="undefined"==typeof window.ontouchstart?"mousedown":"touchstart",t=b.node.find(".slide"),u=b.singleStep?1:parseInt(b.node.width()/t.width(),10),v=!1,w=0,x=function(a,c){function d(a){for(var b=0,c=l,d=k.length;d--;)Math.abs(k[d]-a)<c&&(c=k[d]-a,b=k[d],w=d);return b}if(!(0>a||a>t.length-1||v)){b.autoSwitch&&(clearTimeout(i),i=setTimeout(e,b.interruptionDelay||15e3));var f,j=h.akscroller("position"),k=[],l=b.horizontal?t.width():t.height(),m="undefined"!=typeof a?a*l:b.horizontal?j.x:j.y;for(f=0,q=b.node.find(".slide").length;q>f;f++)b.variablesizeslides?(0===f&&(l=0,k.push(0)),a&&a===f&&(m=l),l+=b.horizontal?t.eq(f).width():t.eq(f).height(),k.push(l)):k.push(l*f);return h.akscroller("scrollto",b.horizontal?{x:d(m),y:0}:{x:0,y:d(m)},c||b.scrollSpeed),A(w),g(),b.node}},y=function(){var a=t.length,c=0;if(b.horizontal){if(b.variablesizeslides){for(;a--;)c+=t.eq(a).width();return c}return b.node.find(".slide").width()*b.node.find(".slide").length}if(b.variablesizeslides){for(;a--;)t.eq(a).width()>c&&(c=t.eq(a).width());return c}return t.width()},z=function(){var a=t.length,c=0;if(b.vertical){if(b.variablesizeslides){for(;a--;)c+=t.eq(a).height();return c}return b.node.find(".slide").height()*b.node.find(".slide").length}if(b.variablesizeslides){for(;a--;)t.eq(a).height()>c&&(c=t.eq(a).height());return c}return t.height()},A=function(a){var c=t.eq(a);j&&(j.find("a").removeClass("active"),j.find("a").eq(a).addClass("active")),t.removeClass("active"),c.addClass("active"),b.hero&&(k.find(".img").removeClass("active").eq(a).addClass("active"),k.find("article").html(c.find("article").html()),b.node.removeClass("light dark").addClass(c.hasClass("dark")?"dark":"light"))},B={horizontal:b.horizontal,easing:b.easing,vertical:b.vertical,lockscroll:b.lockscroll,swipeDistance:b.swipeDistance,scrollable:b.scrollable?"scrollable":null,callback:function(a,c,d,e){var f,g;!b.clickablelinks||d||e||(a.is("a")?g=a:(a.find("a").length&&(g=a.find("a").eq(0)),a.parent("a").length&&(g=a.parent("a"))),g&&window.open(g.attr("href"),g.attr("target"))),f=a.hasClass("slide")?a.index():a.parents(".slide").index(),e?(w+=e,0>w&&(w=0),w+u>t.length&&(w=t.length-u),x(w,b.swipeSpeed||b.scrollSpeed/4)):!d&&b.tapnavigation?x(f,b.scrollSpeed/2):x(),b.callback&&b.callback(w,c,d,b.node)},scrollSpeed:b.scrollSpeed,interruptionDelay:b.interruptionDelay};window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints&&(r="MSPointerUp",s="MSPointerDown"),b.skipbounds||(B.boundsX=y(),B.boundsY=z()),b.node.find("img").mousedown(function(a){a.preventDefault()}),h=b.scrollNode?a(b.node).find(".scroll").akscroller(B):a(b.node).akscroller(B);var C;if(window.addEventListener?(window.addEventListener("orientationchange",d,!1),window.addEventListener("resize",d,!1)):a("window").bind("orientationchange resize",d),b.autoSwitch&&e(),j=b.node.find(".pager"),k=b.node.find(".hero"),j.length)for(n=function(){a(this).removeAttr("style")},j.empty(),j.unbind().bind("click",function(a){a.preventDefault(),a.stopPropagation()}).bind(r,f),q=t.length-parseInt(b.node.width()/t.width()-1,10);q--;){var D=a('<a href="#"></a>');j.append(D),b.hero&&k.length&&(l="",t.eq(q).hasClass("light")&&(l=" light"),m=a('<img style="opacity:0" />').bind("load",n),m.attr("src",t.eq(q).data("hero")||t.eq(q).attr("data-hero")),p=a('<div class="img'+l+'"></div>').append(m),k.prepend(p))}else j=null;return b.navarrows&&(o=a('<a class="cleftarrow" href="#"></a>'),o.unbind().bind("click",function(a){a.preventDefault(),a.stopPropagation()}).bind(r,function(){w>0&&(x(w-1),b.callback&&b.callback(w,!1,!1,b.node))}),b.node.append(o),o=a('<a class="crightarrow" href="#"></a>'),o.unbind().bind("click",function(a){a.preventDefault(),a.stopPropagation()}).bind(r,function(){w<t.length-u&&(x(w+1),b.callback&&b.callback(w,!1,!1,b.node))}),b.node.append(o),b.node.bind(s+".navicons",function(){clearTimeout(a(this)[0].tmptimeout),a(this).addClass("touched")}).bind(r+".navicons",function(){var b=a(this);b[0].tmptimeout=setTimeout(function(){b.removeClass("touched")},3500)}),b.node.addClass("touched"),b.node[0].tmptimeout=setTimeout(function(){b.node.removeClass("touched")},3500),g()),A(0),{moveto:x,forward:function(){x(w+1)},back:function(){x(w-1)},currentSlide:function(){return w},suspend:function(){a(b.node).akscroller("suspendscroll"),v=!0},resume:function(){a(b.node).akscroller("resumescroll"),v=!1}}}function c(a,c){return c?/ipad/i.test(navigator.appVersion)||0!==window.screenX||!("ontouchstart"in window)||window.screen.width>1023&&/android/i.test(navigator.appVersion)&&!/mobile/i.test(navigator.appVersion)?new b(a,!0):new b(c,!1):new b(a)}a.fn.akcarousel=function(b,d,e){if("string"!=typeof b){if("function"!=typeof a.fn.akscroller)throw"Error: $.fn.akscroller is required for this carousel to work correctly.";this.each(function(){var f,g;d&&(g=a.extend({},d),g.node=a(this)),f=a.extend({},b),f.node=a(this),e&&e.node&&(g=a.extend({},e),g.node=a(this)),this.akcarousel=new c(f,g)})}else{if("move"===b)return this.each(function(){return this.akcarousel?isNaN(d)?-1!==d.indexOf("+")?void this.akcarousel.forward():void(-1!==d.indexOf("-")&&this.akcarousel.back()):void this.akcarousel.moveto(d):void 0}),this;if("realign"===b){var f;return this.each(function(){this.akcarousel&&this.akcarousel.moveto(this.akcarousel.currentSlide())}),f}"suspend"===b?this.each(function(){this.akcarousel&&this.akcarousel.suspend&&this.akcarousel.suspend()}):"resume"===b?this.each(function(){this.akcarousel&&this.akcarousel.resume&&this.akcarousel.resume()}):window.console&&window.console.warn&&window.console.warn(this,"carousel: function "+b+" not recognised")}return this}}function b(){(window.jQuery||window.Zepto)&&((window.jQuery||window.Zepto).fn||{}).akscroller?a(window.jQuery||window.Zepto):setTimeout(b,100)}b()}(),function(a){function b(a){return a.targetTouches?a.targetTouches[0]:a}function c(c){c.preventDefault(),c.stopPropagation();var d=a(c.target);l=b(c).pageX,m=b(c).pageY,j=s?(h||0)+l:-(l-d.offset().left),k=s?(i||0)+m:-(m-d.offset().top),r=!0}function d(c){if(r){var d=a(c.target),e=j-b(c).pageX,f=k-b(c).pageY,g=d.width()/3,l=d.height()/2;if(c.stopPropagation(),c.preventDefault(),!(g>=e&&e>=-g&&l>=f&&f>=-l))return;"WebkitTransform"in document.body.style||"MozTransform"in document.body.style||"OTransform"in document.body.style||"transform"in document.body.style?(e=0,d[0].style[s.j.length?s.j+"Transform":"transform"]="Webkit"===s.j?"translate3d("+-e+"px, "+-f+"px, 0)":"translate("+-e+"px, "+-f+"px)"):(d.css("left",-e),d.css("top",-f)),h=e,i=f}}function e(){j=h,k=i,r=!1}function f(a){g=a.find(".zoom-image"),g.on(o,c).on(p,d).on(n,e).on("mouseout",e),a.parents().find(".crightarrow, .cleftarrow").on(o,function(){a.hasClass("zoomed")&&(a.removeClass("zoomed"),g.off(),t(g))})}var g,h,i,j,k,l,m,n="undefined"==typeof window.ontouchstart?"mouseup":"touchend",o="undefined"==typeof window.ontouchstart?"mousedown":"touchstart",p="undefined"==typeof window.ontouchstart?"mousemove":"touchmove",q=window.Zepto?"ease-in-out 1ms":void 0,r=!1,s=function(a){return"string"==typeof a.transform?{j:"",c:""}:"string"==typeof a.WebkitTransform?{j:"Webkit",c:"-webkit-"}:"string"==typeof a.MozTransform?{j:"Moz",c:"-moz-"}:"string"==typeof a.OTransform?{j:"O",c:"-O-"}:"string"!=typeof a.msTransform&&"string"!=typeof a.MsTransform||/MSIE 9/.test(navigator.appVersion)?{j:null,c:null}:{j:"ms",c:"-ms-"}}((document.body||document.head).style),t=function(b){b=b||a(".zoom img.zoom-image"),"WebkitTransform"in document.body.style||"MozTransform"in document.body.style||"OTransform"in document.body.style||"transform"in document.body.style?b.off().animate({translate3d:"0,0,0"},1,q).parents(".active").removeClass("zoomed"):b.off().css({left:"0",right:"0"})};a.fn.galleryZoom=function(b,c){"string"!=typeof b?c=b:"zoomReset"===b&&t(),c=c||{},s=s,this.each(function(){var b=a(this);b.on(o,function(){f(b)})})}}(window.Zepto||window.jQuery),function(a){a.cookie=function(b,c,d){if("undefined"==typeof c){var e=null;if(document.cookie&&""!==document.cookie)for(var f=document.cookie.split(";"),g=f.length,h=0;g>h;h++){var i=a.trim(f[h]);if(i.substring(0,b.length+1)==b+"="){e=decodeURIComponent(i.substring(b.length+1));break}}return e}d=d||{},null===c&&(c="",d.expires=-1);var j="";if(d.expires&&("number"==typeof d.expires||d.expires.toUTCString)){var k;"number"==typeof d.expires?(k=new Date,k.setTime(k.getTime()+24*d.expires*60*60*1e3)):k=d.expires,j="; expires="+k.toUTCString()}var l=d.path?"; path="+d.path:"",m=d.domain?"; domain="+d.domain:"",n=d.secure?"; secure":"";document.cookie=[b,"=",encodeURIComponent(c),j,l,m,n].join("")}}(window.jQuery||window.Zepto),function(a,b){!function(a){"function"==typeof define&&define.amd?define(["jquery","jquery-mousewheel"],a):a(jQuery)}(function(c){var d="mCustomScrollbar",e="mCS",f=".mCustomScrollbar",g={setWidth:!1,setHeight:!1,setTop:0,setLeft:0,axis:"y",scrollbarPosition:"inside",scrollInertia:950,autoDraggerLength:!0,autoHideScrollbar:!1,autoExpandScrollbar:!1,alwaysShowScrollbar:0,snapAmount:null,snapOffset:0,mouseWheel:{enable:!0,scrollAmount:"auto",axis:"y",preventDefault:!1,deltaFactor:"auto",normalizeDelta:!1,invert:!1,disableOver:["select","option","keygen","datalist","textarea"]},scrollButtons:{enable:!1,scrollType:"stepless",scrollAmount:"auto"},keyboard:{enable:!0,scrollType:"stepless",scrollAmount:"auto"},contentTouchScroll:25,advanced:{autoExpandHorizontalScroll:!1,autoScrollOnFocus:"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",updateOnContentResize:!0,updateOnImageLoad:!0,updateOnSelectorChange:!1},theme:"light",callbacks:{onScrollStart:!1,onScroll:!1,onTotalScroll:!1,onTotalScrollBack:!1,whileScrolling:!1,onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0,onOverflowY:!1,onOverflowX:!1,onOverflowYNone:!1,onOverflowXNone:!1},live:!1,liveSelector:null},h=0,i={},j=function(a){i[a]&&(clearTimeout(i[a]),n._delete.call(null,i[a]))},k=a.attachEvent&&!a.addEventListener?1:0,l=!1,m={init:function(a){var a=c.extend(!0,{},g,a),b=n._selector.call(this);if(a.live){var d=a.liveSelector||this.selector||f,k=c(d);if("off"===a.live)return void j(d);i[d]=setTimeout(function(){k.mCustomScrollbar(a),"once"===a.live&&k.length&&j(d)},500)}else j(d);return a.setWidth=a.set_width?a.set_width:a.setWidth,a.setHeight=a.set_height?a.set_height:a.setHeight,a.axis=a.horizontalScroll?"x":n._findAxis.call(null,a.axis),a.scrollInertia=a.scrollInertia>0&&a.scrollInertia<17?17:a.scrollInertia,"object"!=typeof a.mouseWheel&&1==a.mouseWheel&&(a.mouseWheel={enable:!0,scrollAmount:"auto",axis:"y",preventDefault:!1,deltaFactor:"auto",normalizeDelta:!1,invert:!1}),a.mouseWheel.scrollAmount=a.mouseWheelPixels?a.mouseWheelPixels:a.mouseWheel.scrollAmount,a.mouseWheel.normalizeDelta=a.advanced.normalizeMouseWheelDelta?a.advanced.normalizeMouseWheelDelta:a.mouseWheel.normalizeDelta,a.scrollButtons.scrollType=n._findScrollButtonsType.call(null,a.scrollButtons.scrollType),n._theme.call(null,a),c(b).each(function(){var b=c(this);if(!b.data(e)){b.data(e,{idx:++h,opt:a,scrollRatio:{y:null,x:null},overflowed:null,contentReset:{y:null,x:null},bindEvents:!1,tweenRunning:!1,sequential:{},langDir:b.css("direction"),cbOffsets:null,trigger:null});var d=b.data(e).opt,f=b.data("mcs-axis"),g=b.data("mcs-scrollbar-position"),i=b.data("mcs-theme");f&&(d.axis=f),g&&(d.scrollbarPosition=g),i&&(d.theme=i,n._theme.call(null,d)),n._pluginMarkup.call(this),m.update.call(null,b)}})},update:function(a){var b=a||n._selector.call(this);return c(b).each(function(){var a=c(this);if(a.data(e)){var b=a.data(e),d=b.opt,f=c("#mCSB_"+b.idx+"_container"),g=[c("#mCSB_"+b.idx+"_dragger_vertical"),c("#mCSB_"+b.idx+"_dragger_horizontal")];if(!f.length)return;b.tweenRunning&&n._stop.call(null,a),a.hasClass("mCS_disabled")&&a.removeClass("mCS_disabled"),a.hasClass("mCS_destroyed")&&a.removeClass("mCS_destroyed"),n._maxHeight.call(this),n._expandContentHorizontally.call(this),"y"===d.axis||d.advanced.autoExpandHorizontalScroll||f.css("width",n._contentWidth(f.children())),b.overflowed=n._overflowed.call(this),n._scrollbarVisibility.call(this),d.autoDraggerLength&&n._setDraggerLength.call(this),n._scrollRatio.call(this),n._bindEvents.call(this);var h=[Math.abs(f[0].offsetTop),Math.abs(f[0].offsetLeft)];"x"!==d.axis&&(b.overflowed[0]?g[0].height()>g[0].parent().height()?n._resetContentPosition.call(this):(n._scrollTo.call(this,a,h[0].toString(),{dir:"y",dur:0,overwrite:"none"}),b.contentReset.y=null):(n._resetContentPosition.call(this),"y"===d.axis?n._unbindEvents.call(this):"yx"===d.axis&&b.overflowed[1]&&n._scrollTo.call(this,a,h[1].toString(),{dir:"x",dur:0,overwrite:"none"}))),"y"!==d.axis&&(b.overflowed[1]?g[1].width()>g[1].parent().width()?n._resetContentPosition.call(this):(n._scrollTo.call(this,a,h[1].toString(),{dir:"x",dur:0,overwrite:"none"}),b.contentReset.x=null):(n._resetContentPosition.call(this),"x"===d.axis?n._unbindEvents.call(this):"yx"===d.axis&&b.overflowed[0]&&n._scrollTo.call(this,a,h[0].toString(),{dir:"y",dur:0,overwrite:"none"}))),n._autoUpdate.call(this)}})},scrollTo:function(a,b){if("undefined"!=typeof a&&null!=a){var d=n._selector.call(this);return c(d).each(function(){var d=c(this);if(d.data(e)){var f=d.data(e),g=f.opt,h={trigger:"external",scrollInertia:g.scrollInertia,scrollEasing:"mcsEaseInOut",moveDragger:!1,timeout:60,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},i=c.extend(!0,{},h,b),j=n._arr.call(this,a),k=i.scrollInertia>0&&i.scrollInertia<17?17:i.scrollInertia;j[0]=n._to.call(this,j[0],"y"),j[1]=n._to.call(this,j[1],"x"),i.moveDragger&&(j[0]*=f.scrollRatio.y,j[1]*=f.scrollRatio.x),i.dur=k,setTimeout(function(){null!==j[0]&&"undefined"!=typeof j[0]&&"x"!==g.axis&&f.overflowed[0]&&(i.dir="y",i.overwrite="all",n._scrollTo.call(this,d,j[0].toString(),i)),null!==j[1]&&"undefined"!=typeof j[1]&&"y"!==g.axis&&f.overflowed[1]&&(i.dir="x",i.overwrite="none",n._scrollTo.call(this,d,j[1].toString(),i))},i.timeout)}})}},stop:function(){var a=n._selector.call(this);return c(a).each(function(){var a=c(this);a.data(e)&&n._stop.call(null,a)})},disable:function(a){var b=n._selector.call(this);return c(b).each(function(){var b=c(this);if(b.data(e)){var d=b.data(e);d.opt,n._autoUpdate.call(this,"remove"),n._unbindEvents.call(this),a&&n._resetContentPosition.call(this),n._scrollbarVisibility.call(this,!0),b.addClass("mCS_disabled")}})},destroy:function(){var a=n._selector.call(this);return c(a).each(function(){var b=c(this);if(b.data(e)){var f=b.data(e),g=f.opt,h=c("#mCSB_"+f.idx),i=c("#mCSB_"+f.idx+"_container"),k=c(".mCSB_"+f.idx+"_scrollbar");g.live&&j(a),n._autoUpdate.call(this,"remove"),n._unbindEvents.call(this),n._resetContentPosition.call(this),b.removeData(e),n._delete.call(null,this.mcs),k.remove(),h.replaceWith(i.contents()),b.removeClass(d+" _"+e+"_"+f.idx+" mCS-autoHide mCS-dir-rtl mCS_no_scrollbar mCS_disabled").addClass("mCS_destroyed")}})}},n={_selector:function(){return"object"!=typeof c(this)||c(this).length<1?f:this},_theme:function(a){var b=["rounded","rounded-dark","rounded-dots","rounded-dots-dark"],d=["rounded-dots","rounded-dots-dark","3d","3d-dark","3d-thick","3d-thick-dark","inset","inset-dark","inset-2","inset-2-dark","inset-3","inset-3-dark"],e=["minimal","minimal-dark"],f=["minimal","minimal-dark"],g=["minimal","minimal-dark"];a.autoDraggerLength=!(c.inArray(a.theme,b)>-1)&&a.autoDraggerLength,a.autoExpandScrollbar=!(c.inArray(a.theme,d)>-1)&&a.autoExpandScrollbar,a.scrollButtons.enable=!(c.inArray(a.theme,e)>-1)&&a.scrollButtons.enable,a.autoHideScrollbar=c.inArray(a.theme,f)>-1||a.autoHideScrollbar,a.scrollbarPosition=c.inArray(a.theme,g)>-1?"outside":a.scrollbarPosition},_findAxis:function(a){return"yx"===a||"xy"===a||"auto"===a?"yx":"x"===a||"horizontal"===a?"x":"y"},_findScrollButtonsType:function(a){return"stepped"===a||"pixels"===a||"step"===a||"click"===a?"stepped":"stepless"},_pluginMarkup:function(){var a=c(this),b=a.data(e),f=b.opt,g=f.autoExpandScrollbar?" mCSB_scrollTools_onDrag_expand":"",h=["<div id='mCSB_"+b.idx+"_scrollbar_vertical' class='mCSB_scrollTools mCSB_"+b.idx+"_scrollbar mCS-"+f.theme+" mCSB_scrollTools_vertical"+g+"'><div class='mCSB_draggerContainer'><div id='mCSB_"+b.idx+"_dragger_vertical' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>","<div id='mCSB_"+b.idx+"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_"+b.idx+"_scrollbar mCS-"+f.theme+" mCSB_scrollTools_horizontal"+g+"'><div class='mCSB_draggerContainer'><div id='mCSB_"+b.idx+"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"],i="yx"===f.axis?"mCSB_vertical_horizontal":"x"===f.axis?"mCSB_horizontal":"mCSB_vertical",j="yx"===f.axis?h[0]+h[1]:"x"===f.axis?h[1]:h[0],k="yx"===f.axis?"<div id='mCSB_"+b.idx+"_container_wrapper' class='mCSB_container_wrapper' />":"",l=f.autoHideScrollbar?" mCS-autoHide":"",m="x"!==f.axis&&"rtl"===b.langDir?" mCS-dir-rtl":"";f.setWidth&&a.css("width",f.setWidth),f.setHeight&&a.css("height",f.setHeight),f.setLeft="y"!==f.axis&&"rtl"===b.langDir?"989999px":f.setLeft,a.addClass(d+" _"+e+"_"+b.idx+l+m).wrapInner("<div id='mCSB_"+b.idx+"' class='mCustomScrollBox mCS-"+f.theme+" "+i+"'><div id='mCSB_"+b.idx+"_container' class='mCSB_container' style='position:relative; top:"+f.setTop+"; left:"+f.setLeft+";' dir="+b.langDir+" /></div>");var o=c("#mCSB_"+b.idx),p=c("#mCSB_"+b.idx+"_container");"y"===f.axis||f.advanced.autoExpandHorizontalScroll||p.css("width",n._contentWidth(p.children())),"outside"===f.scrollbarPosition?("static"===a.css("position")&&a.css("position","relative"),a.css("overflow","visible"),o.addClass("mCSB_outside").after(j)):(o.addClass("mCSB_inside").append(j),p.wrap(k)),n._scrollButtons.call(this);var q=[c("#mCSB_"+b.idx+"_dragger_vertical"),c("#mCSB_"+b.idx+"_dragger_horizontal")];q[0].css("min-height",q[0].height()),q[1].css("min-width",q[1].width())},_contentWidth:function(a){return Math.max.apply(Math,a.map(function(){return c(this).outerWidth(!0)}).get())},_expandContentHorizontally:function(){var a=c(this),b=a.data(e),d=b.opt,f=c("#mCSB_"+b.idx+"_container");d.advanced.autoExpandHorizontalScroll&&"y"!==d.axis&&f.css({position:"absolute",width:"auto"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(f[0].getBoundingClientRect().right+.4)-Math.floor(f[0].getBoundingClientRect().left),position:"relative"}).unwrap()},_scrollButtons:function(){var a=c(this),b=a.data(e),d=b.opt,f=c(".mCSB_"+b.idx+"_scrollbar:first"),g=["<a href='#' class='mCSB_buttonUp' oncontextmenu='return false;' />","<a href='#' class='mCSB_buttonDown' oncontextmenu='return false;' />","<a href='#' class='mCSB_buttonLeft' oncontextmenu='return false;' />","<a href='#' class='mCSB_buttonRight' oncontextmenu='return false;' />"],h=["x"===d.axis?g[2]:g[0],"x"===d.axis?g[3]:g[1],g[2],g[3]];d.scrollButtons.enable&&f.prepend(h[0]).append(h[1]).next(".mCSB_scrollTools").prepend(h[2]).append(h[3])},_maxHeight:function(){var a=c(this),b=a.data(e),d=(b.opt,c("#mCSB_"+b.idx)),f=a.css("max-height"),g=-1!==f.indexOf("%"),h=a.css("box-sizing");if("none"!==f){var i=g?a.parent().height()*parseInt(f)/100:parseInt(f);"border-box"===h&&(i-=a.innerHeight()-a.height()+(a.outerHeight()-a.innerHeight())),d.css("max-height",Math.round(i))}},_setDraggerLength:function(){var a=c(this),b=a.data(e),d=c("#mCSB_"+b.idx),f=c("#mCSB_"+b.idx+"_container"),g=[c("#mCSB_"+b.idx+"_dragger_vertical"),c("#mCSB_"+b.idx+"_dragger_horizontal")],h=[d.height()/f.outerHeight(!1),d.width()/f.outerWidth(!1)],i=[parseInt(g[0].css("min-height")),Math.round(h[0]*g[0].parent().height()),parseInt(g[1].css("min-width")),Math.round(h[1]*g[1].parent().width())],j=k&&i[1]<i[0]?i[0]:i[1],l=k&&i[3]<i[2]?i[2]:i[3];g[0].css({height:j,"max-height":g[0].parent().height()-10}).find(".mCSB_dragger_bar").css({"line-height":i[0]+"px"}),g[1].css({width:l,"max-width":g[1].parent().width()-10})},_scrollRatio:function(){var a=c(this),b=a.data(e),d=c("#mCSB_"+b.idx),f=c("#mCSB_"+b.idx+"_container"),g=[c("#mCSB_"+b.idx+"_dragger_vertical"),c("#mCSB_"+b.idx+"_dragger_horizontal")],h=[f.outerHeight(!1)-d.height(),f.outerWidth(!1)-d.width()],i=[h[0]/(g[0].parent().height()-g[0].height()),h[1]/(g[1].parent().width()-g[1].width())];b.scrollRatio={y:i[0],x:i[1]}},_onDragClasses:function(a,b,c){var d=c?"mCSB_dragger_onDrag_expanded":"",e=["mCSB_dragger_onDrag","mCSB_scrollTools_onDrag"],f=a.closest(".mCSB_scrollTools");"active"===b?(a.toggleClass(e[0]+" "+d),f.toggleClass(e[1]),a[0]._draggable=a[0]._draggable?0:1):a[0]._draggable||("hide"===b?(a.removeClass(e[0]),f.removeClass(e[1])):(a.addClass(e[0]),f.addClass(e[1])))},_overflowed:function(){var a=c(this),b=a.data(e),d=c("#mCSB_"+b.idx),f=c("#mCSB_"+b.idx+"_container"),g=null==b.overflowed?f.height():f.outerHeight(!1),h=null==b.overflowed?f.width():f.outerWidth(!1);return[g>d.height(),h>d.width()]},_resetContentPosition:function(){var a=c(this),b=a.data(e),d=b.opt,f=c("#mCSB_"+b.idx),g=c("#mCSB_"+b.idx+"_container"),h=[c("#mCSB_"+b.idx+"_dragger_vertical"),c("#mCSB_"+b.idx+"_dragger_horizontal")];if(n._stop(a),("x"!==d.axis&&!b.overflowed[0]||"y"===d.axis&&b.overflowed[0])&&(h[0].add(g).css("top",0),n._scrollTo(a,"_resetY")),"y"!==d.axis&&!b.overflowed[1]||"x"===d.axis&&b.overflowed[1]){var i=dx=0;"rtl"===b.langDir&&(i=f.width()-g.outerWidth(!1),dx=Math.abs(i/b.scrollRatio.x)),g.css("left",i),h[1].css("left",dx),n._scrollTo(a,"_resetX")}},_bindEvents:function(){function a(){g=setTimeout(function(){c.event.special.mousewheel?(clearTimeout(g),n._mousewheel.call(b[0])):a()},1e3)}var b=c(this),d=b.data(e),f=d.opt;if(!d.bindEvents){if(n._draggable.call(this),f.contentTouchScroll&&n._contentDraggable.call(this),f.mouseWheel.enable){var g;a()}n._draggerRail.call(this),n._wrapperScroll.call(this),f.advanced.autoScrollOnFocus&&n._focus.call(this),f.scrollButtons.enable&&n._buttons.call(this),f.keyboard.enable&&n._keyboard.call(this),
d.bindEvents=!0}},_unbindEvents:function(){var a=c(this),d=a.data(e),f=e+"_"+d.idx,g=".mCSB_"+d.idx+"_scrollbar",h=c("#mCSB_"+d.idx+",#mCSB_"+d.idx+"_container,#mCSB_"+d.idx+"_container_wrapper,"+g+" .mCSB_draggerContainer,#mCSB_"+d.idx+"_dragger_vertical,#mCSB_"+d.idx+"_dragger_horizontal,"+g+">a"),i=c("#mCSB_"+d.idx+"_container");d.bindEvents&&(c(b).unbind("."+f),h.each(function(){c(this).unbind("."+f)}),clearTimeout(a[0]._focusTimeout),n._delete.call(null,a[0]._focusTimeout),clearTimeout(d.sequential.step),n._delete.call(null,d.sequential.step),clearTimeout(i[0].onCompleteTimeout),n._delete.call(null,i[0].onCompleteTimeout),d.bindEvents=!1)},_scrollbarVisibility:function(a){var b=c(this),d=b.data(e),f=d.opt,g=c("#mCSB_"+d.idx+"_container_wrapper"),h=g.length?g:c("#mCSB_"+d.idx+"_container"),i=[c("#mCSB_"+d.idx+"_scrollbar_vertical"),c("#mCSB_"+d.idx+"_scrollbar_horizontal")],j=[i[0].find(".mCSB_dragger"),i[1].find(".mCSB_dragger")];"x"!==f.axis&&(d.overflowed[0]&&!a?(i[0].add(j[0]).add(i[0].children("a")).css("display","block"),h.removeClass("mCS_no_scrollbar_y mCS_y_hidden")):(f.alwaysShowScrollbar?(2!==f.alwaysShowScrollbar&&j[0].add(i[0].children("a")).css("display","none"),h.removeClass("mCS_y_hidden")):(i[0].css("display","none"),h.addClass("mCS_y_hidden")),h.addClass("mCS_no_scrollbar_y"))),"y"!==f.axis&&(d.overflowed[1]&&!a?(i[1].add(j[1]).add(i[1].children("a")).css("display","block"),h.removeClass("mCS_no_scrollbar_x mCS_x_hidden")):(f.alwaysShowScrollbar?(2!==f.alwaysShowScrollbar&&j[1].add(i[1].children("a")).css("display","none"),h.removeClass("mCS_x_hidden")):(i[1].css("display","none"),h.addClass("mCS_x_hidden")),h.addClass("mCS_no_scrollbar_x"))),d.overflowed[0]||d.overflowed[1]?b.removeClass("mCS_no_scrollbar"):b.addClass("mCS_no_scrollbar")},_coordinates:function(a){var b=a.type;switch(b){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return[a.originalEvent.pageY,a.originalEvent.pageX];case"touchstart":case"touchmove":case"touchend":var c=a.originalEvent.touches[0]||a.originalEvent.changedTouches[0];return[c.pageY,c.pageX];default:return[a.pageY,a.pageX]}},_draggable:function(){function a(a){var b=q.find("iframe");if(b.length){var c=a?"auto":"none";b.css("pointer-events",c)}}function d(a,b,c,d){if(q[0].idleTimer=m.scrollInertia<233?250:0,f.attr("id")===p[1])var e="x",g=(f[0].offsetLeft-b+d)*j.scrollRatio.x;else var e="y",g=(f[0].offsetTop-a+c)*j.scrollRatio.y;n._scrollTo(i,g.toString(),{dir:e,drag:!0})}var f,g,h,i=c(this),j=i.data(e),m=j.opt,o=e+"_"+j.idx,p=["mCSB_"+j.idx+"_dragger_vertical","mCSB_"+j.idx+"_dragger_horizontal"],q=c("#mCSB_"+j.idx+"_container"),r=c("#"+p[0]+",#"+p[1]);r.bind("mousedown."+o+" touchstart."+o+" pointerdown."+o+" MSPointerDown."+o,function(d){if(d.stopImmediatePropagation(),d.preventDefault(),n._mouseBtnLeft(d)){l=!0,k&&(b.onselectstart=function(){return!1}),a(!1),n._stop(i),f=c(this);var e=f.offset(),j=n._coordinates(d)[0]-e.top,o=n._coordinates(d)[1]-e.left,p=f.height()+e.top,q=f.width()+e.left;p>j&&j>0&&q>o&&o>0&&(g=j,h=o),n._onDragClasses(f,"active",m.autoExpandScrollbar)}}).bind("touchmove."+o,function(a){a.stopImmediatePropagation(),a.preventDefault();var b=f.offset(),c=n._coordinates(a)[0]-b.top,e=n._coordinates(a)[1]-b.left;d(g,h,c,e)}),c(b).bind("mousemove."+o+" pointermove."+o+" MSPointerMove."+o,function(a){if(f){var b=f.offset(),c=n._coordinates(a)[0]-b.top,e=n._coordinates(a)[1]-b.left;if(g===c)return;d(g,h,c,e)}}).add(r).bind("mouseup."+o+" touchend."+o+" pointerup."+o+" MSPointerUp."+o,function(){f&&(n._onDragClasses(f,"active",m.autoExpandScrollbar),f=null),l=!1,k&&(b.onselectstart=null),a(!0)})},_contentDraggable:function(){function a(a,b){var c=[1.5*b,2*b,b/1.5,b/2];return a>90?b>4?c[0]:c[3]:a>60?b>3?c[3]:c[2]:a>30?b>8?c[1]:b>6?c[0]:b>4?b:c[2]:b>8?b:c[3]}function b(a,b,c,d,e,f){a&&n._scrollTo(r,a.toString(),{dur:b,scrollEasing:c,dir:d,overwrite:e,drag:f})}var d,f,g,h,i,j,k,m,o,p,q,r=c(this),s=r.data(e),t=s.opt,u=e+"_"+s.idx,v=c("#mCSB_"+s.idx),w=c("#mCSB_"+s.idx+"_container"),x=[c("#mCSB_"+s.idx+"_dragger_vertical"),c("#mCSB_"+s.idx+"_dragger_horizontal")],y=[],z=[],A=0,B="yx"===t.axis?"none":"all";w.bind("touchstart."+u+" pointerdown."+u+" MSPointerDown."+u,function(a){if(n._pointerTouch(a)&&!l){var b=w.offset();d=n._coordinates(a)[0]-b.top,f=n._coordinates(a)[1]-b.left}}).bind("touchmove."+u+" pointermove."+u+" MSPointerMove."+u,function(a){if(n._pointerTouch(a)&&!l){a.stopImmediatePropagation(),j=n._getTime();var c=v.offset(),e=n._coordinates(a)[0]-c.top,g=n._coordinates(a)[1]-c.left,h="mcsLinearOut";if(y.push(e),z.push(g),s.overflowed[0])var i=x[0].parent().height()-x[0].height(),k=d-e>0&&e-d>-(i*s.scrollRatio.y);if(s.overflowed[1])var m=x[1].parent().width()-x[1].width(),o=f-g>0&&g-f>-(m*s.scrollRatio.x);(k||o)&&a.preventDefault(),p="yx"===t.axis?[d-e,f-g]:"x"===t.axis?[null,f-g]:[d-e,null],w[0].idleTimer=250,s.overflowed[0]&&b(p[0],A,h,"y","all",!0),s.overflowed[1]&&b(p[1],A,h,"x",B,!0)}}),v.bind("touchstart."+u+" pointerdown."+u+" MSPointerDown."+u,function(a){if(n._pointerTouch(a)&&!l){a.stopImmediatePropagation(),n._stop(r),i=n._getTime();var b=v.offset();g=n._coordinates(a)[0]-b.top,h=n._coordinates(a)[1]-b.left,y=[],z=[]}}).bind("touchend."+u+" pointerup."+u+" MSPointerUp."+u,function(c){if(n._pointerTouch(c)&&!l){c.stopImmediatePropagation(),k=n._getTime();var d=v.offset(),e=n._coordinates(c)[0]-d.top,f=n._coordinates(c)[1]-d.left;if(!(k-j>30)){o=1e3/(k-i);var r="mcsEaseOut",u=2.5>o,x=u?[y[y.length-2],z[z.length-2]]:[0,0];m=u?[e-x[0],f-x[1]]:[e-g,f-h];var A=[Math.abs(m[0]),Math.abs(m[1])];o=u?[Math.abs(m[0]/4),Math.abs(m[1]/4)]:[o,o];var C=[Math.abs(w[0].offsetTop)-m[0]*a(A[0]/o[0],o[0]),Math.abs(w[0].offsetLeft)-m[1]*a(A[1]/o[1],o[1])];p="yx"===t.axis?[C[0],C[1]]:"x"===t.axis?[null,C[1]]:[C[0],null],q=[4*A[0]+t.scrollInertia,4*A[1]+t.scrollInertia];var D=parseInt(t.contentTouchScroll)||0;p[0]=A[0]>D?p[0]:0,p[1]=A[1]>D?p[1]:0,s.overflowed[0]&&b(p[0],q[0],r,"y",B,!1),s.overflowed[1]&&b(p[1],q[1],r,"x",B,!1)}}})},_mousewheel:function(){function a(a){var b=null;try{var c=a.contentDocument||a.contentWindow.document;b=c.body.innerHTML}catch(a){}return null!==b}var b=c(this),d=b.data(e);if(d){var f=d.opt,g=e+"_"+d.idx,h=c("#mCSB_"+d.idx),i=[c("#mCSB_"+d.idx+"_dragger_vertical"),c("#mCSB_"+d.idx+"_dragger_horizontal")],j=c("#mCSB_"+d.idx+"_container").find("iframe"),l=h;j.length&&j.each(function(){var b=this;a(b)&&(l=l.add(c(b).contents().find("body")))}),l.bind("mousewheel."+g,function(a,e){if(n._stop(b),!n._disableMousewheel(b,a.target)){var g="auto"!==f.mouseWheel.deltaFactor?parseInt(f.mouseWheel.deltaFactor):k&&a.deltaFactor<100?100:a.deltaFactor||100;if("x"===f.axis||"x"===f.mouseWheel.axis)var j="x",l=[Math.round(g*d.scrollRatio.x),parseInt(f.mouseWheel.scrollAmount)],m="auto"!==f.mouseWheel.scrollAmount?l[1]:l[0]>=h.width()?.9*h.width():l[0],o=Math.abs(c("#mCSB_"+d.idx+"_container")[0].offsetLeft),p=i[1][0].offsetLeft,q=i[1].parent().width()-i[1].width(),r=a.deltaX||a.deltaY||e;else var j="y",l=[Math.round(g*d.scrollRatio.y),parseInt(f.mouseWheel.scrollAmount)],m="auto"!==f.mouseWheel.scrollAmount?l[1]:l[0]>=h.height()?.9*h.height():l[0],o=Math.abs(c("#mCSB_"+d.idx+"_container")[0].offsetTop),p=i[0][0].offsetTop,q=i[0].parent().height()-i[0].height(),r=a.deltaY||e;"y"===j&&!d.overflowed[0]||"x"===j&&!d.overflowed[1]||(f.mouseWheel.invert&&(r=-r),f.mouseWheel.normalizeDelta&&(r=0>r?-1:1),(r>0&&0!==p||0>r&&p!==q||f.mouseWheel.preventDefault)&&(a.stopImmediatePropagation(),a.preventDefault()),n._scrollTo(b,(o-r*m).toString(),{dir:j}))}})}},_disableMousewheel:function(a,b){var d=b.nodeName.toLowerCase(),f=a.data(e).opt.mouseWheel.disableOver,g=["select","textarea"];return c.inArray(d,f)>-1&&!(c.inArray(d,g)>-1&&!c(b).is(":focus"))},_draggerRail:function(){var a=c(this),b=a.data(e),d=e+"_"+b.idx,f=c("#mCSB_"+b.idx+"_container"),g=f.parent(),h=c(".mCSB_"+b.idx+"_scrollbar .mCSB_draggerContainer");h.bind("touchstart."+d+" pointerdown."+d+" MSPointerDown."+d,function(){l=!0}).bind("touchend."+d+" pointerup."+d+" MSPointerUp."+d,function(){l=!1}).bind("click."+d,function(d){if(c(d.target).hasClass("mCSB_draggerContainer")||c(d.target).hasClass("mCSB_draggerRail")){n._stop(a);var e=c(this),h=e.find(".mCSB_dragger");if(e.parent(".mCSB_scrollTools_horizontal").length>0){if(!b.overflowed[1])return;var i="x",j=d.pageX>h.offset().left?-1:1,k=Math.abs(f[0].offsetLeft)-.9*j*g.width()}else{if(!b.overflowed[0])return;var i="y",j=d.pageY>h.offset().top?-1:1,k=Math.abs(f[0].offsetTop)-.9*j*g.height()}n._scrollTo(a,k.toString(),{dir:i,scrollEasing:"mcsEaseInOut"})}})},_focus:function(){var a=c(this),d=a.data(e),f=d.opt,g=e+"_"+d.idx,h=c("#mCSB_"+d.idx+"_container"),i=h.parent();h.bind("focusin."+g,function(){var d=c(b.activeElement),e=h.find(".mCustomScrollBox").length,g=0;d.is(f.advanced.autoScrollOnFocus)&&(n._stop(a),clearTimeout(a[0]._focusTimeout),a[0]._focusTimer=e?(g+17)*e:0,a[0]._focusTimeout=setTimeout(function(){var b=[d.offset().top-h.offset().top,d.offset().left-h.offset().left],c=[h[0].offsetTop,h[0].offsetLeft],e=[c[0]+b[0]>=0&&c[0]+b[0]<i.height()-d.outerHeight(!1),c[1]+b[1]>=0&&c[0]+b[1]<i.width()-d.outerWidth(!1)],j="yx"!==f.axis||e[0]||e[1]?"all":"none";"x"===f.axis||e[0]||n._scrollTo(a,b[0].toString(),{dir:"y",scrollEasing:"mcsEaseInOut",overwrite:j,dur:g}),"y"===f.axis||e[1]||n._scrollTo(a,b[1].toString(),{dir:"x",scrollEasing:"mcsEaseInOut",overwrite:j,dur:g})},a[0]._focusTimer))})},_wrapperScroll:function(){var a=c(this),b=a.data(e),d=e+"_"+b.idx,f=c("#mCSB_"+b.idx+"_container").parent();f.bind("scroll."+d,function(){f.scrollTop(0).scrollLeft(0)})},_buttons:function(){var a=c(this),b=a.data(e),d=b.opt,f=b.sequential,g=e+"_"+b.idx,h=(c("#mCSB_"+b.idx+"_container"),".mCSB_"+b.idx+"_scrollbar"),i=c(h+">a");i.bind("mousedown."+g+" touchstart."+g+" pointerdown."+g+" MSPointerDown."+g+" mouseup."+g+" touchend."+g+" pointerup."+g+" MSPointerUp."+g+" mouseout."+g+" pointerout."+g+" MSPointerOut."+g+" click."+g,function(e){function g(b,c){f.scrollAmount=d.snapAmount||d.scrollButtons.scrollAmount,n._sequentialScroll.call(this,a,b,c)}if(e.preventDefault(),n._mouseBtnLeft(e)){var h=c(this).attr("class");switch(f.type=d.scrollButtons.scrollType,e.type){case"mousedown":case"touchstart":case"pointerdown":case"MSPointerDown":if("stepped"===f.type)return;l=!0,b.tweenRunning=!1,g("on",h);break;case"mouseup":case"touchend":case"pointerup":case"MSPointerUp":case"mouseout":case"pointerout":case"MSPointerOut":if("stepped"===f.type)return;l=!1,f.dir&&g("off",h);break;case"click":if("stepped"!==f.type||b.tweenRunning)return;g("on",h)}}})},_keyboard:function(){var a=c(this),d=a.data(e),f=d.opt,g=d.sequential,h=e+"_"+d.idx,i=c("#mCSB_"+d.idx),j=c("#mCSB_"+d.idx+"_container"),k=j.parent(),l="input,textarea,select,datalist,keygen,[contenteditable='true']";i.attr("tabindex","0").bind("blur."+h+" keydown."+h+" keyup."+h,function(e){function h(b,c){g.type=f.keyboard.scrollType,g.scrollAmount=f.snapAmount||f.keyboard.scrollAmount,"stepped"===g.type&&d.tweenRunning||n._sequentialScroll.call(this,a,b,c)}switch(e.type){case"blur":d.tweenRunning&&g.dir&&h("off",null);break;case"keydown":case"keyup":var i=e.keyCode?e.keyCode:e.which,m="on";if("x"!==f.axis&&(38===i||40===i)||"y"!==f.axis&&(37===i||39===i)){if((38===i||40===i)&&!d.overflowed[0]||(37===i||39===i)&&!d.overflowed[1])return;"keyup"===e.type&&(m="off"),c(b.activeElement).is(l)||(e.preventDefault(),e.stopImmediatePropagation(),h(m,i))}else if(33===i||34===i){if((d.overflowed[0]||d.overflowed[1])&&(e.preventDefault(),e.stopImmediatePropagation()),"keyup"===e.type){n._stop(a);var o=34===i?-1:1;if("x"===f.axis||"yx"===f.axis&&d.overflowed[1]&&!d.overflowed[0])var p="x",q=Math.abs(j[0].offsetLeft)-.9*o*k.width();else var p="y",q=Math.abs(j[0].offsetTop)-.9*o*k.height();n._scrollTo(a,q.toString(),{dir:p,scrollEasing:"mcsEaseInOut"})}}else if((35===i||36===i)&&!c(b.activeElement).is(l)&&((d.overflowed[0]||d.overflowed[1])&&(e.preventDefault(),e.stopImmediatePropagation()),"keyup"===e.type)){if("x"===f.axis||"yx"===f.axis&&d.overflowed[1]&&!d.overflowed[0])var p="x",q=35===i?Math.abs(k.width()-j.outerWidth(!1)):0;else var p="y",q=35===i?Math.abs(k.height()-j.outerHeight(!1)):0;n._scrollTo(a,q.toString(),{dir:p,scrollEasing:"mcsEaseInOut"})}}})},_sequentialScroll:function(a,b,d){function f(b){var c="stepped"!==j.type,d=b?c?i.scrollInertia/1.5:i.scrollInertia:1e3/60,e=b?c?7.5:40:2.5,g=[Math.abs(k[0].offsetTop),Math.abs(k[0].offsetLeft)],l=[h.scrollRatio.y>10?10:h.scrollRatio.y,h.scrollRatio.x>10?10:h.scrollRatio.x],m="x"===j.dir[0]?g[1]+j.dir[1]*l[1]*e:g[0]+j.dir[1]*l[0]*e,o="x"===j.dir[0]?g[1]+j.dir[1]*parseInt(j.scrollAmount):g[0]+j.dir[1]*parseInt(j.scrollAmount),p="auto"!==j.scrollAmount?o:m,q=b?c?"mcsLinearOut":"mcsEaseInOut":"mcsLinear",r=!!b;return b&&17>d&&(p="x"===j.dir[0]?g[1]:g[0]),n._scrollTo(a,p.toString(),{dir:j.dir[0],scrollEasing:q,dur:d,onComplete:r}),b?void(j.dir=!1):(clearTimeout(j.step),void(j.step=setTimeout(function(){f()},d)))}function g(){clearTimeout(j.step),n._stop(a)}var h=a.data(e),i=h.opt,j=h.sequential,k=c("#mCSB_"+h.idx+"_container"),l="stepped"===j.type;switch(b){case"on":if(j.dir=["mCSB_buttonRight"===d||"mCSB_buttonLeft"===d||39===d||37===d?"x":"y","mCSB_buttonUp"===d||"mCSB_buttonLeft"===d||38===d||37===d?-1:1],n._stop(a),n._isNumeric(d)&&"stepped"===j.type)return;f(l);break;case"off":g(),(l||h.tweenRunning&&j.dir)&&f(!0)}},_arr:function(a){var b=c(this).data(e).opt,d=[];return"function"==typeof a&&(a=a()),a instanceof Array?d=a.length>1?[a[0],a[1]]:"x"===b.axis?[null,a[0]]:[a[0],null]:(d[0]=a.y?a.y:a.x||"x"===b.axis?null:a,d[1]=a.x?a.x:a.y||"y"===b.axis?null:a),"function"==typeof d[0]&&(d[0]=d[0]()),"function"==typeof d[1]&&(d[1]=d[1]()),d},_to:function(a,b){if(null!=a&&"undefined"!=typeof a){var d=c(this),f=d.data(e),g=f.opt,h=c("#mCSB_"+f.idx+"_container"),i=h.parent(),j=typeof a;b||(b="x"===g.axis?"x":"y");var k="x"===b?h.outerWidth(!1):h.outerHeight(!1),l="x"===b?h.offset().left:h.offset().top,o="x"===b?h[0].offsetLeft:h[0].offsetTop,p="x"===b?"left":"top";switch(j){case"function":return a();case"object":if(a.nodeType)var q="x"===b?c(a).offset().left:c(a).offset().top;else if(a.jquery){if(!a.length)return;var q="x"===b?a.offset().left:a.offset().top}return q-l;case"string":case"number":if(n._isNumeric.call(null,a))return Math.abs(a);if(-1!==a.indexOf("%"))return Math.abs(k*parseInt(a)/100);if(-1!==a.indexOf("-="))return Math.abs(o-parseInt(a.split("-=")[1]));if(-1!==a.indexOf("+=")){var r=o+parseInt(a.split("+=")[1]);return r>=0?0:Math.abs(r)}if(-1!==a.indexOf("px")&&n._isNumeric.call(null,a.split("px")[0]))return Math.abs(a.split("px")[0]);if("top"===a||"left"===a)return 0;if("bottom"===a)return Math.abs(i.height()-h.outerHeight(!1));if("right"===a)return Math.abs(i.width()-h.outerWidth(!1));if("first"===a||"last"===a){var s=h.find(":"+a),q="x"===b?c(s).offset().left:c(s).offset().top;return q-l}if(c(a).length){var q="x"===b?c(a).offset().left:c(a).offset().top;return q-l}return h.css(p,a),void m.update.call(null,d[0])}}},_autoUpdate:function(a){function b(){clearTimeout(l[0].autoUpdate),l[0].autoUpdate=setTimeout(function(){return k.advanced.updateOnSelectorChange&&(o=g(),o!==u)?(h(),void(u=o)):(k.advanced.updateOnContentResize&&(p=[l.outerHeight(!1),l.outerWidth(!1),r.height(),r.width(),t()[0],t()[1]],(p[0]!==v[0]||p[1]!==v[1]||p[2]!==v[2]||p[3]!==v[3]||p[4]!==v[4]||p[5]!==v[5])&&(h(),v=p)),k.advanced.updateOnImageLoad&&(q=d(),q!==w&&(l.find("img").each(function(){f(this.src)}),w=q)),void((k.advanced.updateOnSelectorChange||k.advanced.updateOnContentResize||k.advanced.updateOnImageLoad)&&b()))},60)}function d(){var a=0;return k.advanced.updateOnImageLoad&&(a=l.find("img").length),a}function f(a){function b(a,b){return function(){return b.apply(a,arguments)}}function c(){this.onload=null,h()}var d=new Image;d.onload=b(d,c),d.src=a}function g(){k.advanced.updateOnSelectorChange===!0&&(k.advanced.updateOnSelectorChange="*");var a=0,b=l.find(k.advanced.updateOnSelectorChange);return k.advanced.updateOnSelectorChange&&b.length>0&&b.each(function(){a+=c(this).height()+c(this).width()}),a}function h(){clearTimeout(l[0].autoUpdate),m.update.call(null,i[0])}var i=c(this),j=i.data(e),k=j.opt,l=c("#mCSB_"+j.idx+"_container");if(a)return clearTimeout(l[0].autoUpdate),void n._delete.call(null,l[0].autoUpdate);var o,p,q,r=l.parent(),s=[c("#mCSB_"+j.idx+"_scrollbar_vertical"),c("#mCSB_"+j.idx+"_scrollbar_horizontal")],t=function(){return[s[0].is(":visible")?s[0].outerHeight(!0):0,s[1].is(":visible")?s[1].outerWidth(!0):0]},u=g(),v=[l.outerHeight(!1),l.outerWidth(!1),r.height(),r.width(),t()[0],t()[1]],w=d();b()},_snapAmount:function(a,b,c){return Math.round(a/b)*b-c},_stop:function(a){var b=a.data(e),d=c("#mCSB_"+b.idx+"_container,#mCSB_"+b.idx+"_container_wrapper,#mCSB_"+b.idx+"_dragger_vertical,#mCSB_"+b.idx+"_dragger_horizontal");d.each(function(){n._stopTween.call(this)})},_scrollTo:function(a,b,d){function f(a){return i&&j.callbacks[a]&&"function"==typeof j.callbacks[a]}function g(){return[j.callbacks.alwaysTriggerOffsets||t>=u[0]+w,j.callbacks.alwaysTriggerOffsets||-x>=t]}function h(){var b=[o[0].offsetTop,o[0].offsetLeft],c=[r[0].offsetTop,r[0].offsetLeft],e=[o.outerHeight(!1),o.outerWidth(!1)],f=[m.height(),m.width()];a[0].mcs={content:o,top:b[0],left:b[1],draggerTop:c[0],draggerLeft:c[1],topPct:Math.round(100*Math.abs(b[0])/(Math.abs(e[0])-f[0])),leftPct:Math.round(100*Math.abs(b[1])/(Math.abs(e[1])-f[1])),direction:d.dir}}var i=a.data(e),j=i.opt,k={trigger:"internal",dir:"y",scrollEasing:"mcsEaseOut",drag:!1,dur:j.scrollInertia,overwrite:"all",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},d=c.extend(k,d),l=[d.dur,d.drag?0:d.dur],m=c("#mCSB_"+i.idx),o=c("#mCSB_"+i.idx+"_container"),p=j.callbacks.onTotalScrollOffset?n._arr.call(a,j.callbacks.onTotalScrollOffset):[0,0],q=j.callbacks.onTotalScrollBackOffset?n._arr.call(a,j.callbacks.onTotalScrollBackOffset):[0,0];if(i.trigger=d.trigger,"_resetY"!==b||i.contentReset.y||(f("onOverflowYNone")&&j.callbacks.onOverflowYNone.call(a[0]),i.contentReset.y=1),"_resetX"!==b||i.contentReset.x||(f("onOverflowXNone")&&j.callbacks.onOverflowXNone.call(a[0]),i.contentReset.x=1),"_resetY"!==b&&"_resetX"!==b){switch(!i.contentReset.y&&a[0].mcs||!i.overflowed[0]||(f("onOverflowY")&&j.callbacks.onOverflowY.call(a[0]),i.contentReset.x=null),!i.contentReset.x&&a[0].mcs||!i.overflowed[1]||(f("onOverflowX")&&j.callbacks.onOverflowX.call(a[0]),i.contentReset.x=null),j.snapAmount&&(b=n._snapAmount(b,j.snapAmount,j.snapOffset)),d.dir){case"x":var r=c("#mCSB_"+i.idx+"_dragger_horizontal"),s="left",t=o[0].offsetLeft,u=[m.width()-o.outerWidth(!1),r.parent().width()-r.width()],v=[b,0===b?0:b/i.scrollRatio.x],w=p[1],x=q[1],y=w>0?w/i.scrollRatio.x:0,z=x>0?x/i.scrollRatio.x:0;break;case"y":var r=c("#mCSB_"+i.idx+"_dragger_vertical"),s="top",t=o[0].offsetTop,u=[m.height()-o.outerHeight(!1),r.parent().height()-r.height()],v=[b,0===b?0:b/i.scrollRatio.y],w=p[0],x=q[0],y=w>0?w/i.scrollRatio.y:0,z=x>0?x/i.scrollRatio.y:0}v[1]<0||0===v[0]&&0===v[1]?v=[0,0]:v[1]>=u[1]?v=[u[0],u[1]]:v[0]=-v[0],a[0].mcs||h(),clearTimeout(o[0].onCompleteTimeout),(i.tweenRunning||!(0===t&&v[0]>=0||t===u[0]&&v[0]<=u[0]))&&(n._tweenTo.call(null,r[0],s,Math.round(v[1]),l[1],d.scrollEasing),n._tweenTo.call(null,o[0],s,Math.round(v[0]),l[0],d.scrollEasing,d.overwrite,{onStart:function(){d.callbacks&&d.onStart&&!i.tweenRunning&&(f("onScrollStart")&&(h(),j.callbacks.onScrollStart.call(a[0])),i.tweenRunning=!0,n._onDragClasses(r),i.cbOffsets=g())},onUpdate:function(){d.callbacks&&d.onUpdate&&f("whileScrolling")&&(h(),j.callbacks.whileScrolling.call(a[0]))},onComplete:function(){if(d.callbacks&&d.onComplete){"yx"===j.axis&&clearTimeout(o[0].onCompleteTimeout);var b=o[0].idleTimer||0;o[0].onCompleteTimeout=setTimeout(function(){f("onScroll")&&(h(),j.callbacks.onScroll.call(a[0])),f("onTotalScroll")&&v[1]>=u[1]-y&&i.cbOffsets[0]&&(h(),j.callbacks.onTotalScroll.call(a[0])),f("onTotalScrollBack")&&v[1]<=z&&i.cbOffsets[1]&&(h(),j.callbacks.onTotalScrollBack.call(a[0])),i.tweenRunning=!1,o[0].idleTimer=0,n._onDragClasses(r,"hide")},b)}}}))}},_tweenTo:function(b,c,d,e,f,g,h){function i(){b._mcsstop||(u||q.call(),u=n._getTime()-t,j(),u>=b._mcstime&&(b._mcstime=u>b._mcstime?u+o-(u-b._mcstime):u+o-1,b._mcstime<u+1&&(b._mcstime=u+1)),b._mcstime<e?b._mcsid=p(i):s.call())}function j(){e>0?(b._mcscurrVal=m(b._mcstime,v,x,e,f),w[c]=Math.round(b._mcscurrVal)+"px"):w[c]=d+"px",r.call()}function k(){o=1e3/60,b._mcstime=u+o,p=a.requestAnimationFrame?a.requestAnimationFrame:function(a){return j(),setTimeout(a,.01)},b._mcsid=p(i)}function l(){null!=b._mcsid&&(a.requestAnimationFrame?a.cancelAnimationFrame(b._mcsid):clearTimeout(b._mcsid),b._mcsid=null)}function m(a,b,c,d,e){switch(e){case"linear":case"mcsLinear":return c*a/d+b;case"mcsLinearOut":return a/=d,a--,c*Math.sqrt(1-a*a)+b;case"easeInOutSmooth":return a/=d/2,1>a?c/2*a*a+b:(a--,-c/2*(a*(a-2)-1)+b);case"easeInOutStrong":return a/=d/2,1>a?c/2*Math.pow(2,10*(a-1))+b:(a--,c/2*(-Math.pow(2,-10*a)+2)+b);case"easeInOut":case"mcsEaseInOut":return a/=d/2,1>a?c/2*a*a*a+b:(a-=2,c/2*(a*a*a+2)+b);case"easeOutSmooth":return a/=d,a--,-c*(a*a*a*a-1)+b;case"easeOutStrong":return c*(-Math.pow(2,-10*a/d)+1)+b;case"easeOut":case"mcsEaseOut":default:var f=(a/=d)*a,g=f*a;return b+c*(.499999999999997*g*f+-2.5*f*f+5.5*g+-6.5*f+4*a)}}var o,p,h=h||{},q=h.onStart||function(){},r=h.onUpdate||function(){},s=h.onComplete||function(){},t=n._getTime(),u=0,v=b.offsetTop,w=b.style;"left"===c&&(v=b.offsetLeft);var x=d-v;b._mcsstop=0,"none"!==g&&l(),k()},_getTime:function(){return a.performance&&a.performance.now?a.performance.now():a.performance&&a.performance.webkitNow?a.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},_stopTween:function(){var b=this;null!=b._mcsid&&(a.requestAnimationFrame?a.cancelAnimationFrame(b._mcsid):clearTimeout(b._mcsid),b._mcsid=null,b._mcsstop=1)},_delete:function(a){try{delete a}catch(b){a=null}},_mouseBtnLeft:function(a){return!(a.which&&1!==a.which)},_pointerTouch:function(a){var b=a.originalEvent.pointerType;return!(b&&"touch"!==b&&2!==b)},_isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)}};c.fn[d]=function(a){return m[a]?m[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?void c.error("Method "+a+" does not exist"):m.init.apply(this,arguments)},c[d]=function(a){return m[a]?m[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?void c.error("Method "+a+" does not exist"):m.init.apply(this,arguments)},c[d].defaults=g,a[d]=!0,c(a).load(function(){c(f)[d]()})})}(window,document),function(a){var b=-1,c=-1,d=function(a){return parseFloat(a)||0},e=function(b){var c=null,e=[];return a(b).each(function(){var b=a(this),f=b.offset().top-d(b.css("margin-top")),g=0<e.length?e[e.length-1]:null;null===g?e.push(b):1>=Math.floor(Math.abs(c-f))?e[e.length-1]=g.add(b):e.push(b),c=f}),e},f=function(b){var c={byRow:!0,property:"height",target:null,remove:!1};return"object"==typeof b?a.extend(c,b):("boolean"==typeof b?c.byRow=b:"remove"===b&&(c.remove=!0),c)},g=a.fn.matchHeight=function(b){if(b=f(b),b.remove){var c=this;return this.css(b.property,""),a.each(g._groups,function(a,b){b.elements=b.elements.not(c)}),this}return 1>=this.length&&!b.target?this:(g._groups.push({elements:this,options:b}),g._apply(this,b),this)};g._groups=[],g._throttle=80,g._maintainScroll=!1,g._beforeUpdate=null,g._afterUpdate=null,g._apply=function(b,c){var h=f(c),i=a(b),j=[i],k=a(window).scrollTop(),l=a("html").outerHeight(!0),m=i.parents().filter(":hidden");return m.each(function(){var b=a(this);b.data("style-cache",b.attr("style"))}),m.css("display","block"),h.byRow&&!h.target&&(i.each(function(){var b=a(this),c="inline-block"===b.css("display")?"inline-block":"block";b.data("style-cache",b.attr("style")),b.css({display:c,"padding-top":"0","padding-bottom":"0","margin-top":"0","margin-bottom":"0","border-top-width":"0","border-bottom-width":"0",height:"100px"})}),j=e(i),i.each(function(){var b=a(this);b.attr("style",b.data("style-cache")||"")})),a.each(j,function(b,c){var e=a(c),f=0;if(h.target)f=h.target.outerHeight(!1);else{if(h.byRow&&1>=e.length)return void e.css(h.property,"");e.each(function(){var b=a(this),c={display:"inline-block"===b.css("display")?"inline-block":"block"};c[h.property]="",b.css(c),b.outerHeight(!1)>f&&(f=b.outerHeight(!1)),b.css("display","")})}e.each(function(){var b=a(this),c=0;h.target&&b.is(h.target)||("border-box"!==b.css("box-sizing")&&(c+=d(b.css("border-top-width"))+d(b.css("border-bottom-width")),c+=d(b.css("padding-top"))+d(b.css("padding-bottom"))),b.css(h.property,f-c))})}),m.each(function(){var b=a(this);b.attr("style",b.data("style-cache")||null)}),g._maintainScroll&&a(window).scrollTop(k/l*a("html").outerHeight(!0)),this},g._applyDataApi=function(){var b={};a("[data-match-height], [data-mh]").each(function(){var c=a(this),d=c.attr("data-mh")||c.attr("data-match-height");b[d]=d in b?b[d].add(c):c}),a.each(b,function(){this.matchHeight(!0)})};var h=function(b){g._beforeUpdate&&g._beforeUpdate(b,g._groups),a.each(g._groups,function(){g._apply(this.elements,this.options)}),g._afterUpdate&&g._afterUpdate(b,g._groups)};g._update=function(d,e){if(e&&"resize"===e.type){var f=a(window).width();if(f===b)return;b=f}d?-1===c&&(c=setTimeout(function(){h(e),c=-1},g._throttle)):h(e)},a(g._applyDataApi),a(window).bind("load",function(a){g._update(!1,a)}),a(window).bind("resize orientationchange",function(a){g._update(!0,a)})}(jQuery),!function(a){function b(){var a=h();a!==i&&(i=a,l.trigger("orientationchange"))}function c(b,c,d,e){var f=d.type;d.type=c,a.event.dispatch.call(b,d,e),d.type=f}a.attrFn=a.attrFn||{};var d=navigator.userAgent.toLowerCase(),e=d.indexOf("chrome")>-1&&(d.indexOf("windows")>-1||d.indexOf("macintosh")>-1||d.indexOf("linux")>-1)&&d.indexOf("mobile")<0&&d.indexOf("android")<0,f={tap_pixel_range:5,swipe_h_threshold:50,swipe_v_threshold:50,taphold_threshold:750,doubletap_int:500,touch_capable:"ontouchstart"in window&&!e,orientation_support:"orientation"in window&&"onorientationchange"in window,startevent:"ontouchstart"in window&&!e?"touchstart":"mousedown",endevent:"ontouchstart"in window&&!e?"touchend":"mouseup",moveevent:"ontouchstart"in window&&!e?"touchmove":"mousemove",tapevent:"ontouchstart"in window&&!e?"tap":"click",scrollevent:"ontouchstart"in window&&!e?"touchmove":"scroll",hold_timer:null,tap_timer:null};a.isTouchCapable=function(){return f.touch_capable},a.getStartEvent=function(){return f.startevent},a.getEndEvent=function(){return f.endevent},a.getMoveEvent=function(){return f.moveevent},a.getTapEvent=function(){return f.tapevent},a.getScrollEvent=function(){return f.scrollevent},a.each(["tapstart","tapend","tapmove","tap","tap2","tap3","tap4","singletap","doubletap","taphold","swipe","swipeup","swiperight","swipedown","swipeleft","swipeend","scrollstart","scrollend","orientationchange"],function(b,c){a.fn[c]=function(a){return a?this.on(c,a):this.trigger(c)},a.attrFn[c]=!0}),a.event.special.tapstart={setup:function(){var b=this,d=a(b);d.on(f.startevent,function a(e){if(d.data("callee",a),e.which&&1!==e.which)return!1;var g=e.originalEvent,h={position:{x:f.touch_capable?g.touches[0].screenX:e.screenX,y:f.touch_capable?g.touches[0].screenY:e.screenY},offset:{x:Math.round(f.touch_capable?g.changedTouches[0].pageX-d.offset().left:e.pageX-d.offset().left),y:Math.round(f.touch_capable?g.changedTouches[0].pageY-d.offset().top:e.pageY-d.offset().top)},time:Date.now(),target:e.target};return c(b,"tapstart",e,h),!0})},remove:function(){a(this).off(f.startevent,a(this).data.callee)}},a.event.special.tapmove={setup:function(){var b=this,d=a(b);d.on(f.moveevent,function a(e){d.data("callee",a);var g=e.originalEvent,h={position:{x:f.touch_capable?g.touches[0].screenX:e.screenX,y:f.touch_capable?g.touches[0].screenY:e.screenY},offset:{x:Math.round(f.touch_capable?g.changedTouches[0].pageX-d.offset().left:e.pageX-d.offset().left),y:Math.round(f.touch_capable?g.changedTouches[0].pageY-d.offset().top:e.pageY-d.offset().top)},time:Date.now(),target:e.target};return c(b,"tapmove",e,h),!0})},remove:function(){a(this).off(f.moveevent,a(this).data.callee)}},a.event.special.tapend={setup:function(){var b=this,d=a(b);d.on(f.endevent,function a(e){d.data("callee",a);var g=e.originalEvent,h={position:{x:f.touch_capable?g.changedTouches[0].screenX:e.screenX,y:f.touch_capable?g.changedTouches[0].screenY:e.screenY},offset:{x:Math.round(f.touch_capable?g.changedTouches[0].pageX-d.offset().left:e.pageX-d.offset().left),y:Math.round(f.touch_capable?g.changedTouches[0].pageY-d.offset().top:e.pageY-d.offset().top)},time:Date.now(),target:e.target};return c(b,"tapend",e,h),!0})},remove:function(){a(this).off(f.endevent,a(this).data.callee)}},a.event.special.taphold={setup:function(){var b,d=this,e=a(d),g={x:0,y:0},h=0,i=0;e.on(f.startevent,function a(j){if(j.which&&1!==j.which)return!1;e.data("tapheld",!1),b=j.target;var k=j.originalEvent,l=Date.now(),m={x:f.touch_capable?k.touches[0].screenX:j.screenX,y:f.touch_capable?k.touches[0].screenY:j.screenY},n={x:f.touch_capable?k.touches[0].pageX-k.touches[0].target.offsetLeft:j.offsetX,y:f.touch_capable?k.touches[0].pageY-k.touches[0].target.offsetTop:j.offsetY};return g.x=j.originalEvent.targetTouches?j.originalEvent.targetTouches[0].pageX:j.pageX,g.y=j.originalEvent.targetTouches?j.originalEvent.targetTouches[0].pageY:j.pageY,h=g.x,i=g.y,f.hold_timer=window.setTimeout(function(){var o=g.x-h,p=g.y-i;if(j.target==b&&(g.x==h&&g.y==i||o>=-f.tap_pixel_range&&o<=f.tap_pixel_range&&p>=-f.tap_pixel_range&&p<=f.tap_pixel_range)){e.data("tapheld",!0);var q=Date.now(),r={x:f.touch_capable?k.touches[0].screenX:j.screenX,y:f.touch_capable?k.touches[0].screenY:j.screenY},s={x:Math.round(f.touch_capable?k.changedTouches[0].pageX-e.offset().left:j.pageX-e.offset().left),y:Math.round(f.touch_capable?k.changedTouches[0].pageY-e.offset().top:j.pageY-e.offset().top)},t=q-l,u={startTime:l,endTime:q,startPosition:m,startOffset:n,endPosition:r,endOffset:s,duration:t,target:j.target};e.data("callee1",a),c(d,"taphold",j,u)}},f.taphold_threshold),!0}).on(f.endevent,function a(){e.data("callee2",a),e.data("tapheld",!1),window.clearTimeout(f.hold_timer)}).on(f.moveevent,function a(b){e.data("callee3",a),h=b.originalEvent.targetTouches?b.originalEvent.targetTouches[0].pageX:b.pageX,i=b.originalEvent.targetTouches?b.originalEvent.targetTouches[0].pageY:b.pageY})},remove:function(){a(this).off(f.startevent,a(this).data.callee1).off(f.endevent,a(this).data.callee2).off(f.moveevent,a(this).data.callee3)}},a.event.special.doubletap={setup:function(){var b,d,e,g,h=this,i=a(h),j=null,k=!1;i.on(f.startevent,function a(c){return(!c.which||1===c.which)&&(i.data("doubletapped",!1),b=c.target,i.data("callee1",a),e=c.originalEvent,j||(j={position:{x:f.touch_capable?e.touches[0].screenX:c.screenX,y:f.touch_capable?e.touches[0].screenY:c.screenY},offset:{x:Math.round(f.touch_capable?e.changedTouches[0].pageX-i.offset().left:c.pageX-i.offset().left),y:Math.round(f.touch_capable?e.changedTouches[0].pageY-i.offset().top:c.pageY-i.offset().top)},time:Date.now(),target:c.target}),!0)}).on(f.endevent,function a(l){var m=Date.now(),n=i.data("lastTouch")||m+1,o=m-n;if(window.clearTimeout(d),i.data("callee2",a),o<f.doubletap_int&&l.target==b&&o>100){i.data("doubletapped",!0),window.clearTimeout(f.tap_timer);var p={position:{x:f.touch_capable?l.originalEvent.changedTouches[0].screenX:l.screenX,y:f.touch_capable?l.originalEvent.changedTouches[0].screenY:l.screenY},offset:{x:Math.round(f.touch_capable?e.changedTouches[0].pageX-i.offset().left:l.pageX-i.offset().left),y:Math.round(f.touch_capable?e.changedTouches[0].pageY-i.offset().top:l.pageY-i.offset().top)},time:Date.now(),target:l.target},q={firstTap:j,secondTap:p,interval:p.time-j.time};k||(c(h,"doubletap",l,q),j=null),k=!0,g=window.setTimeout(function(){k=!1},f.doubletap_int);
}else i.data("lastTouch",m),d=window.setTimeout(function(){j=null,window.clearTimeout(d)},f.doubletap_int,[l]);i.data("lastTouch",m)})},remove:function(){a(this).off(f.startevent,a(this).data.callee1).off(f.endevent,a(this).data.callee2)}},a.event.special.singletap={setup:function(){var b=this,d=a(b),e=null,g=null,h={x:0,y:0};d.on(f.startevent,function a(b){return(!b.which||1===b.which)&&(g=Date.now(),e=b.target,d.data("callee1",a),h.x=b.originalEvent.targetTouches?b.originalEvent.targetTouches[0].pageX:b.pageX,h.y=b.originalEvent.targetTouches?b.originalEvent.targetTouches[0].pageY:b.pageY,!0)}).on(f.endevent,function a(i){if(d.data("callee2",a),i.target==e){var j=i.originalEvent.changedTouches?i.originalEvent.changedTouches[0].pageX:i.pageX,k=i.originalEvent.changedTouches?i.originalEvent.changedTouches[0].pageY:i.pageY;f.tap_timer=window.setTimeout(function(){if(!d.data("doubletapped")&&!d.data("tapheld")&&h.x==j&&h.y==k){var a=i.originalEvent,e={position:{x:f.touch_capable?a.changedTouches[0].screenX:i.screenX,y:f.touch_capable?a.changedTouches[0].screenY:i.screenY},offset:{x:Math.round(f.touch_capable?a.changedTouches[0].pageX-d.offset().left:i.pageX-d.offset().left),y:Math.round(f.touch_capable?a.changedTouches[0].pageY-d.offset().top:i.pageY-d.offset().top)},time:Date.now(),target:i.target};e.time-g<f.taphold_threshold&&c(b,"singletap",i,e)}},f.doubletap_int)}})},remove:function(){a(this).off(f.startevent,a(this).data.callee1).off(f.endevent,a(this).data.callee2)}},a.event.special.tap={setup:function(){var b,d,e=this,g=a(e),h=!1,i=null,j={x:0,y:0};g.on(f.startevent,function a(c){return g.data("callee1",a),(!c.which||1===c.which)&&(h=!0,j.x=c.originalEvent.targetTouches?c.originalEvent.targetTouches[0].pageX:c.pageX,j.y=c.originalEvent.targetTouches?c.originalEvent.targetTouches[0].pageY:c.pageY,b=Date.now(),i=c.target,d=c.originalEvent.targetTouches?c.originalEvent.targetTouches:[c],!0)}).on(f.endevent,function a(k){g.data("callee2",a);var l=k.originalEvent.targetTouches?k.originalEvent.changedTouches[0].pageX:k.pageX,m=k.originalEvent.targetTouches?k.originalEvent.changedTouches[0].pageY:k.pageY,n=j.x-l,o=j.y-m;if(i==k.target&&h&&Date.now()-b<f.taphold_threshold&&(j.x==l&&j.y==m||n>=-f.tap_pixel_range&&n<=f.tap_pixel_range&&o>=-f.tap_pixel_range&&o<=f.tap_pixel_range)){for(var p=k.originalEvent,q=[],r=0;r<d.length;r++){var s={position:{x:f.touch_capable?p.changedTouches[r].screenX:k.screenX,y:f.touch_capable?p.changedTouches[r].screenY:k.screenY},offset:{x:Math.round(f.touch_capable?p.changedTouches[r].pageX-g.offset().left:k.pageX-g.offset().left),y:Math.round(f.touch_capable?p.changedTouches[r].pageY-g.offset().top:k.pageY-g.offset().top)},time:Date.now(),target:k.target};q.push(s)}c(e,"tap",k,q)}})},remove:function(){a(this).off(f.startevent,a(this).data.callee1).off(f.endevent,a(this).data.callee2)}},a.event.special.swipe={setup:function(){function b(c){h=a(c.currentTarget),h.data("callee1",b),k.x=c.originalEvent.targetTouches?c.originalEvent.targetTouches[0].pageX:c.pageX,k.y=c.originalEvent.targetTouches?c.originalEvent.targetTouches[0].pageY:c.pageY,l.x=k.x,l.y=k.y,i=!0;var d=c.originalEvent;e={position:{x:f.touch_capable?d.touches[0].screenX:c.screenX,y:f.touch_capable?d.touches[0].screenY:c.screenY},offset:{x:Math.round(f.touch_capable?d.changedTouches[0].pageX-h.offset().left:c.pageX-h.offset().left),y:Math.round(f.touch_capable?d.changedTouches[0].pageY-h.offset().top:c.pageY-h.offset().top)},time:Date.now(),target:c.target}}function c(b){h=a(b.currentTarget),h.data("callee2",c),l.x=b.originalEvent.targetTouches?b.originalEvent.targetTouches[0].pageX:b.pageX,l.y=b.originalEvent.targetTouches?b.originalEvent.targetTouches[0].pageY:b.pageY;var d,g=h.parent().data("xthreshold")?h.parent().data("xthreshold"):h.data("xthreshold"),m=h.parent().data("ythreshold")?h.parent().data("ythreshold"):h.data("ythreshold"),n="undefined"!=typeof g&&g!==!1&&parseInt(g)?parseInt(g):f.swipe_h_threshold,o="undefined"!=typeof m&&m!==!1&&parseInt(m)?parseInt(m):f.swipe_v_threshold;if(k.y>l.y&&k.y-l.y>o&&(d="swipeup"),k.x<l.x&&l.x-k.x>n&&(d="swiperight"),k.y<l.y&&l.y-k.y>o&&(d="swipedown"),k.x>l.x&&k.x-l.x>n&&(d="swipeleft"),void 0!=d&&i){k.x=0,k.y=0,l.x=0,l.y=0,i=!1;var p=b.originalEvent,q={position:{x:f.touch_capable?p.touches[0].screenX:b.screenX,y:f.touch_capable?p.touches[0].screenY:b.screenY},offset:{x:Math.round(f.touch_capable?p.changedTouches[0].pageX-h.offset().left:b.pageX-h.offset().left),y:Math.round(f.touch_capable?p.changedTouches[0].pageY-h.offset().top:b.pageY-h.offset().top)},time:Date.now(),target:b.target},r=Math.abs(e.position.x-q.position.x),s=Math.abs(e.position.y-q.position.y),t={startEvnt:e,endEvnt:q,direction:d.replace("swipe",""),xAmount:r,yAmount:s,duration:q.time-e.time};j=!0,h.trigger("swipe",t).trigger(d,t)}}function d(b){h=a(b.currentTarget);var c="";if(h.data("callee3",d),j){var g=h.data("xthreshold"),k=h.data("ythreshold"),l="undefined"!=typeof g&&g!==!1&&parseInt(g)?parseInt(g):f.swipe_h_threshold,m="undefined"!=typeof k&&k!==!1&&parseInt(k)?parseInt(k):f.swipe_v_threshold,n=b.originalEvent,o={position:{x:f.touch_capable?n.changedTouches[0].screenX:b.screenX,y:f.touch_capable?n.changedTouches[0].screenY:b.screenY},offset:{x:Math.round(f.touch_capable?n.changedTouches[0].pageX-h.offset().left:b.pageX-h.offset().left),y:Math.round(f.touch_capable?n.changedTouches[0].pageY-h.offset().top:b.pageY-h.offset().top)},time:Date.now(),target:b.target};e.position.y>o.position.y&&e.position.y-o.position.y>m&&(c="swipeup"),e.position.x<o.position.x&&o.position.x-e.position.x>l&&(c="swiperight"),e.position.y<o.position.y&&o.position.y-e.position.y>m&&(c="swipedown"),e.position.x>o.position.x&&e.position.x-o.position.x>l&&(c="swipeleft");var p=Math.abs(e.position.x-o.position.x),q=Math.abs(e.position.y-o.position.y),r={startEvnt:e,endEvnt:o,direction:c.replace("swipe",""),xAmount:p,yAmount:q,duration:o.time-e.time};h.trigger("swipeend",r)}i=!1,j=!1}var e,g=this,h=a(g),i=!1,j=!1,k={x:0,y:0},l={x:0,y:0};h.on(f.startevent,b),h.on(f.moveevent,c),h.on(f.endevent,d)},remove:function(){a(this).off(f.startevent,a(this).data.callee1).off(f.moveevent,a(this).data.callee2).off(f.endevent,a(this).data.callee3)}},a.event.special.scrollstart={setup:function(){function b(a,b){d=b,c(g,d?"scrollstart":"scrollend",a)}var d,e,g=this,h=a(g);h.on(f.scrollevent,function a(c){h.data("callee",a),d||b(c,!0),clearTimeout(e),e=setTimeout(function(){b(c,!1)},50)})},remove:function(){a(this).off(f.scrollevent,a(this).data.callee)}};var g,h,i,j,k,l=a(window),m={0:!0,180:!0};if(f.orientation_support){var n=window.innerWidth||l.width(),o=window.innerHeight||l.height(),p=50;j=n>o&&n-o>p,k=m[window.orientation],(j&&k||!j&&!k)&&(m={"-90":!0,90:!0})}a.event.special.orientationchange=g={setup:function(){return!f.orientation_support&&(i=h(),l.on("throttledresize",b),!0)},teardown:function(){return!f.orientation_support&&(l.off("throttledresize",b),!0)},add:function(a){var b=a.handler;a.handler=function(a){return a.orientation=h(),b.apply(this,arguments)}}},a.event.special.orientationchange.orientation=h=function(){var a=!0,b=document.documentElement;return a=f.orientation_support?m[window.orientation]:b&&b.clientWidth/b.clientHeight<1.1,a?"portrait":"landscape"},a.event.special.throttledresize={setup:function(){a(this).on("resize",u)},teardown:function(){a(this).off("resize",u)}};var q,r,s,t=250,u=function(){r=Date.now(),s=r-v,s>=t?(v=r,a(this).trigger("throttledresize")):(q&&window.clearTimeout(q),q=window.setTimeout(b,t-s))},v=0;a.each({scrollend:"scrollstart",swipeup:"swipe",swiperight:"swipe",swipedown:"swipe",swipeleft:"swipe",swipeend:"swipe",tap2:"tap"},function(b,c){a.event.special[b]={setup:function(){a(this).on(c,a.noop)}}})}(jQuery),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a:a(jQuery)}(function(a){function b(b){var g=b||window.event,h=i.call(arguments,1),j=0,l=0,m=0,n=0,o=0,p=0;if(b=a.event.fix(g),b.type="mousewheel","detail"in g&&(m=-1*g.detail),"wheelDelta"in g&&(m=g.wheelDelta),"wheelDeltaY"in g&&(m=g.wheelDeltaY),"wheelDeltaX"in g&&(l=-1*g.wheelDeltaX),"axis"in g&&g.axis===g.HORIZONTAL_AXIS&&(l=-1*m,m=0),j=0===m?l:m,"deltaY"in g&&(m=-1*g.deltaY,j=m),"deltaX"in g&&(l=g.deltaX,0===m&&(j=-1*l)),0!==m||0!==l){if(1===g.deltaMode){var q=a.data(this,"mousewheel-line-height");j*=q,m*=q,l*=q}else if(2===g.deltaMode){var r=a.data(this,"mousewheel-page-height");j*=r,m*=r,l*=r}if(n=Math.max(Math.abs(m),Math.abs(l)),(!f||f>n)&&(f=n,d(g,n)&&(f/=40)),d(g,n)&&(j/=40,l/=40,m/=40),j=Math[j>=1?"floor":"ceil"](j/f),l=Math[l>=1?"floor":"ceil"](l/f),m=Math[m>=1?"floor":"ceil"](m/f),k.settings.normalizeOffset&&this.getBoundingClientRect){var s=this.getBoundingClientRect();o=b.clientX-s.left,p=b.clientY-s.top}return b.deltaX=l,b.deltaY=m,b.deltaFactor=f,b.offsetX=o,b.offsetY=p,b.deltaMode=0,h.unshift(b,j,l,m),e&&clearTimeout(e),e=setTimeout(c,200),(a.event.dispatch||a.event.handle).apply(this,h)}}function c(){f=null}function d(a,b){return k.settings.adjustOldDeltas&&"mousewheel"===a.type&&b%120===0}var e,f,g=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],h="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],i=Array.prototype.slice;if(a.event.fixHooks)for(var j=g.length;j;)a.event.fixHooks[g[--j]]=a.event.mouseHooks;var k=a.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var c=h.length;c;)this.addEventListener(h[--c],b,!1);else this.onmousewheel=b;a.data(this,"mousewheel-line-height",k.getLineHeight(this)),a.data(this,"mousewheel-page-height",k.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var c=h.length;c;)this.removeEventListener(h[--c],b,!1);else this.onmousewheel=null;a.removeData(this,"mousewheel-line-height"),a.removeData(this,"mousewheel-page-height")},getLineHeight:function(b){var c=a(b),d=c["offsetParent"in a.fn?"offsetParent":"parent"]();return d.length||(d=a("body")),parseInt(d.css("fontSize"),10)||parseInt(c.css("fontSize"),10)||16},getPageHeight:function(b){return a(b).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})}),!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a){function b(b){var c={},d=/^jQuery\d+$/;return a.each(b.attributes,function(a,b){b.specified&&!d.test(b.name)&&(c[b.name]=b.value)}),c}function c(b,c){var d=this,f=a(d);if(d.value==f.attr("placeholder")&&f.hasClass(m.customClass))if(f.data("placeholder-password")){if(f=f.hide().nextAll('input[type="password"]:first').show().attr("id",f.removeAttr("id").data("placeholder-id")),b===!0)return f[0].value=c;f.focus()}else d.value="",f.removeClass(m.customClass),d==e()&&d.select()}function d(){var d,e=this,f=a(e),g=this.id;if(""===e.value){if("password"===e.type){if(!f.data("placeholder-textinput")){try{d=f.clone().attr({type:"text"})}catch(c){d=a("<input>").attr(a.extend(b(this),{type:"text"}))}d.removeAttr("name").data({"placeholder-password":f,"placeholder-id":g}).bind("focus.placeholder",c),f.data({"placeholder-textinput":d,"placeholder-id":g}).before(d)}f=f.removeAttr("id").hide().prevAll('input[type="text"]:first').attr("id",g).show()}f.addClass(m.customClass),f[0].value=f.attr("placeholder")}else f.removeClass(m.customClass)}function e(){try{return document.activeElement}catch(a){}}var f,g,h="[object OperaMini]"==Object.prototype.toString.call(window.operamini),i="placeholder"in document.createElement("input")&&!h,j="placeholder"in document.createElement("textarea")&&!h,k=a.valHooks,l=a.propHooks;if(i&&j)g=a.fn.placeholder=function(){return this},g.input=g.textarea=!0;else{var m={};g=a.fn.placeholder=function(b){var e={customClass:"placeholder"};m=a.extend({},e,b);var f=this;return f.filter((i?"textarea":":input")+"[placeholder]").not("."+m.customClass).bind({"focus.placeholder":c,"blur.placeholder":d}).data("placeholder-enabled",!0).trigger("blur.placeholder"),f},g.input=i,g.textarea=j,f={get:function(b){var c=a(b),d=c.data("placeholder-password");return d?d[0].value:c.data("placeholder-enabled")&&c.hasClass(m.customClass)?"":b.value},set:function(b,f){var g=a(b),h=g.data("placeholder-password");return h?h[0].value=f:g.data("placeholder-enabled")?(""===f?(b.value=f,b!=e()&&d.call(b)):g.hasClass(m.customClass)?c.call(b,!0,f)||(b.value=f):b.value=f,g):b.value=f}},i||(k.input=f,l.value=f),j||(k.textarea=f,l.value=f),a(function(){a(document).delegate("form","submit.placeholder",function(){var b=a("."+m.customClass,this).each(c);setTimeout(function(){b.each(d)},10)})}),a(window).bind("beforeunload.placeholder",function(){a("."+m.customClass).each(function(){this.value=""})})}}),function(a){function b(b){return PubSub.hasOwnProperty(b)&&"function"==typeof PubSub[b]?PubSub[b].apply(c,Array.prototype.slice.call(arguments,1)):void a.error("Method "+b+" does not exist on jQuery.pubsub")}var c=this;return function(a,b){"function"==typeof define&&define.amd?define(["exports"],b):b("object"==typeof exports?exports:a.PubSub={})}("object"==typeof window&&window||this,function(a){function b(a){var b;for(b in a)if(a.hasOwnProperty(b))return!0;return!1}function c(a){return function(){throw a}}function d(a,b,d){try{a(b,d)}catch(a){setTimeout(c(a),0)}}function e(a,b,c){a(b,c)}function f(a,b,c,f){var g,h=j[b],i=f?e:d;if(j.hasOwnProperty(b))for(g in h)h.hasOwnProperty(g)&&i(h[g],a,c)}function g(a,b,c){return function(){var d=String(a),e=d.lastIndexOf(".");for(f(a,a,b,c);-1!==e;)d=d.substr(0,e),e=d.lastIndexOf("."),f(a,d,b)}}function h(a){for(var c=String(a),d=Boolean(j.hasOwnProperty(c)&&b(j[c])),e=c.lastIndexOf(".");!d&&-1!==e;)c=c.substr(0,e),e=c.lastIndexOf("."),d=Boolean(j.hasOwnProperty(c)&&b(j[c]));return d}function i(a,b,c,d){var e=g(a,b,d),f=h(a);return!!f&&(c===!0?e():setTimeout(e,0),!0)}var j={},k=-1;a.publish=function(b,c){return i(b,c,!1,a.immediateExceptions)},a.publishSync=function(b,c){return i(b,c,!0,a.immediateExceptions)},a.subscribe=function(a,b){if("function"!=typeof b)return!1;j.hasOwnProperty(a)||(j[a]={});var c="uid_"+String(++k);return j[a][c]=b,c},a.clearAllSubscriptions=function(){j={}},a.unsubscribe=function(a){var b,c,d,e="string"==typeof a&&j.hasOwnProperty(a),f=!e&&"string"==typeof a,g="function"==typeof a,h=!1;if(e)return void delete j[a];for(b in j)if(j.hasOwnProperty(b)){if(c=j[b],f&&c[a]){delete c[a],h=a;break}if(g)for(d in c)c.hasOwnProperty(d)&&c[d]===a&&(delete c[d],h=!0)}return h}}),a.pubsub?(a.error("pubsub is already defined on jQuery, skipping integration of PubSubJS"),!1):(b.version=PubSub.name+" "+PubSub.version,void(a.pubsub=b))}(window.jQuery||window.Zepto),MarkerClusterer.prototype.MARKER_CLUSTER_IMAGE_PATH_="http://google-maps-utility-library-v3.googlecode.com/svn/trunk/markerclusterer/images/m",MarkerClusterer.prototype.MARKER_CLUSTER_IMAGE_EXTENSION_="png",MarkerClusterer.prototype.extend=function(a,b){return function(a){for(var b in a.prototype)this.prototype[b]=a.prototype[b];return this}.apply(a,[b])},MarkerClusterer.prototype.onAdd=function(){this.setReady_(!0)},MarkerClusterer.prototype.draw=function(){},MarkerClusterer.prototype.setupStyles_=function(){if(!this.styles_.length)for(var a,b=0;a=this.sizes[b];b++)this.styles_.push({url:this.imagePath_+(b+1)+"."+this.imageExtension_,height:a,width:a})},MarkerClusterer.prototype.fitMapToMarkers=function(){for(var a,b=this.getMarkers(),c=new google.maps.LatLngBounds,d=0;a=b[d];d++)c.extend(a.getPosition());this.map_.fitBounds(c)},MarkerClusterer.prototype.setStyles=function(a){this.styles_=a},MarkerClusterer.prototype.getStyles=function(){return this.styles_},MarkerClusterer.prototype.isZoomOnClick=function(){return this.zoomOnClick_},MarkerClusterer.prototype.isAverageCenter=function(){return this.averageCenter_},MarkerClusterer.prototype.getMarkers=function(){return this.markers_},MarkerClusterer.prototype.getTotalMarkers=function(){return this.markers_.length},MarkerClusterer.prototype.setMaxZoom=function(a){this.maxZoom_=a},MarkerClusterer.prototype.getMaxZoom=function(){return this.maxZoom_},MarkerClusterer.prototype.calculator_=function(a,b){for(var c=0,d=a.length,e=d;0!==e;)e=parseInt(e/10,10),c++;return c=Math.min(c,b),{text:d,index:c}},MarkerClusterer.prototype.setCalculator=function(a){this.calculator_=a},MarkerClusterer.prototype.getCalculator=function(){return this.calculator_},MarkerClusterer.prototype.addMarkers=function(a,b){if(a.length)for(var c,d=0;c=a[d];d++)this.pushMarkerTo_(c);else if(Object.keys(a).length)for(var c in a)this.pushMarkerTo_(a[c]);b||this.redraw()},MarkerClusterer.prototype.pushMarkerTo_=function(a){if(a.isAdded=!1,a.draggable){var b=this;google.maps.event.addListener(a,"dragend",function(){a.isAdded=!1,b.repaint()})}this.markers_.push(a)},MarkerClusterer.prototype.addMarker=function(a,b){this.pushMarkerTo_(a),b||this.redraw()},MarkerClusterer.prototype.removeMarker_=function(a){var b=-1;if(this.markers_.indexOf)b=this.markers_.indexOf(a);else for(var c,d=0;c=this.markers_[d];d++)if(c==a){b=d;break}return-1!=b&&(a.setMap(null),this.markers_.splice(b,1),!0)},MarkerClusterer.prototype.removeMarker=function(a,b){var c=this.removeMarker_(a);return!(b||!c)&&(this.resetViewport(),this.redraw(),!0)},MarkerClusterer.prototype.removeMarkers=function(a,b){for(var c,d=!1,e=0;c=a[e];e++){var f=this.removeMarker_(c);d=d||f}return!b&&d?(this.resetViewport(),this.redraw(),!0):void 0},MarkerClusterer.prototype.setReady_=function(a){this.ready_||(this.ready_=a,this.createClusters_())},MarkerClusterer.prototype.getTotalClusters=function(){return this.clusters_.length},MarkerClusterer.prototype.getMap=function(){return this.map_},MarkerClusterer.prototype.setMap=function(a){this.map_=a},MarkerClusterer.prototype.getGridSize=function(){return this.gridSize_},MarkerClusterer.prototype.setGridSize=function(a){this.gridSize_=a},MarkerClusterer.prototype.getMinClusterSize=function(){return this.minClusterSize_},MarkerClusterer.prototype.setMinClusterSize=function(a){this.minClusterSize_=a},MarkerClusterer.prototype.getExtendedBounds=function(a){var b=this.getProjection(),c=new google.maps.LatLng(a.getNorthEast().lat(),a.getNorthEast().lng()),d=new google.maps.LatLng(a.getSouthWest().lat(),a.getSouthWest().lng()),e=b.fromLatLngToDivPixel(c);e.x+=this.gridSize_,e.y-=this.gridSize_;var f=b.fromLatLngToDivPixel(d);f.x-=this.gridSize_,f.y+=this.gridSize_;var g=b.fromDivPixelToLatLng(e),h=b.fromDivPixelToLatLng(f);return a.extend(g),a.extend(h),a},MarkerClusterer.prototype.isMarkerInBounds_=function(a,b){return b.contains(a.getPosition())},MarkerClusterer.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers_=[]},MarkerClusterer.prototype.resetViewport=function(a){for(var b,c=0;b=this.clusters_[c];c++)b.remove();for(var d,c=0;d=this.markers_[c];c++)d.isAdded=!1,a&&d.setMap(null);this.clusters_=[]},MarkerClusterer.prototype.repaint=function(){var a=this.clusters_.slice();this.clusters_.length=0,this.resetViewport(),this.redraw(),window.setTimeout(function(){for(var b,c=0;b=a[c];c++)b.remove()},0)},MarkerClusterer.prototype.redraw=function(){this.createClusters_()},MarkerClusterer.prototype.distanceBetweenPoints_=function(a,b){if(!a||!b)return 0;var c=6371,d=(b.lat()-a.lat())*Math.PI/180,e=(b.lng()-a.lng())*Math.PI/180,f=Math.sin(d/2)*Math.sin(d/2)+Math.cos(a.lat()*Math.PI/180)*Math.cos(b.lat()*Math.PI/180)*Math.sin(e/2)*Math.sin(e/2),g=2*Math.atan2(Math.sqrt(f),Math.sqrt(1-f)),h=c*g;return h},MarkerClusterer.prototype.addToClosestCluster_=function(a){for(var b,c=4e4,d=null,e=(a.getPosition(),0);b=this.clusters_[e];e++){var f=b.getCenter();if(f){var g=this.distanceBetweenPoints_(f,a.getPosition());c>g&&(c=g,d=b)}}if(d&&d.isMarkerInClusterBounds(a))d.addMarker(a);else{var b=new Cluster(this);b.addMarker(a),this.clusters_.push(b)}},MarkerClusterer.prototype.createClusters_=function(){if(this.ready_)for(var a,b=new google.maps.LatLngBounds(this.map_.getBounds().getSouthWest(),this.map_.getBounds().getNorthEast()),c=this.getExtendedBounds(b),d=0;a=this.markers_[d];d++)!a.isAdded&&this.isMarkerInBounds_(a,c)&&this.addToClosestCluster_(a)},Cluster.prototype.isMarkerAlreadyAdded=function(a){if(this.markers_.indexOf)return-1!=this.markers_.indexOf(a);for(var b,c=0;b=this.markers_[c];c++)if(b==a)return!0;return!1},Cluster.prototype.addMarker=function(a){if(this.isMarkerAlreadyAdded(a))return!1;if(this.center_){if(this.averageCenter_){var b=this.markers_.length+1,c=(this.center_.lat()*(b-1)+a.getPosition().lat())/b,d=(this.center_.lng()*(b-1)+a.getPosition().lng())/b;this.center_=new google.maps.LatLng(c,d),this.calculateBounds_()}}else this.center_=a.getPosition(),this.calculateBounds_();a.isAdded=!0,this.markers_.push(a);var e=this.markers_.length;if(e<this.minClusterSize_&&a.getMap()!=this.map_&&a.setMap(this.map_),e==this.minClusterSize_)for(var f=0;e>f;f++)this.markers_[f].setMap(null);return e>=this.minClusterSize_&&a.setMap(null),this.updateIcon(),!0},Cluster.prototype.getMarkerClusterer=function(){return this.markerClusterer_},Cluster.prototype.getBounds=function(){for(var a,b=new google.maps.LatLngBounds(this.center_,this.center_),c=this.getMarkers(),d=0;a=c[d];d++)b.extend(a.getPosition());return b},Cluster.prototype.remove=function(){this.clusterIcon_.remove(),this.markers_.length=0,delete this.markers_},Cluster.prototype.getSize=function(){return this.markers_.length},Cluster.prototype.getMarkers=function(){return this.markers_},Cluster.prototype.getCenter=function(){return this.center_},Cluster.prototype.calculateBounds_=function(){var a=new google.maps.LatLngBounds(this.center_,this.center_);this.bounds_=this.markerClusterer_.getExtendedBounds(a)},Cluster.prototype.isMarkerInClusterBounds=function(a){return this.bounds_.contains(a.getPosition())},Cluster.prototype.getMap=function(){return this.map_},Cluster.prototype.updateIcon=function(){var a=this.map_.getZoom(),b=this.markerClusterer_.getMaxZoom();if(b&&a>b)for(var c,d=0;c=this.markers_[d];d++)c.setMap(this.map_);else{if(this.markers_.length<this.minClusterSize_)return void this.clusterIcon_.hide();var e=this.markerClusterer_.getStyles().length,f=this.markerClusterer_.getCalculator()(this.markers_,e);this.clusterIcon_.setCenter(this.center_),this.clusterIcon_.setSums(f),this.clusterIcon_.show()}},ClusterIcon.prototype.triggerClusterClick=function(){var a=this.cluster_.getMarkerClusterer();google.maps.event.trigger(a,"clusterclick",this.cluster_),a.isZoomOnClick()&&this.map_.fitBounds(this.cluster_.getBounds())},ClusterIcon.prototype.onAdd=function(){if(this.div_=document.createElement("DIV"),this.visible_){var a=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(a),this.div_.innerHTML=this.sums_.text}var b=this.getPanes();b.overlayMouseTarget.appendChild(this.div_);var c=this;google.maps.event.addDomListener(this.div_,"click",function(){c.triggerClusterClick()})},ClusterIcon.prototype.getPosFromLatLng_=function(a){var b=this.getProjection().fromLatLngToDivPixel(a);return b.x-=parseInt(this.width_/2,10),b.y-=parseInt(this.height_/2,10),b},ClusterIcon.prototype.draw=function(){if(this.visible_){var a=this.getPosFromLatLng_(this.center_);this.div_.style.top=a.y+"px",this.div_.style.left=a.x+"px"}},ClusterIcon.prototype.hide=function(){this.div_&&(this.div_.style.display="none"),this.visible_=!1},ClusterIcon.prototype.show=function(){if(this.div_){var a=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(a),this.div_.style.display=""}this.visible_=!0},ClusterIcon.prototype.remove=function(){this.setMap(null)},ClusterIcon.prototype.onRemove=function(){this.div_&&this.div_.parentNode&&(this.hide(),this.div_.parentNode.removeChild(this.div_),this.div_=null)},ClusterIcon.prototype.setSums=function(a){this.sums_=a,this.text_=a.text,this.index_=a.index,this.div_&&(this.div_.innerHTML=a.text),this.useStyle()},ClusterIcon.prototype.useStyle=function(){var a=Math.max(0,this.sums_.index-1);a=Math.min(this.styles_.length-1,a);var b=this.styles_[a];this.url_=b.url,this.height_=b.height,this.width_=b.width,this.textColor_=b.textColor,this.anchor_=b.anchor,this.textSize_=b.textSize,this.backgroundPosition_=b.backgroundPosition},ClusterIcon.prototype.setCenter=function(a){this.center_=a},ClusterIcon.prototype.createCss=function(a){var b=[];b.push("background-image:url("+this.url_+");");var c=this.backgroundPosition_?this.backgroundPosition_:"0 0";b.push("background-position:"+c+";"),"object"==typeof this.anchor_?(b.push("number"==typeof this.anchor_[0]&&this.anchor_[0]>0&&this.anchor_[0]<this.height_?"height:"+(this.height_-this.anchor_[0])+"px; padding-top:"+this.anchor_[0]+"px;":"height:"+this.height_+"px; line-height:"+this.height_+"px;"),b.push("number"==typeof this.anchor_[1]&&this.anchor_[1]>0&&this.anchor_[1]<this.width_?"width:"+(this.width_-this.anchor_[1])+"px; padding-left:"+this.anchor_[1]+"px;":"width:"+this.width_+"px; text-align:center;")):b.push("height:"+this.height_+"px; line-height:"+this.height_+"px; width:"+this.width_+"px; text-align:center;");var d=this.textColor_?this.textColor_:"black",e=this.textSize_?this.textSize_:11;return b.push("cursor:pointer; top:"+a.y+"px; left:"+a.x+"px; color:"+d+"; position:absolute; font-size:"+e+"px; font-family:Arial,sans-serif; font-weight:bold"),b.join("")},window.MarkerClusterer=MarkerClusterer,MarkerClusterer.prototype.addMarker=MarkerClusterer.prototype.addMarker,MarkerClusterer.prototype.addMarkers=MarkerClusterer.prototype.addMarkers,MarkerClusterer.prototype.clearMarkers=MarkerClusterer.prototype.clearMarkers,MarkerClusterer.prototype.fitMapToMarkers=MarkerClusterer.prototype.fitMapToMarkers,MarkerClusterer.prototype.getCalculator=MarkerClusterer.prototype.getCalculator,MarkerClusterer.prototype.getGridSize=MarkerClusterer.prototype.getGridSize,MarkerClusterer.prototype.getExtendedBounds=MarkerClusterer.prototype.getExtendedBounds,MarkerClusterer.prototype.getMap=MarkerClusterer.prototype.getMap,MarkerClusterer.prototype.getMarkers=MarkerClusterer.prototype.getMarkers,MarkerClusterer.prototype.getMaxZoom=MarkerClusterer.prototype.getMaxZoom,MarkerClusterer.prototype.getStyles=MarkerClusterer.prototype.getStyles,MarkerClusterer.prototype.getTotalClusters=MarkerClusterer.prototype.getTotalClusters,MarkerClusterer.prototype.getTotalMarkers=MarkerClusterer.prototype.getTotalMarkers,MarkerClusterer.prototype.redraw=MarkerClusterer.prototype.redraw,MarkerClusterer.prototype.removeMarker=MarkerClusterer.prototype.removeMarker,MarkerClusterer.prototype.removeMarkers=MarkerClusterer.prototype.removeMarkers,MarkerClusterer.prototype.resetViewport=MarkerClusterer.prototype.resetViewport,MarkerClusterer.prototype.repaint=MarkerClusterer.prototype.repaint,MarkerClusterer.prototype.setCalculator=MarkerClusterer.prototype.setCalculator,MarkerClusterer.prototype.setGridSize=MarkerClusterer.prototype.setGridSize,MarkerClusterer.prototype.setMaxZoom=MarkerClusterer.prototype.setMaxZoom,MarkerClusterer.prototype.onAdd=MarkerClusterer.prototype.onAdd,MarkerClusterer.prototype.draw=MarkerClusterer.prototype.draw,Cluster.prototype.getCenter=Cluster.prototype.getCenter,Cluster.prototype.getSize=Cluster.prototype.getSize,Cluster.prototype.getMarkers=Cluster.prototype.getMarkers,ClusterIcon.prototype.onAdd=ClusterIcon.prototype.onAdd,ClusterIcon.prototype.draw=ClusterIcon.prototype.draw,ClusterIcon.prototype.onRemove=ClusterIcon.prototype.onRemove,Object.keys=Object.keys||function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b},window.matchMedia||(window.matchMedia=function(){var a=window.styleMedia||window.media;if(!a){var b=document.createElement("style"),c=document.getElementsByTagName("script")[0],d=null;b.type="text/css",b.id="matchmediajs-test",c.parentNode.insertBefore(b,c),d="getComputedStyle"in window&&window.getComputedStyle(b,null)||b.currentStyle,a={matchMedium:function(a){var c="@media "+a+"{ #matchmediajs-test { width: 1px; } }";return b.styleSheet?b.styleSheet.cssText=c:b.textContent=c,"1px"===d.width}}}return function(b){return{matches:a.matchMedium(b||"all"),media:b||"all"}}}()),function(a,b,c){function d(a){var b,c,d,e,g,h=a||{};b=h.elements||f.getAllElements();for(var i=0,j=b.length;j>i;i++)if(c=b[i],d=c.parentNode,e=void 0,g=void 0,"IMG"===c.nodeName.toUpperCase()&&(c[f.ns]||(c[f.ns]={}),h.reevaluate||!c[f.ns].evaluated)){if("PICTURE"===d.nodeName.toUpperCase()){if(f.removeVideoShim(d),e=f.getMatch(c,d),e===!1)continue}else e=void 0;("PICTURE"===d.nodeName.toUpperCase()||c.srcset&&!f.srcsetSupported||!f.sizesSupported&&c.srcset&&c.srcset.indexOf("w")>-1)&&f.dodgeSrcset(c),e?(g=f.processSourceSet(e),f.applyBestCandidate(g,c)):(g=f.processSourceSet(c),(void 0===c.srcset||c[f.ns].srcset)&&f.applyBestCandidate(g,c)),c[f.ns].evaluated=!0}}function e(){function c(){var b;a._picturefillWorking||(a._picturefillWorking=!0,a.clearTimeout(b),b=a.setTimeout(function(){d({reevaluate:!0}),a._picturefillWorking=!1},60))}d();var e=setInterval(function(){return d(),/^loaded|^i|^c/.test(b.readyState)?void clearInterval(e):void 0},250);a.addEventListener?a.addEventListener("resize",c,!1):a.attachEvent&&a.attachEvent("onresize",c)}if(a.HTMLPictureElement)return void(a.picturefill=function(){});b.createElement("picture");var f={};f.ns="picturefill",function(){f.srcsetSupported="srcset"in c,f.sizesSupported="sizes"in c}(),f.trim=function(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")},f.endsWith=function(a,b){return a.endsWith?a.endsWith(b):-1!==a.indexOf(b,a.length-b.length)},f.restrictsMixedContent=function(){return"https:"===a.location.protocol},f.matchesMedia=function(b){return a.matchMedia&&a.matchMedia(b).matches},f.getDpr=function(){return a.devicePixelRatio||1},f.getWidthFromLength=function(a){a=a&&a.indexOf("%")>-1==0&&(parseFloat(a)>0||a.indexOf("calc(")>-1)?a:"100vw",a=a.replace("vw","%"),f.lengthEl||(f.lengthEl=b.createElement("div"),f.lengthEl.style.cssText="border:0;display:block;font-size:1em;left:0;margin:0;padding:0;position:absolute;visibility:hidden"),f.lengthEl.style.width=a,b.body.appendChild(f.lengthEl),f.lengthEl.className="helper-from-picturefill-js",f.lengthEl.offsetWidth<=0&&(f.lengthEl.style.width=b.documentElement.offsetWidth+"px");var c=f.lengthEl.offsetWidth;return b.body.removeChild(f.lengthEl),c},f.types={},f.types["image/jpeg"]=!0,f.types["image/gif"]=!0,f.types["image/png"]=!0,f.types["image/svg+xml"]=b.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1"),f.types["image/webp"]=function(){var a="image/webp";c.onerror=function(){f.types[a]=!1,d()},c.onload=function(){f.types[a]=1===c.width,d()},c.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="},f.verifyTypeSupport=function(a){var b=a.getAttribute("type");return null===b||""===b||("function"==typeof f.types[b]?(f.types[b](),"pending"):f.types[b])},f.parseSize=function(a){var b=/(\([^)]+\))?\s*(.+)/g.exec(a);return{media:b&&b[1],length:b&&b[2]}},f.findWidthFromSourceSize=function(a){for(var b,c=f.trim(a).split(/\s*,\s*/),d=0,e=c.length;e>d;d++){var g=c[d],h=f.parseSize(g),i=h.length,j=h.media;if(i&&(!j||f.matchesMedia(j))){b=i;break}}return f.getWidthFromLength(b)},f.parseSrcset=function(a){for(var b=[];""!==a;){a=a.replace(/^\s+/g,"");var c,d=a.search(/\s/g),e=null;if(-1!==d){c=a.slice(0,d);var f=c.slice(-1);if((","===f||""===c)&&(c=c.replace(/,+$/,""),e=""),a=a.slice(d+1),null===e){var g=a.indexOf(",");-1!==g?(e=a.slice(0,g),a=a.slice(g+1)):(e=a,a="")}}else c=a,a="";(c||e)&&b.push({url:c,descriptor:e})}return b},f.parseDescriptor=function(a,b){var c,d=b||"100vw",e=a&&a.replace(/(^\s+|\s+$)/g,""),g=f.findWidthFromSourceSize(d);if(e)for(var h=e.split(" "),i=h.length-1;i>=0;i--){var j=h[i],k=j&&j.slice(j.length-1);if("h"!==k&&"w"!==k||f.sizesSupported){if("x"===k){var l=j&&parseFloat(j,10);c=l&&!isNaN(l)?l:1}}else c=parseFloat(parseInt(j,10)/g);
}return c||1},f.getCandidatesFromSourceSet=function(a,b){for(var c=f.parseSrcset(a),d=[],e=0,g=c.length;g>e;e++){var h=c[e];d.push({url:h.url,resolution:f.parseDescriptor(h.descriptor,b)})}return d},f.dodgeSrcset=function(a){a.srcset&&(a[f.ns].srcset=a.srcset,a.removeAttribute("srcset"))},f.processSourceSet=function(a){var b=a.getAttribute("srcset"),c=a.getAttribute("sizes"),d=[];return"IMG"===a.nodeName.toUpperCase()&&a[f.ns]&&a[f.ns].srcset&&(b=a[f.ns].srcset),b&&(d=f.getCandidatesFromSourceSet(b,c)),d},f.applyBestCandidate=function(a,b){var c,d,e;a.sort(f.ascendingSort),d=a.length,e=a[d-1];for(var g=0;d>g;g++)if(c=a[g],c.resolution>=f.getDpr()){e=c;break}if(e&&!f.endsWith(b.src,e.url))if(f.restrictsMixedContent()&&"http:"===e.url.substr(0,"http:".length).toLowerCase())void 0!==typeof console&&console.warn("Blocked mixed content image "+e.url);else{b.src=e.url,b.currentSrc=b.src;var h=b.style||{},i="webkitBackfaceVisibility"in h,j=h.zoom;i&&(h.zoom=".999",i=b.offsetWidth,h.zoom=j)}},f.ascendingSort=function(a,b){return a.resolution-b.resolution},f.removeVideoShim=function(a){var b=a.getElementsByTagName("video");if(b.length){for(var c=b[0],d=c.getElementsByTagName("source");d.length;)a.insertBefore(d[0],c);c.parentNode.removeChild(c)}},f.getAllElements=function(){for(var a=[],c=b.getElementsByTagName("img"),d=0,e=c.length;e>d;d++){var g=c[d];("PICTURE"===g.parentNode.nodeName.toUpperCase()||null!==g.getAttribute("srcset")||g[f.ns]&&null!==g[f.ns].srcset)&&a.push(g)}return a},f.getMatch=function(a,b){for(var c,d=b.childNodes,e=0,g=d.length;g>e;e++){var h=d[e];if(1===h.nodeType){if(h===a)return c;if("SOURCE"===h.nodeName.toUpperCase()){null!==h.getAttribute("src")&&void 0!==typeof console&&console.warn("The `src` attribute is invalid on `picture` `source` element; instead, use `srcset`.");var i=h.getAttribute("media");if(h.getAttribute("srcset")&&(!i||f.matchesMedia(i))){var j=f.verifyTypeSupport(h);if(j===!0){c=h;break}if("pending"===j)return!1}}}}return c},e(),d._=f,"object"==typeof module&&"object"==typeof module.exports?module.exports=d:"function"==typeof define&&define.amd?define(function(){return d}):"object"==typeof a&&(a.picturefill=d)}(this,this.document,new this.Image),function(a,b,c,d){var e=function(a,b,c){var d;return function(){function e(){c||(a.apply(f,g),d=null)}var f=this,g=arguments;d?clearTimeout(d):c&&a.apply(f,g),d=setTimeout(e,b||100)}};c.fn[d]=function(a){return a?this.bind("resize",e(a)):this.trigger(d)}}(document,window,window.jQuery||window.Zepto,"smartresize"),document.createElement("video"),document.createElement("audio"),document.createElement("track");var vjs=function(a,b,c){var d;if("string"==typeof a){if(0===a.indexOf("#")&&(a=a.slice(1)),vjs.players[a])return b&&vjs.log.warn('Player "'+a+'" is already initialised. Options will not be applied.'),c&&vjs.players[a].ready(c),vjs.players[a];d=vjs.el(a)}else d=a;if(!d||!d.nodeName)throw new TypeError("The element or ID supplied is not valid. (videojs)");return d.player||new vjs.Player(d,b,c)},videojs=window.videojs=vjs;vjs.CDN_VERSION="4.12",vjs.ACCESS_PROTOCOL="https:"==document.location.protocol?"https://":"http://",vjs.VERSION="4.12.5",vjs.options={techOrder:["html5","flash"],html5:{},flash:{},width:300,height:150,defaultVolume:0,playbackRates:[],inactivityTimeout:2e3,children:{mediaLoader:{},posterImage:{},loadingSpinner:{},textTrackDisplay:{},bigPlayButton:{},controlBar:{},errorDisplay:{},textTrackSettings:{}},language:document.getElementsByTagName("html")[0].getAttribute("lang")||navigator.languages&&navigator.languages[0]||navigator.userLanguage||navigator.language||"en",languages:{},notSupportedMessage:"No compatible source was found for this video."},"GENERATED_CDN_VSN"!==vjs.CDN_VERSION&&(videojs.options.flash.swf=vjs.ACCESS_PROTOCOL+"vjs.zencdn.net/"+vjs.CDN_VERSION+"/video-js.swf"),vjs.addLanguage=function(a,b){return vjs.options.languages[a]=void 0!==vjs.options.languages[a]?vjs.util.mergeOptions(vjs.options.languages[a],b):b,vjs.options.languages},vjs.players={},"function"==typeof define&&define.amd?define("videojs",[],function(){return videojs}):"object"==typeof exports&&"object"==typeof module&&(module.exports=videojs),vjs.CoreObject=vjs.CoreObject=function(){},vjs.CoreObject.extend=function(a){var b,c;a=a||{},b=a.init||a.init||this.prototype.init||this.prototype.init||function(){},c=function(){b.apply(this,arguments)},c.prototype=vjs.obj.create(this.prototype),c.prototype.constructor=c,c.extend=vjs.CoreObject.extend,c.create=vjs.CoreObject.create;for(var d in a)a.hasOwnProperty(d)&&(c.prototype[d]=a[d]);return c},vjs.CoreObject.create=function(){var a=vjs.obj.create(this.prototype);return this.apply(a,arguments),a},vjs.on=function(a,b,c){if(vjs.obj.isArray(b))return _handleMultipleEvents(vjs.on,a,b,c);var d=vjs.getData(a);d.handlers||(d.handlers={}),d.handlers[b]||(d.handlers[b]=[]),c.guid||(c.guid=vjs.guid++),d.handlers[b].push(c),d.dispatcher||(d.disabled=!1,d.dispatcher=function(b){if(!d.disabled){b=vjs.fixEvent(b);var c=d.handlers[b.type];if(c)for(var e=c.slice(0),f=0,g=e.length;g>f&&!b.isImmediatePropagationStopped();f++)e[f].call(a,b)}}),1==d.handlers[b].length&&(a.addEventListener?a.addEventListener(b,d.dispatcher,!1):a.attachEvent&&a.attachEvent("on"+b,d.dispatcher))},vjs.off=function(a,b,c){if(vjs.hasData(a)){var d=vjs.getData(a);if(d.handlers){if(vjs.obj.isArray(b))return _handleMultipleEvents(vjs.off,a,b,c);var e=function(b){d.handlers[b]=[],vjs.cleanUpEvents(a,b)};if(b){var f=d.handlers[b];if(f){if(!c)return void e(b);if(c.guid)for(var g=0;g<f.length;g++)f[g].guid===c.guid&&f.splice(g--,1);vjs.cleanUpEvents(a,b)}}else for(var h in d.handlers)e(h)}}},vjs.cleanUpEvents=function(a,b){var c=vjs.getData(a);0===c.handlers[b].length&&(delete c.handlers[b],a.removeEventListener?a.removeEventListener(b,c.dispatcher,!1):a.detachEvent&&a.detachEvent("on"+b,c.dispatcher)),vjs.isEmpty(c.handlers)&&(delete c.handlers,delete c.dispatcher,delete c.disabled),vjs.isEmpty(c)&&vjs.removeData(a)},vjs.fixEvent=function(a){function b(){return!0}function c(){return!1}if(!a||!a.isPropagationStopped){var d=a||window.event;a={};for(var e in d)"layerX"!==e&&"layerY"!==e&&"keyLocation"!==e&&("returnValue"==e&&d.preventDefault||(a[e]=d[e]));if(a.target||(a.target=a.srcElement||document),a.relatedTarget=a.fromElement===a.target?a.toElement:a.fromElement,a.preventDefault=function(){d.preventDefault&&d.preventDefault(),a.returnValue=!1,a.isDefaultPrevented=b,a.defaultPrevented=!0},a.isDefaultPrevented=c,a.defaultPrevented=!1,a.stopPropagation=function(){d.stopPropagation&&d.stopPropagation(),a.cancelBubble=!0,a.isPropagationStopped=b},a.isPropagationStopped=c,a.stopImmediatePropagation=function(){d.stopImmediatePropagation&&d.stopImmediatePropagation(),a.isImmediatePropagationStopped=b,a.stopPropagation()},a.isImmediatePropagationStopped=c,null!=a.clientX){var f=document.documentElement,g=document.body;a.pageX=a.clientX+(f&&f.scrollLeft||g&&g.scrollLeft||0)-(f&&f.clientLeft||g&&g.clientLeft||0),a.pageY=a.clientY+(f&&f.scrollTop||g&&g.scrollTop||0)-(f&&f.clientTop||g&&g.clientTop||0)}a.which=a.charCode||a.keyCode,null!=a.button&&(a.button=1&a.button?0:4&a.button?1:2&a.button?2:0)}return a},vjs.trigger=function(a,b){var c=vjs.hasData(a)?vjs.getData(a):{},d=a.parentNode||a.ownerDocument;if("string"==typeof b&&(b={type:b,target:a}),b=vjs.fixEvent(b),c.dispatcher&&c.dispatcher.call(a,b),d&&!b.isPropagationStopped()&&b.bubbles!==!1)vjs.trigger(d,b);else if(!d&&!b.defaultPrevented){var e=vjs.getData(b.target);b.target[b.type]&&(e.disabled=!0,"function"==typeof b.target[b.type]&&b.target[b.type](),e.disabled=!1)}return!b.defaultPrevented},vjs.one=function(a,b,c){if(vjs.obj.isArray(b))return _handleMultipleEvents(vjs.one,a,b,c);var d=function(){vjs.off(a,b,d),c.apply(this,arguments)};d.guid=c.guid=c.guid||vjs.guid++,vjs.on(a,b,d)};var hasOwnProp=Object.prototype.hasOwnProperty;vjs.createEl=function(a,b){var c;return a=a||"div",b=b||{},c=document.createElement(a),vjs.obj.each(b,function(a,b){-1!==a.indexOf("aria-")||"role"==a?c.setAttribute(a,b):c[a]=b}),c},vjs.capitalize=function(a){return a.charAt(0).toUpperCase()+a.slice(1)},vjs.obj={},vjs.obj.create=Object.create||function(a){function b(){}return b.prototype=a,new b},vjs.obj.each=function(a,b,c){for(var d in a)hasOwnProp.call(a,d)&&b.call(c||this,d,a[d])},vjs.obj.merge=function(a,b){if(!b)return a;for(var c in b)hasOwnProp.call(b,c)&&(a[c]=b[c]);return a},vjs.obj.deepMerge=function(a,b){var c,d,e;a=vjs.obj.copy(a);for(c in b)hasOwnProp.call(b,c)&&(d=a[c],e=b[c],a[c]=vjs.obj.isPlain(d)&&vjs.obj.isPlain(e)?vjs.obj.deepMerge(d,e):b[c]);return a},vjs.obj.copy=function(a){return vjs.obj.merge({},a)},vjs.obj.isPlain=function(a){return!!a&&"object"==typeof a&&"[object Object]"===a.toString()&&a.constructor===Object},vjs.obj.isArray=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},vjs.isNaN=function(a){return a!==a},vjs.bind=function(a,b,c){b.guid||(b.guid=vjs.guid++);var d=function(){return b.apply(a,arguments)};return d.guid=c?c+"_"+b.guid:b.guid,d},vjs.cache={},vjs.guid=1,vjs.expando="vdata"+(new Date).getTime(),vjs.getData=function(a){var b=a[vjs.expando];return b||(b=a[vjs.expando]=vjs.guid++),vjs.cache[b]||(vjs.cache[b]={}),vjs.cache[b]},vjs.hasData=function(a){var b=a[vjs.expando];return!(!b||vjs.isEmpty(vjs.cache[b]))},vjs.removeData=function(a){var b=a[vjs.expando];if(b){delete vjs.cache[b];try{delete a[vjs.expando]}catch(b){a.removeAttribute?a.removeAttribute(vjs.expando):a[vjs.expando]=null}}},vjs.isEmpty=function(a){for(var b in a)if(null!==a[b])return!1;return!0},vjs.hasClass=function(a,b){return-1!==(" "+a.className+" ").indexOf(" "+b+" ")},vjs.addClass=function(a,b){vjs.hasClass(a,b)||(a.className=""===a.className?b:a.className+" "+b)},vjs.removeClass=function(a,b){var c,d;if(vjs.hasClass(a,b)){for(c=a.className.split(" "),d=c.length-1;d>=0;d--)c[d]===b&&c.splice(d,1);a.className=c.join(" ")}},vjs.TEST_VID=vjs.createEl("video"),function(){var a=document.createElement("track");a.kind="captions",a.srclang="en",a.label="English",vjs.TEST_VID.appendChild(a)}(),vjs.USER_AGENT=navigator.userAgent,vjs.IS_IPHONE=/iPhone/i.test(vjs.USER_AGENT),vjs.IS_IPAD=/iPad/i.test(vjs.USER_AGENT),vjs.IS_IPOD=/iPod/i.test(vjs.USER_AGENT),vjs.IS_IOS=vjs.IS_IPHONE||vjs.IS_IPAD||vjs.IS_IPOD,vjs.IOS_VERSION=function(){var a=vjs.USER_AGENT.match(/OS (\d+)_/i);return a&&a[1]?a[1]:void 0}(),vjs.IS_ANDROID=/Android/i.test(vjs.USER_AGENT),vjs.ANDROID_VERSION=function(){var a,b,c=vjs.USER_AGENT.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);return c?(a=c[1]&&parseFloat(c[1]),b=c[2]&&parseFloat(c[2]),a&&b?parseFloat(c[1]+"."+c[2]):a?a:null):null}(),vjs.IS_OLD_ANDROID=vjs.IS_ANDROID&&/webkit/i.test(vjs.USER_AGENT)&&vjs.ANDROID_VERSION<2.3,vjs.IS_FIREFOX=/Firefox/i.test(vjs.USER_AGENT),vjs.IS_CHROME=/Chrome/i.test(vjs.USER_AGENT),vjs.IS_IE8=/MSIE\s8\.0/.test(vjs.USER_AGENT),vjs.TOUCH_ENABLED=!!("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),vjs.BACKGROUND_SIZE_SUPPORTED="backgroundSize"in vjs.TEST_VID.style,vjs.setElementAttributes=function(a,b){vjs.obj.each(b,function(b,c){null===c||"undefined"==typeof c||c===!1?a.removeAttribute(b):a.setAttribute(b,c===!0?"":c)})},vjs.getElementAttributes=function(a){var b,c,d,e,f;if(b={},c=",autoplay,controls,loop,muted,default,",a&&a.attributes&&a.attributes.length>0){d=a.attributes;for(var g=d.length-1;g>=0;g--)e=d[g].name,f=d[g].value,("boolean"==typeof a[e]||-1!==c.indexOf(","+e+","))&&(f=null!==f),b[e]=f}return b},vjs.getComputedDimension=function(a,b){var c="";return document.defaultView&&document.defaultView.getComputedStyle?c=document.defaultView.getComputedStyle(a,"").getPropertyValue(b):a.currentStyle&&(c=a["client"+b.substr(0,1).toUpperCase()+b.substr(1)]+"px"),c},vjs.insertFirst=function(a,b){b.firstChild?b.insertBefore(a,b.firstChild):b.appendChild(a)},vjs.browser={},vjs.el=function(a){return 0===a.indexOf("#")&&(a=a.slice(1)),document.getElementById(a)},vjs.formatTime=function(a,b){b=b||a;var c=Math.floor(a%60),d=Math.floor(a/60%60),e=Math.floor(a/3600),f=Math.floor(b/60%60),g=Math.floor(b/3600);return(isNaN(a)||a===1/0)&&(e=d=c="-"),e=e>0||g>0?e+":":"",d=((e||f>=10)&&10>d?"0"+d:d)+":",c=10>c?"0"+c:c,e+d+c},vjs.blockTextSelection=function(){document.body.focus(),document.onselectstart=function(){return!1}},vjs.unblockTextSelection=function(){document.onselectstart=function(){return!0}},vjs.trim=function(a){return(a+"").replace(/^\s+|\s+$/g,"")},vjs.round=function(a,b){return b||(b=0),Math.round(a*Math.pow(10,b))/Math.pow(10,b)},vjs.createTimeRange=function(a,b){return{length:1,start:function(){return a},end:function(){return b}}},vjs.setLocalStorage=function(a,b){try{var c=window.localStorage||!1;if(!c)return;c[a]=b}catch(a){22==a.code||1014==a.code?vjs.log("LocalStorage Full (VideoJS)",a):18==a.code?vjs.log("LocalStorage not allowed (VideoJS)",a):vjs.log("LocalStorage Error (VideoJS)",a)}},vjs.getAbsoluteURL=function(a){return a.match(/^https?:\/\//)||(a=vjs.createEl("div",{innerHTML:'<a href="'+a+'">x</a>'}).firstChild.href),a},vjs.parseUrl=function(a){var b,c,d,e,f;e=["protocol","hostname","port","pathname","search","hash","host"],c=vjs.createEl("a",{href:a}),d=""===c.host&&"file:"!==c.protocol,d&&(b=vjs.createEl("div"),b.innerHTML='<a href="'+a+'"></a>',c=b.firstChild,b.setAttribute("style","display:none; position:absolute;"),document.body.appendChild(b)),f={};for(var g=0;g<e.length;g++)f[e[g]]=c[e[g]];return"http:"===f.protocol&&(f.host=f.host.replace(/:80$/,"")),"https:"===f.protocol&&(f.host=f.host.replace(/:443$/,"")),d&&document.body.removeChild(b),f},vjs.log=function(){_logType(null,arguments)},vjs.log.history=[],vjs.log.error=function(){_logType("error",arguments)},vjs.log.warn=function(){_logType("warn",arguments)},vjs.findPosition=function(a){var b,c,d,e,f,g,h,i,j;return a.getBoundingClientRect&&a.parentNode&&(b=a.getBoundingClientRect()),b?(c=document.documentElement,d=document.body,e=c.clientLeft||d.clientLeft||0,f=window.pageXOffset||d.scrollLeft,g=b.left+f-e,h=c.clientTop||d.clientTop||0,i=window.pageYOffset||d.scrollTop,j=b.top+i-h,{left:vjs.round(g),top:vjs.round(j)}):{left:0,top:0}},vjs.arr={},vjs.arr.forEach=function(a,b,c){if(vjs.obj.isArray(a)&&b instanceof Function)for(var d=0,e=a.length;e>d;++d)b.call(c||vjs,a[d],d,a);return a},vjs.xhr=function(a,b){var c,d,e,f,g,h,i,j,k;"string"==typeof a&&(a={uri:a}),videojs.util.mergeOptions({method:"GET",timeout:45e3},a),b=b||function(){},j=function(){window.clearTimeout(i),b(null,d,d.response||d.responseText)},k=function(a){window.clearTimeout(i),a&&"string"!=typeof a||(a=new Error(a)),b(a,d)},c=window.XMLHttpRequest,"undefined"==typeof c&&(c=function(){try{return new window.ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(a){}try{return new window.ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(a){}try{return new window.ActiveXObject("Msxml2.XMLHTTP")}catch(a){}throw new Error("This browser does not support XMLHttpRequest.")}),d=new c,d.uri=a.uri,e=vjs.parseUrl(a.uri),f=window.location,h=e.protocol+e.host!==f.protocol+f.host,!h||!window.XDomainRequest||"withCredentials"in d?(g="file:"==e.protocol||"file:"==f.protocol,d.onreadystatechange=function(){if(4===d.readyState){if(d.timedout)return k("timeout");200===d.status||g&&0===d.status?j():k()}},a.timeout&&(i=window.setTimeout(function(){4!==d.readyState&&(d.timedout=!0,d.abort())},a.timeout))):(d=new window.XDomainRequest,d.onload=j,d.onerror=k,d.onprogress=function(){},d.ontimeout=function(){});try{d.open(a.method||"GET",a.uri,!0)}catch(a){return k(a)}a.withCredentials&&(d.withCredentials=!0),a.responseType&&(d.responseType=a.responseType);try{d.send()}catch(a){return k(a)}return d},vjs.util={},vjs.util.mergeOptions=function(a,b){var c,d,e;a=vjs.obj.copy(a);for(c in b)b.hasOwnProperty(c)&&(d=a[c],e=b[c],a[c]=vjs.obj.isPlain(d)&&vjs.obj.isPlain(e)?vjs.util.mergeOptions(d,e):b[c]);return a},vjs.EventEmitter=function(){},vjs.EventEmitter.prototype.allowedEvents_={},vjs.EventEmitter.prototype.on=function(a,b){var c=this.addEventListener;this.addEventListener=Function.prototype,vjs.on(this,a,b),this.addEventListener=c},vjs.EventEmitter.prototype.addEventListener=vjs.EventEmitter.prototype.on,vjs.EventEmitter.prototype.off=function(a,b){vjs.off(this,a,b)},vjs.EventEmitter.prototype.removeEventListener=vjs.EventEmitter.prototype.off,vjs.EventEmitter.prototype.one=function(a,b){vjs.one(this,a,b)},vjs.EventEmitter.prototype.trigger=function(a){var b=a.type||a;"string"==typeof a&&(a={type:b}),a=vjs.fixEvent(a),this.allowedEvents_[b]&&this["on"+b]&&this["on"+b](a),vjs.trigger(this,a)},vjs.EventEmitter.prototype.dispatchEvent=vjs.EventEmitter.prototype.trigger,vjs.Component=vjs.CoreObject.extend({init:function(a,b,c){this.player_=a,this.options_=vjs.obj.copy(this.options_),b=this.options(b),this.id_=b.id||b.el&&b.el.id,this.id_||(this.id_=(a.id&&a.id()||"no_player")+"_component_"+vjs.guid++),this.name_=b.name||null,this.el_=b.el||this.createEl(),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.initChildren(),this.ready(c),b.reportTouchActivity!==!1&&this.enableTouchActivity()}}),vjs.Component.prototype.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var a=this.children_.length-1;a>=0;a--)this.children_[a].dispose&&this.children_[a].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.off(),this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),vjs.removeData(this.el_),this.el_=null},vjs.Component.prototype.player_=!0,vjs.Component.prototype.player=function(){return this.player_},vjs.Component.prototype.options_,vjs.Component.prototype.options=function(a){return void 0===a?this.options_:this.options_=vjs.util.mergeOptions(this.options_,a)},vjs.Component.prototype.el_,vjs.Component.prototype.createEl=function(a,b){return vjs.createEl(a,b)},vjs.Component.prototype.localize=function(a){var b=this.player_.language(),c=this.player_.languages();return c&&c[b]&&c[b][a]?c[b][a]:a},vjs.Component.prototype.el=function(){return this.el_},vjs.Component.prototype.contentEl_,vjs.Component.prototype.contentEl=function(){return this.contentEl_||this.el_},vjs.Component.prototype.id_,vjs.Component.prototype.id=function(){return this.id_},vjs.Component.prototype.name_,vjs.Component.prototype.name=function(){return this.name_},vjs.Component.prototype.children_,vjs.Component.prototype.children=function(){return this.children_},vjs.Component.prototype.childIndex_,vjs.Component.prototype.getChildById=function(a){return this.childIndex_[a]},vjs.Component.prototype.childNameIndex_,vjs.Component.prototype.getChild=function(a){return this.childNameIndex_[a]},vjs.Component.prototype.addChild=function(a,b){var c,d,e;return"string"==typeof a?(e=a,b=b||{},d=b.componentClass||vjs.capitalize(e),b.name=e,c=new window.videojs[d](this.player_||this,b)):c=a,this.children_.push(c),"function"==typeof c.id&&(this.childIndex_[c.id()]=c),e=e||c.name&&c.name(),e&&(this.childNameIndex_[e]=c),"function"==typeof c.el&&c.el()&&this.contentEl().appendChild(c.el()),c},vjs.Component.prototype.removeChild=function(a){if("string"==typeof a&&(a=this.getChild(a)),a&&this.children_){for(var b=!1,c=this.children_.length-1;c>=0;c--)if(this.children_[c]===a){b=!0,this.children_.splice(c,1);break}if(b){this.childIndex_[a.id()]=null,this.childNameIndex_[a.name()]=null;var d=a.el();d&&d.parentNode===this.contentEl()&&this.contentEl().removeChild(a.el())}}},vjs.Component.prototype.initChildren=function(){var a,b,c,d,e,f,g;if(a=this,b=a.options(),c=b.children)if(g=function(c,d){void 0!==b[c]&&(d=b[c]),d!==!1&&(a[c]=a.addChild(c,d))},vjs.obj.isArray(c))for(var h=0;h<c.length;h++)d=c[h],"string"==typeof d?(e=d,f={}):(e=d.name,f=d),g(e,f);else vjs.obj.each(c,g)},vjs.Component.prototype.buildCSSClass=function(){return""},vjs.Component.prototype.on=function(a,b,c){var d,e,f,g,h,i;return"string"==typeof a||vjs.obj.isArray(a)?vjs.on(this.el_,a,vjs.bind(this,b)):(d=a,e=b,f=vjs.bind(this,c),i=this,g=function(){i.off(d,e,f)},g.guid=f.guid,this.on("dispose",g),h=function(){i.off("dispose",g)},h.guid=f.guid,a.nodeName?(vjs.on(d,e,f),vjs.on(d,"dispose",h)):"function"==typeof a.on&&(d.on(e,f),d.on("dispose",h))),this},vjs.Component.prototype.off=function(a,b,c){var d,e,f;return!a||"string"==typeof a||vjs.obj.isArray(a)?vjs.off(this.el_,a,b):(d=a,e=b,f=vjs.bind(this,c),this.off("dispose",f),a.nodeName?(vjs.off(d,e,f),vjs.off(d,"dispose",f)):(d.off(e,f),d.off("dispose",f))),this},vjs.Component.prototype.one=function(a,b,c){var d,e,f,g,h;return"string"==typeof a||vjs.obj.isArray(a)?vjs.one(this.el_,a,vjs.bind(this,b)):(d=a,e=b,f=vjs.bind(this,c),g=this,h=function(){g.off(d,e,h),f.apply(this,arguments)},h.guid=f.guid,this.on(d,e,h)),this},vjs.Component.prototype.trigger=function(a){return vjs.trigger(this.el_,a),this},vjs.Component.prototype.isReady_,vjs.Component.prototype.isReadyOnInitFinish_=!0,vjs.Component.prototype.readyQueue_,vjs.Component.prototype.ready=function(a){return a&&(this.isReady_?a.call(this):(void 0===this.readyQueue_&&(this.readyQueue_=[]),this.readyQueue_.push(a))),this},vjs.Component.prototype.triggerReady=function(){this.isReady_=!0;var a=this.readyQueue_;if(a&&a.length>0){for(var b=0,c=a.length;c>b;b++)a[b].call(this);this.readyQueue_=[],this.trigger("ready")}},vjs.Component.prototype.hasClass=function(a){return vjs.hasClass(this.el_,a)},vjs.Component.prototype.addClass=function(a){return vjs.addClass(this.el_,a),this},vjs.Component.prototype.removeClass=function(a){return vjs.removeClass(this.el_,a),this},vjs.Component.prototype.show=function(){return this.removeClass("vjs-hidden"),this},vjs.Component.prototype.hide=function(){return this.addClass("vjs-hidden"),this},vjs.Component.prototype.lockShowing=function(){return this.addClass("vjs-lock-showing"),this},vjs.Component.prototype.unlockShowing=function(){return this.removeClass("vjs-lock-showing"),this},vjs.Component.prototype.disable=function(){this.hide(),this.show=function(){}},vjs.Component.prototype.width=function(a,b){return this.dimension("width",a,b)},vjs.Component.prototype.height=function(a,b){return this.dimension("height",a,b)},vjs.Component.prototype.dimensions=function(a,b){return this.width(a,!0).height(b)},vjs.Component.prototype.dimension=function(a,b,c){if(void 0!==b)return(null===b||vjs.isNaN(b))&&(b=0),this.el_.style[a]=-1!==(""+b).indexOf("%")||-1!==(""+b).indexOf("px")?b:"auto"===b?"":b+"px",c||this.trigger("resize"),this;if(!this.el_)return 0;var d=this.el_.style[a],e=d.indexOf("px");return-1!==e?parseInt(d.slice(0,e),10):parseInt(this.el_["offset"+vjs.capitalize(a)],10)},vjs.Component.prototype.onResize,vjs.Component.prototype.emitTapEvents=function(){var a,b,c,d,e,f,g,h,i,j;a=0,b=null,i=10,j=200,this.on("touchstart",function(c){1===c.touches.length&&(b=vjs.obj.copy(c.touches[0]),a=(new Date).getTime(),d=!0)}),this.on("touchmove",function(a){a.touches.length>1?d=!1:b&&(f=a.touches[0].pageX-b.pageX,g=a.touches[0].pageY-b.pageY,h=Math.sqrt(f*f+g*g),h>i&&(d=!1))}),e=function(){d=!1},this.on("touchleave",e),this.on("touchcancel",e),this.on("touchend",function(e){b=null,d===!0&&(c=(new Date).getTime()-a,j>c&&(e.preventDefault(),this.trigger("tap")))})},vjs.Component.prototype.enableTouchActivity=function(){var a,b,c;this.player().reportUserActivity&&(a=vjs.bind(this.player(),this.player().reportUserActivity),this.on("touchstart",function(){a(),this.clearInterval(b),b=this.setInterval(a,250)}),c=function(){a(),this.clearInterval(b)},this.on("touchmove",a),this.on("touchend",c),this.on("touchcancel",c))},vjs.Component.prototype.setTimeout=function(a,b){a=vjs.bind(this,a);var c=setTimeout(a,b),d=function(){this.clearTimeout(c)};return d.guid="vjs-timeout-"+c,this.on("dispose",d),c},vjs.Component.prototype.clearTimeout=function(a){clearTimeout(a);var b=function(){};return b.guid="vjs-timeout-"+a,this.off("dispose",b),a},vjs.Component.prototype.setInterval=function(a,b){a=vjs.bind(this,a);var c=setInterval(a,b),d=function(){this.clearInterval(c)};return d.guid="vjs-interval-"+c,this.on("dispose",d),c},vjs.Component.prototype.clearInterval=function(a){clearInterval(a);var b=function(){};return b.guid="vjs-interval-"+a,this.off("dispose",b),a},vjs.Button=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b),this.emitTapEvents(),this.on("tap",this.onClick),this.on("click",this.onClick),this.on("focus",this.onFocus),this.on("blur",this.onBlur)}}),vjs.Button.prototype.createEl=function(a,b){var c;return b=vjs.obj.merge({className:this.buildCSSClass(),role:"button","aria-live":"polite",tabIndex:0},b),c=vjs.Component.prototype.createEl.call(this,a,b),b.innerHTML||(this.contentEl_=vjs.createEl("div",{className:"vjs-control-content"}),this.controlText_=vjs.createEl("span",{className:"vjs-control-text",innerHTML:this.localize(this.buttonText)||"Need Text"}),this.contentEl_.appendChild(this.controlText_),c.appendChild(this.contentEl_)),c},vjs.Button.prototype.buildCSSClass=function(){return"vjs-control "+vjs.Component.prototype.buildCSSClass.call(this)},vjs.Button.prototype.onClick=function(){},vjs.Button.prototype.onFocus=function(){vjs.on(document,"keydown",vjs.bind(this,this.onKeyPress))},vjs.Button.prototype.onKeyPress=function(a){(32==a.which||13==a.which)&&(a.preventDefault(),this.onClick())},vjs.Button.prototype.onBlur=function(){vjs.off(document,"keydown",vjs.bind(this,this.onKeyPress))},vjs.Slider=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b),this.bar=this.getChild(this.options_.barName),this.handle=this.getChild(this.options_.handleName),this.on("mousedown",this.onMouseDown),this.on("touchstart",this.onMouseDown),this.on("focus",this.onFocus),this.on("blur",this.onBlur),this.on("click",this.onClick),this.on(a,"controlsvisible",this.update),this.on(a,this.playerEvent,this.update)}}),vjs.Slider.prototype.createEl=function(a,b){return b=b||{},b.className=b.className+" vjs-slider",b=vjs.obj.merge({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},b),vjs.Component.prototype.createEl.call(this,a,b)},vjs.Slider.prototype.onMouseDown=function(a){a.preventDefault(),vjs.blockTextSelection(),this.addClass("vjs-sliding"),this.on(document,"mousemove",this.onMouseMove),this.on(document,"mouseup",this.onMouseUp),this.on(document,"touchmove",this.onMouseMove),this.on(document,"touchend",this.onMouseUp),this.onMouseMove(a)},vjs.Slider.prototype.onMouseMove=function(){},vjs.Slider.prototype.onMouseUp=function(){vjs.unblockTextSelection(),this.removeClass("vjs-sliding"),this.off(document,"mousemove",this.onMouseMove),this.off(document,"mouseup",this.onMouseUp),this.off(document,"touchmove",this.onMouseMove),this.off(document,"touchend",this.onMouseUp),this.update()},vjs.Slider.prototype.update=function(){if(this.el_){var a,b=this.getPercent(),c=this.handle,d=this.bar;if(("number"!=typeof b||b!==b||0>b||b===1/0)&&(b=0),a=b,c){var e=this.el_,f=e.offsetWidth,g=c.el().offsetWidth,h=g?g/f:0,i=1-h,j=b*i;a=j+h/2,c.el().style.left=vjs.round(100*j,2)+"%"}d&&(d.el().style.width=vjs.round(100*a,2)+"%")}},vjs.Slider.prototype.calculateDistance=function(a){var b,c,d,e,f,g,h,i,j;if(b=this.el_,c=vjs.findPosition(b),f=g=b.offsetWidth,h=this.handle,this.options().vertical){if(e=c.top,j=a.changedTouches?a.changedTouches[0].pageY:a.pageY,h){var k=h.el().offsetHeight;e+=k/2,g-=k}return Math.max(0,Math.min(1,(e-j+g)/g))}if(d=c.left,i=a.changedTouches?a.changedTouches[0].pageX:a.pageX,h){var l=h.el().offsetWidth;d+=l/2,f-=l}return Math.max(0,Math.min(1,(i-d)/f))},vjs.Slider.prototype.onFocus=function(){this.on(document,"keydown",this.onKeyPress)},vjs.Slider.prototype.onKeyPress=function(a){37==a.which||40==a.which?(a.preventDefault(),this.stepBack()):(38==a.which||39==a.which)&&(a.preventDefault(),this.stepForward())},vjs.Slider.prototype.onBlur=function(){this.off(document,"keydown",this.onKeyPress)},vjs.Slider.prototype.onClick=function(a){a.stopImmediatePropagation(),a.preventDefault()},vjs.SliderHandle=vjs.Component.extend(),vjs.SliderHandle.prototype.defaultValue=0,vjs.SliderHandle.prototype.createEl=function(a,b){return b=b||{},b.className=b.className+" vjs-slider-handle",b=vjs.obj.merge({innerHTML:'<span class="vjs-control-text">'+this.defaultValue+"</span>"},b),vjs.Component.prototype.createEl.call(this,"div",b)},vjs.Menu=vjs.Component.extend(),vjs.Menu.prototype.addItem=function(a){this.addChild(a),a.on("click",vjs.bind(this,function(){this.unlockShowing()}))},vjs.Menu.prototype.createEl=function(){var a=this.options().contentElType||"ul";this.contentEl_=vjs.createEl(a,{className:"vjs-menu-content"});var b=vjs.Component.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return b.appendChild(this.contentEl_),vjs.on(b,"click",function(a){a.preventDefault(),a.stopImmediatePropagation()}),b},vjs.MenuItem=vjs.Button.extend({init:function(a,b){vjs.Button.call(this,a,b),this.selected(b.selected)}}),vjs.MenuItem.prototype.createEl=function(a,b){return vjs.Button.prototype.createEl.call(this,"li",vjs.obj.merge({className:"vjs-menu-item",innerHTML:this.localize(this.options_.label)},b))},vjs.MenuItem.prototype.onClick=function(){this.selected(!0)},vjs.MenuItem.prototype.selected=function(a){a?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-selected",!0)):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-selected",!1))},vjs.MenuButton=vjs.Button.extend({init:function(a,b){vjs.Button.call(this,a,b),this.update(),this.on("keydown",this.onKeyPress),this.el_.setAttribute("aria-haspopup",!0),this.el_.setAttribute("role","button")}}),vjs.MenuButton.prototype.update=function(){var a=this.createMenu();this.menu&&this.removeChild(this.menu),this.menu=a,this.addChild(a),this.items&&0===this.items.length?this.hide():this.items&&this.items.length>1&&this.show()},vjs.MenuButton.prototype.buttonPressed_=!1,vjs.MenuButton.prototype.createMenu=function(){var a=new vjs.Menu(this.player_);if(this.options().title&&a.contentEl().appendChild(vjs.createEl("li",{className:"vjs-menu-title",innerHTML:vjs.capitalize(this.options().title),tabindex:-1})),this.items=this.createItems(),this.items)for(var b=0;b<this.items.length;b++)a.addItem(this.items[b]);return a},vjs.MenuButton.prototype.createItems=function(){},vjs.MenuButton.prototype.buildCSSClass=function(){return this.className+" vjs-menu-button "+vjs.Button.prototype.buildCSSClass.call(this)},vjs.MenuButton.prototype.onFocus=function(){},vjs.MenuButton.prototype.onBlur=function(){},vjs.MenuButton.prototype.onClick=function(){this.one("mouseout",vjs.bind(this,function(){this.menu.unlockShowing(),this.el_.blur()})),this.buttonPressed_?this.unpressButton():this.pressButton()},vjs.MenuButton.prototype.onKeyPress=function(a){32==a.which||13==a.which?(this.buttonPressed_?this.unpressButton():this.pressButton(),a.preventDefault()):27==a.which&&(this.buttonPressed_&&this.unpressButton(),a.preventDefault())},vjs.MenuButton.prototype.pressButton=function(){this.buttonPressed_=!0,this.menu.lockShowing(),this.el_.setAttribute("aria-pressed",!0),this.items&&this.items.length>0&&this.items[0].el().focus()},vjs.MenuButton.prototype.unpressButton=function(){this.buttonPressed_=!1,this.menu.unlockShowing(),this.el_.setAttribute("aria-pressed",!1)},vjs.MediaError=function(a){"number"==typeof a?this.code=a:"string"==typeof a?this.message=a:"object"==typeof a&&vjs.obj.merge(this,a),this.message||(this.message=vjs.MediaError.defaultMessages[this.code]||"")},vjs.MediaError.prototype.code=0,vjs.MediaError.prototype.message="",vjs.MediaError.prototype.status=null,vjs.MediaError.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],vjs.MediaError.defaultMessages={1:"You aborted the video playback",2:"A network error caused the video download to fail part-way.",3:"The video playback was aborted due to a corruption problem or because the video used features your browser did not support.",4:"The video could not be loaded, either because the server or network failed or because the format is not supported.",
5:"The video is encrypted and we do not have the keys to decrypt it."};for(var errNum=0;errNum<vjs.MediaError.errorTypes.length;errNum++)vjs.MediaError[vjs.MediaError.errorTypes[errNum]]=errNum,vjs.MediaError.prototype[vjs.MediaError.errorTypes[errNum]]=errNum;if(function(){var a,b,c,d;for(vjs.browser.fullscreenAPI,a=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],b=a[0],d=0;d<a.length;d++)if(a[d][1]in document){c=a[d];break}if(c)for(vjs.browser.fullscreenAPI={},d=0;d<c.length;d++)vjs.browser.fullscreenAPI[b[d]]=c[d]}(),vjs.Player=vjs.Component.extend({init:function(a,b,c){this.tag=a,a.id=a.id||"vjs_video_"+vjs.guid++,this.tagAttributes=a&&vjs.getElementAttributes(a),b=vjs.obj.merge(this.getTagSettings(a),b),this.language_=b.language||vjs.options.language,this.languages_=b.languages||vjs.options.languages,this.cache_={},this.poster_=b.poster||"",this.controls_=!!b.controls,a.controls=!1,b.reportTouchActivity=!1,this.isAudio("audio"===this.tag.nodeName.toLowerCase()),vjs.Component.call(this,this,b,c),this.addClass(this.controls()?"vjs-controls-enabled":"vjs-controls-disabled"),this.isAudio()&&this.addClass("vjs-audio"),vjs.players[this.id_]=this,b.plugins&&vjs.obj.each(b.plugins,function(a,b){this[a](b)},this),this.listenForUserActivity()}}),vjs.Player.prototype.language_,vjs.Player.prototype.language=function(a){return void 0===a?this.language_:(this.language_=a,this)},vjs.Player.prototype.languages_,vjs.Player.prototype.languages=function(){return this.languages_},vjs.Player.prototype.options_=vjs.options,vjs.Player.prototype.dispose=function(){this.trigger("dispose"),this.off("dispose"),vjs.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech&&this.tech.dispose(),vjs.Component.prototype.dispose.call(this)},vjs.Player.prototype.getTagSettings=function(a){var b,c,d={sources:[],tracks:[]};if(b=vjs.getElementAttributes(a),c=b["data-setup"],null!==c&&vjs.obj.merge(b,vjs.JSON.parse(c||"{}")),vjs.obj.merge(d,b),a.hasChildNodes()){var e,f,g,h,i;for(e=a.childNodes,h=0,i=e.length;i>h;h++)f=e[h],g=f.nodeName.toLowerCase(),"source"===g?d.sources.push(vjs.getElementAttributes(f)):"track"===g&&d.tracks.push(vjs.getElementAttributes(f))}return d},vjs.Player.prototype.createEl=function(){var a,b=this.el_=vjs.Component.prototype.createEl.call(this,"div"),c=this.tag;return c.removeAttribute("width"),c.removeAttribute("height"),a=vjs.getElementAttributes(c),vjs.obj.each(a,function(c){"class"==c?b.className=a[c]:b.setAttribute(c,a[c])}),c.id+="_html5_api",c.className="vjs-tech",c.player=b.player=this,this.addClass("vjs-paused"),this.width(this.options_.width,!0),this.height(this.options_.height,!0),c.initNetworkState_=c.networkState,c.parentNode&&c.parentNode.insertBefore(b,c),vjs.insertFirst(c,b),this.el_=b,this.on("loadstart",this.onLoadStart),this.on("waiting",this.onWaiting),this.on(["canplay","canplaythrough","playing","ended"],this.onWaitEnd),this.on("seeking",this.onSeeking),this.on("seeked",this.onSeeked),this.on("ended",this.onEnded),this.on("play",this.onPlay),this.on("firstplay",this.onFirstPlay),this.on("pause",this.onPause),this.on("progress",this.onProgress),this.on("durationchange",this.onDurationChange),this.on("fullscreenchange",this.onFullscreenChange),b},vjs.Player.prototype.loadTech=function(a,b){this.tech&&this.unloadTech(),"Html5"!==a&&this.tag&&(vjs.Html5.disposeMediaElement(this.tag),this.tag=null),this.techName=a,this.isReady_=!1;var c=function(){this.player_.triggerReady()},d=vjs.obj.merge({source:b,parentEl:this.el_},this.options_[a.toLowerCase()]);b&&(this.currentType_=b.type,b.src==this.cache_.src&&this.cache_.currentTime>0&&(d.startTime=this.cache_.currentTime),this.cache_.src=b.src),this.tech=new window.videojs[a](this,d),this.tech.ready(c)},vjs.Player.prototype.unloadTech=function(){this.isReady_=!1,this.tech.dispose(),this.tech=!1},vjs.Player.prototype.onLoadStart=function(){this.removeClass("vjs-ended"),this.error(null),this.paused()?this.hasStarted(!1):this.trigger("firstplay")},vjs.Player.prototype.hasStarted_=!1,vjs.Player.prototype.hasStarted=function(a){return void 0!==a?(this.hasStarted_!==a&&(this.hasStarted_=a,a?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started")),this):this.hasStarted_},vjs.Player.prototype.onLoadedMetaData,vjs.Player.prototype.onLoadedData,vjs.Player.prototype.onLoadedAllData,vjs.Player.prototype.onPlay=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),window.gdt.Tracking.PANtracking.videoTracking(this,"Play")},vjs.Player.prototype.onWaiting=function(){this.addClass("vjs-waiting")},vjs.Player.prototype.onWaitEnd=function(){this.removeClass("vjs-waiting")},vjs.Player.prototype.onSeeking=function(){this.addClass("vjs-seeking")},vjs.Player.prototype.onSeeked=function(){this.removeClass("vjs-seeking")},vjs.Player.prototype.onFirstPlay=function(){this.options_.starttime&&this.currentTime(this.options_.starttime),this.addClass("vjs-has-started"),window.gdt.Tracking.PANtracking.videoTracking(this,"Start")},vjs.Player.prototype.onPause=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),window.gdt.Tracking.PANtracking.videoTracking(this,"Pause")},vjs.Player.prototype.onTimeUpdate,vjs.Player.prototype.onProgress=function(){1==this.bufferedPercent()&&this.trigger("loadedalldata")},vjs.Player.prototype.onEnded=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause()},vjs.Player.prototype.onDurationChange=function(){var a=this.techGet("duration");a&&(0>a&&(a=1/0),this.duration(a),a===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"))},vjs.Player.prototype.onVolumeChange,vjs.Player.prototype.onFullscreenChange=function(){this.isFullscreen()?(this.addClass("vjs-fullscreen"),window.gdt.Tracking.PANtracking.videoTracking(this,"Full Screen")):(this.removeClass("vjs-fullscreen"),window.gdt.Tracking.PANtracking.videoTracking(this,"Normal Size"))},vjs.Player.prototype.onError,vjs.Player.prototype.cache_,vjs.Player.prototype.getCache=function(){return this.cache_},vjs.Player.prototype.techCall=function(a,b){if(this.tech&&!this.tech.isReady_)this.tech.ready(function(){this[a](b)});else try{this.tech[a](b)}catch(a){throw vjs.log(a),a}},vjs.Player.prototype.techGet=function(a){if(this.tech&&this.tech.isReady_)try{return this.tech[a]()}catch(b){throw void 0===this.tech[a]?vjs.log("Video.js: "+a+" method not defined for "+this.techName+" playback technology.",b):"TypeError"==b.name?(vjs.log("Video.js: "+a+" unavailable on "+this.techName+" playback technology element.",b),this.tech.isReady_=!1):vjs.log(b),b}},vjs.Player.prototype.play=function(){return this.techCall("play"),this},vjs.Player.prototype.pause=function(){return this.techCall("pause"),this},vjs.Player.prototype.paused=function(){return this.techGet("paused")!==!1},vjs.Player.prototype.currentTime=function(a){return void 0!==a?(this.techCall("setCurrentTime",a),this):this.cache_.currentTime=this.techGet("currentTime")||0},vjs.Player.prototype.duration=function(a){return void 0!==a?(this.cache_.duration=parseFloat(a),this):(void 0===this.cache_.duration&&this.onDurationChange(),this.cache_.duration||0)},vjs.Player.prototype.remainingTime=function(){return this.duration()-this.currentTime()},vjs.Player.prototype.buffered=function(){var a=this.techGet("buffered");return a&&a.length||(a=vjs.createTimeRange(0,0)),a},vjs.Player.prototype.bufferedPercent=function(){var a,b,c=this.duration(),d=this.buffered(),e=0;if(!c)return 0;for(var f=0;f<d.length;f++)a=d.start(f),b=d.end(f),b>c&&(b=c),e+=b-a;return e/c},vjs.Player.prototype.bufferedEnd=function(){var a=this.buffered(),b=this.duration(),c=a.end(a.length-1);return c>b&&(c=b),c},vjs.Player.prototype.volume=function(a){var b;return void 0!==a?(b=Math.max(0,Math.min(1,parseFloat(a))),this.cache_.volume=b,this.techCall("setVolume",b),vjs.setLocalStorage("volume",b),this):(b=parseFloat(this.techGet("volume")),isNaN(b)?1:b)},vjs.Player.prototype.muted=function(a){return void 0!==a?(this.techCall("setMuted",a),this):this.techGet("muted")||!1},vjs.Player.prototype.supportsFullScreen=function(){return this.techGet("supportsFullScreen")||!1},vjs.Player.prototype.isFullscreen_=!1,vjs.Player.prototype.isFullscreen=function(a){return void 0!==a?(this.isFullscreen_=!!a,this):this.isFullscreen_},vjs.Player.prototype.isFullScreen=function(a){return vjs.log.warn('player.isFullScreen() has been deprecated, use player.isFullscreen() with a lowercase "s")'),this.isFullscreen(a)},vjs.Player.prototype.requestFullscreen=function(){var a=vjs.browser.fullscreenAPI;return this.isFullscreen(!0),a?(vjs.on(document,a.fullscreenchange,vjs.bind(this,function(){this.isFullscreen(document[a.fullscreenElement]),this.isFullscreen()===!1&&vjs.off(document,a.fullscreenchange,arguments.callee),this.trigger("fullscreenchange")})),this.el_[a.requestFullscreen]()):this.tech.supportsFullScreen()?this.techCall("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange")),this},vjs.Player.prototype.requestFullScreen=function(){return vjs.log.warn('player.requestFullScreen() has been deprecated, use player.requestFullscreen() with a lowercase "s")'),this.requestFullscreen()},vjs.Player.prototype.exitFullscreen=function(){var a=vjs.browser.fullscreenAPI;return this.isFullscreen(!1),a?document[a.exitFullscreen]():this.tech.supportsFullScreen()?this.techCall("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange")),this},vjs.Player.prototype.cancelFullScreen=function(){return vjs.log.warn("player.cancelFullScreen() has been deprecated, use player.exitFullscreen()"),this.exitFullscreen()},vjs.Player.prototype.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=document.documentElement.style.overflow,vjs.on(document,"keydown",vjs.bind(this,this.fullWindowOnEscKey)),document.documentElement.style.overflow="hidden",vjs.addClass(document.body,"vjs-full-window"),this.trigger("enterFullWindow")},vjs.Player.prototype.fullWindowOnEscKey=function(a){27===a.keyCode&&(this.isFullscreen()===!0?this.exitFullscreen():this.exitFullWindow())},vjs.Player.prototype.exitFullWindow=function(){this.isFullWindow=!1,vjs.off(document,"keydown",this.fullWindowOnEscKey),document.documentElement.style.overflow=this.docOrigOverflow,vjs.removeClass(document.body,"vjs-full-window"),this.trigger("exitFullWindow")},vjs.Player.prototype.selectSource=function(a){for(var b=0,c=this.options_.techOrder;b<c.length;b++){var d=vjs.capitalize(c[b]),e=window.videojs[d];if(e){if(e.isSupported())for(var f=0,g=a;f<g.length;f++){var h=g[f];if(e.canPlaySource(h))return{source:h,tech:d}}}else vjs.log.error('The "'+d+'" tech is undefined. Skipped browser support check for that tech.')}return!1},vjs.Player.prototype.src=function(a){return void 0===a?this.techGet("src"):(vjs.obj.isArray(a)?this.sourceList_(a):"string"==typeof a?this.src({src:a}):a instanceof Object&&(a.type&&!window.videojs[this.techName].canPlaySource(a)?this.sourceList_([a]):(this.cache_.src=a.src,this.currentType_=a.type||"",this.ready(function(){window.videojs[this.techName].prototype.hasOwnProperty("setSource")?this.techCall("setSource",a):this.techCall("src",a.src),"auto"==this.options_.preload&&this.load(),this.options_.autoplay&&this.play()}))),this)},vjs.Player.prototype.sourceList_=function(a){var b=this.selectSource(a);b?b.tech===this.techName?this.src(b.source):this.loadTech(b.tech,b.source):(this.setTimeout(function(){this.error({code:4,message:this.localize(this.options().notSupportedMessage)})},0),this.triggerReady())},vjs.Player.prototype.load=function(){return this.techCall("load"),this},vjs.Player.prototype.currentSrc=function(){return this.techGet("currentSrc")||this.cache_.src||""},vjs.Player.prototype.currentType=function(){return this.currentType_||""},vjs.Player.prototype.preload=function(a){return void 0!==a?(this.techCall("setPreload",a),this.options_.preload=a,this):this.techGet("preload")},vjs.Player.prototype.autoplay=function(a){return void 0!==a?(this.techCall("setAutoplay",a),this.options_.autoplay=a,this):this.techGet("autoplay",a)},vjs.Player.prototype.loop=function(a){return void 0!==a?(this.techCall("setLoop",a),this.options_.loop=a,this):this.techGet("loop")},vjs.Player.prototype.poster_,vjs.Player.prototype.poster=function(a){return void 0===a?this.poster_:(a||(a=""),this.poster_=a,this.techCall("setPoster",a),this.trigger("posterchange"),this)},vjs.Player.prototype.controls_,vjs.Player.prototype.controls=function(a){return void 0!==a?(a=!!a,this.controls_!==a&&(this.controls_=a,a?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled")):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"))),this):this.controls_},vjs.Player.prototype.usingNativeControls_,vjs.Player.prototype.usingNativeControls=function(a){return void 0!==a?(a=!!a,this.usingNativeControls_!==a&&(this.usingNativeControls_=a,a?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols"))),this):this.usingNativeControls_},vjs.Player.prototype.error_=null,vjs.Player.prototype.error=function(a){return void 0===a?this.error_:null===a?(this.error_=a,this.removeClass("vjs-error"),this):(this.error_=a instanceof vjs.MediaError?a:new vjs.MediaError(a),this.trigger("error"),this.addClass("vjs-error"),vjs.log.error("(CODE:"+this.error_.code+" "+vjs.MediaError.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this)},vjs.Player.prototype.ended=function(){return this.techGet("ended")},vjs.Player.prototype.seeking=function(){return this.techGet("seeking")},vjs.Player.prototype.userActivity_=!0,vjs.Player.prototype.reportUserActivity=function(){this.userActivity_=!0},vjs.Player.prototype.userActive_=!0,vjs.Player.prototype.userActive=function(a){return void 0!==a?(a=!!a,a!==this.userActive_&&(this.userActive_=a,a?(this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive")):(this.userActivity_=!1,this.tech&&this.tech.one("mousemove",function(a){a.stopPropagation(),a.preventDefault()}),this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive"))),this):this.userActive_},vjs.Player.prototype.listenForUserActivity=function(){var a,b,c,d,e,f,g,h,i;a=vjs.bind(this,this.reportUserActivity),b=function(b){(b.screenX!=h||b.screenY!=i)&&(h=b.screenX,i=b.screenY,a())},c=function(){a(),this.clearInterval(d),d=this.setInterval(a,250)},e=function(){a(),this.clearInterval(d)},this.on("mousedown",c),this.on("mousemove",b),this.on("mouseup",e),this.on("keydown",a),this.on("keyup",a),f=this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(g);var a=this.options().inactivityTimeout;a>0&&(g=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},a))}},250)},vjs.Player.prototype.playbackRate=function(a){return void 0!==a?(this.techCall("setPlaybackRate",a),this):this.tech&&this.tech.featuresPlaybackRate?this.techGet("playbackRate"):1},vjs.Player.prototype.isAudio_=!1,vjs.Player.prototype.isAudio=function(a){return void 0!==a?(this.isAudio_=!!a,this):this.isAudio_},vjs.Player.prototype.networkState=function(){return this.techGet("networkState")},vjs.Player.prototype.readyState=function(){return this.techGet("readyState")},vjs.Player.prototype.textTracks=function(){return this.tech&&this.tech.textTracks()},vjs.Player.prototype.remoteTextTracks=function(){return this.tech&&this.tech.remoteTextTracks()},vjs.Player.prototype.addTextTrack=function(a,b,c){return this.tech&&this.tech.addTextTrack(a,b,c)},vjs.Player.prototype.addRemoteTextTrack=function(a){return this.tech&&this.tech.addRemoteTextTrack(a)},vjs.Player.prototype.removeRemoteTextTrack=function(a){this.tech&&this.tech.removeRemoteTextTrack(a)},vjs.ControlBar=vjs.Component.extend(),vjs.ControlBar.prototype.options_={loadEvent:"play",children:{playToggle:{},currentTimeDisplay:{},timeDivider:{},durationDisplay:{},remainingTimeDisplay:{},liveDisplay:{},progressControl:{},fullscreenToggle:{},volumeControl:{},muteToggle:{},playbackRateMenuButton:{},subtitlesButton:{},captionsButton:{},chaptersButton:{}}},vjs.ControlBar.prototype.createEl=function(){return vjs.createEl("div",{className:"vjs-control-bar"})},vjs.LiveDisplay=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b)}}),vjs.LiveDisplay.prototype.createEl=function(){var a=vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-live-controls vjs-control"});return this.contentEl_=vjs.createEl("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+"</span>"+this.localize("LIVE"),"aria-live":"off"}),a.appendChild(this.contentEl_),a},vjs.PlayToggle=vjs.Button.extend({init:function(a,b){vjs.Button.call(this,a,b),this.on(a,"play",this.onPlay),this.on(a,"pause",this.onPause)}}),vjs.PlayToggle.prototype.buttonText="Play",vjs.PlayToggle.prototype.buildCSSClass=function(){return"vjs-play-control "+vjs.Button.prototype.buildCSSClass.call(this)},vjs.PlayToggle.prototype.onClick=function(){this.player_.paused()?this.player_.play():this.player_.pause()},vjs.PlayToggle.prototype.onPlay=function(){this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.el_.children[0].children[0].innerHTML=this.localize("Pause")},vjs.PlayToggle.prototype.onPause=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.el_.children[0].children[0].innerHTML=this.localize("Play")},vjs.CurrentTimeDisplay=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b),this.on(a,"timeupdate",this.updateContent)}}),vjs.CurrentTimeDisplay.prototype.createEl=function(){var a=vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-current-time vjs-time-controls vjs-control"});return this.contentEl_=vjs.createEl("div",{className:"vjs-current-time-display",innerHTML:'<span class="vjs-control-text">Current Time </span>0:00',"aria-live":"off"}),a.appendChild(this.contentEl_),a},vjs.CurrentTimeDisplay.prototype.updateContent=function(){var a=this.player_.scrubbing?this.player_.getCache().currentTime:this.player_.currentTime();this.contentEl_.innerHTML='<span class="vjs-control-text">'+this.localize("Current Time")+"</span> "+vjs.formatTime(a,this.player_.duration())},vjs.DurationDisplay=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b),this.on(a,"timeupdate",this.updateContent)}}),vjs.DurationDisplay.prototype.createEl=function(){var a=vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-duration vjs-time-controls vjs-control"});return this.contentEl_=vjs.createEl("div",{className:"vjs-duration-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Duration Time")+"</span> 0:00","aria-live":"off"}),a.appendChild(this.contentEl_),a},vjs.DurationDisplay.prototype.updateContent=function(){var a=this.player_.duration();a&&(this.contentEl_.innerHTML='<span class="vjs-control-text">'+this.localize("Duration Time")+"</span> "+vjs.formatTime(a))},vjs.TimeDivider=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b)}}),vjs.TimeDivider.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-time-divider",innerHTML:"<div><span>/</span></div>"})},vjs.RemainingTimeDisplay=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b),this.on(a,"timeupdate",this.updateContent)}}),vjs.RemainingTimeDisplay.prototype.createEl=function(){var a=vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-remaining-time vjs-time-controls vjs-control"});return this.contentEl_=vjs.createEl("div",{className:"vjs-remaining-time-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Remaining Time")+"</span> -0:00","aria-live":"off"}),a.appendChild(this.contentEl_),a},vjs.RemainingTimeDisplay.prototype.updateContent=function(){this.player_.duration()&&(this.contentEl_.innerHTML='<span class="vjs-control-text">'+this.localize("Remaining Time")+"</span> -"+vjs.formatTime(this.player_.remainingTime()))},vjs.FullscreenToggle=vjs.Button.extend({init:function(a,b){vjs.Button.call(this,a,b)}}),vjs.FullscreenToggle.prototype.buttonText="Fullscreen",vjs.FullscreenToggle.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+vjs.Button.prototype.buildCSSClass.call(this)},vjs.FullscreenToggle.prototype.onClick=function(){this.player_.isFullscreen()?(this.player_.exitFullscreen(),this.controlText_.innerHTML=this.localize("Fullscreen")):(this.player_.requestFullscreen(),this.controlText_.innerHTML=this.localize("Non-Fullscreen"))},vjs.ProgressControl=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b)}}),vjs.ProgressControl.prototype.options_={children:{seekBar:{}}},vjs.ProgressControl.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},vjs.SeekBar=vjs.Slider.extend({init:function(a,b){vjs.Slider.call(this,a,b),this.on(a,"timeupdate",this.updateARIAAttributes),a.ready(vjs.bind(this,this.updateARIAAttributes))}}),vjs.SeekBar.prototype.options_={children:{loadProgressBar:{},playProgressBar:{},seekHandle:{}},barName:"playProgressBar",handleName:"seekHandle"},vjs.SeekBar.prototype.playerEvent="timeupdate",vjs.SeekBar.prototype.createEl=function(){return vjs.Slider.prototype.createEl.call(this,"div",{className:"vjs-progress-holder","aria-label":"video progress bar"})},vjs.SeekBar.prototype.updateARIAAttributes=function(){var a=this.player_.scrubbing?this.player_.getCache().currentTime:this.player_.currentTime();this.el_.setAttribute("aria-valuenow",vjs.round(100*this.getPercent(),2)),this.el_.setAttribute("aria-valuetext",vjs.formatTime(a,this.player_.duration()))},vjs.SeekBar.prototype.getPercent=function(){return this.player_.currentTime()/this.player_.duration()},vjs.SeekBar.prototype.onMouseDown=function(a){vjs.Slider.prototype.onMouseDown.call(this,a),this.player_.scrubbing=!0,this.player_.addClass("vjs-scrubbing"),this.videoWasPlaying=!this.player_.paused(),this.player_.pause()},vjs.SeekBar.prototype.onMouseMove=function(a){var b=this.calculateDistance(a)*this.player_.duration();b==this.player_.duration()&&(b-=.1),this.player_.currentTime(b)},vjs.SeekBar.prototype.onMouseUp=function(a){vjs.Slider.prototype.onMouseUp.call(this,a),this.player_.scrubbing=!1,this.player_.removeClass("vjs-scrubbing"),this.videoWasPlaying&&this.player_.play()},vjs.SeekBar.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},vjs.SeekBar.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},vjs.LoadProgressBar=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b),this.on(a,"progress",this.update)}}),vjs.LoadProgressBar.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+"</span>: 0%</span>"})},vjs.LoadProgressBar.prototype.update=function(){var a,b,c,d,e=this.player_.buffered(),f=this.player_.duration(),g=this.player_.bufferedEnd(),h=this.el_.children,i=function(a,b){var c=a/b||0;return 100*c+"%"};for(this.el_.style.width=i(g,f),a=0;a<e.length;a++)b=e.start(a),c=e.end(a),d=h[a],d||(d=this.el_.appendChild(vjs.createEl())),d.style.left=i(b,g),d.style.width=i(c-b,g);for(a=h.length;a>e.length;a--)this.el_.removeChild(h[a-1])},vjs.PlayProgressBar=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b)}}),vjs.PlayProgressBar.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-play-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"})},vjs.SeekHandle=vjs.SliderHandle.extend({init:function(a,b){vjs.SliderHandle.call(this,a,b),this.on(a,"timeupdate",this.updateContent)}}),vjs.SeekHandle.prototype.defaultValue="00:00",vjs.SeekHandle.prototype.createEl=function(){return vjs.SliderHandle.prototype.createEl.call(this,"div",{className:"vjs-seek-handle","aria-live":"off"})},vjs.SeekHandle.prototype.updateContent=function(){var a=this.player_.scrubbing?this.player_.getCache().currentTime:this.player_.currentTime();this.el_.innerHTML='<span class="vjs-control-text">'+vjs.formatTime(a,this.player_.duration())+"</span>"},vjs.VolumeControl=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b),a.tech&&a.tech.featuresVolumeControl===!1&&this.addClass("vjs-hidden"),this.on(a,"loadstart",function(){a.tech.featuresVolumeControl===!1?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")})}}),vjs.VolumeControl.prototype.options_={children:{volumeBar:{}}},vjs.VolumeControl.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control"})},vjs.VolumeBar=vjs.Slider.extend({init:function(a,b){vjs.Slider.call(this,a,b),this.on(a,"volumechange",this.updateARIAAttributes),a.ready(vjs.bind(this,this.updateARIAAttributes))}}),vjs.VolumeBar.prototype.updateARIAAttributes=function(){this.el_.setAttribute("aria-valuenow",vjs.round(100*this.player_.volume(),2)),this.el_.setAttribute("aria-valuetext",vjs.round(100*this.player_.volume(),2)+"%")},vjs.VolumeBar.prototype.options_={children:{volumeLevel:{},volumeHandle:{}},barName:"volumeLevel",handleName:"volumeHandle"},vjs.VolumeBar.prototype.playerEvent="volumechange",vjs.VolumeBar.prototype.createEl=function(){return vjs.Slider.prototype.createEl.call(this,"div",{className:"vjs-volume-bar","aria-label":"volume level"})},vjs.VolumeBar.prototype.onMouseMove=function(a){this.player_.muted()&&this.player_.muted(!1),this.player_.volume(this.calculateDistance(a))},vjs.VolumeBar.prototype.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},vjs.VolumeBar.prototype.stepForward=function(){this.player_.volume(this.player_.volume()+.1)},vjs.VolumeBar.prototype.stepBack=function(){this.player_.volume(this.player_.volume()-.1)},vjs.VolumeLevel=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b)}}),vjs.VolumeLevel.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},vjs.VolumeHandle=vjs.SliderHandle.extend(),vjs.VolumeHandle.prototype.defaultValue="00:00",vjs.VolumeHandle.prototype.createEl=function(){return vjs.SliderHandle.prototype.createEl.call(this,"div",{className:"vjs-volume-handle"})},vjs.MuteToggle=vjs.Button.extend({init:function(a,b){vjs.Button.call(this,a,b),this.on(a,"volumechange",this.update),a.tech&&a.tech.featuresVolumeControl===!1&&this.addClass("vjs-hidden"),this.on(a,"loadstart",function(){a.tech.featuresVolumeControl===!1?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")})}}),vjs.MuteToggle.prototype.createEl=function(){return vjs.Button.prototype.createEl.call(this,"div",{className:"vjs-mute-control vjs-control",innerHTML:'<div><span class="vjs-control-text">'+this.localize("Mute")+"</span></div>"})},vjs.MuteToggle.prototype.onClick=function(){this.player_.muted(!this.player_.muted())},vjs.MuteToggle.prototype.update=function(){var a=this.player_.volume(),b=3;0===a||this.player_.muted()?b=0:.33>a?b=1:.67>a&&(b=2),this.player_.muted()?this.el_.children[0].children[0].innerHTML!=this.localize("Unmute")&&(this.el_.children[0].children[0].innerHTML=this.localize("Unmute")):this.el_.children[0].children[0].innerHTML!=this.localize("Mute")&&(this.el_.children[0].children[0].innerHTML=this.localize("Mute"));for(var c=0;4>c;c++)vjs.removeClass(this.el_,"vjs-vol-"+c);vjs.addClass(this.el_,"vjs-vol-"+b)},vjs.VolumeMenuButton=vjs.MenuButton.extend({init:function(a,b){vjs.MenuButton.call(this,a,b),this.on(a,"volumechange",this.volumeUpdate),a.tech&&a.tech.featuresVolumeControl===!1&&this.addClass("vjs-hidden"),this.on(a,"loadstart",function(){a.tech.featuresVolumeControl===!1?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}),this.addClass("vjs-menu-button")}}),vjs.VolumeMenuButton.prototype.createMenu=function(){var a=new vjs.Menu(this.player_,{contentElType:"div"}),b=new vjs.VolumeBar(this.player_,this.options_.volumeBar);return b.on("focus",function(){a.lockShowing()}),b.on("blur",function(){a.unlockShowing()}),a.addChild(b),a},vjs.VolumeMenuButton.prototype.onClick=function(){vjs.MuteToggle.prototype.onClick.call(this),vjs.MenuButton.prototype.onClick.call(this)},vjs.VolumeMenuButton.prototype.createEl=function(){return vjs.Button.prototype.createEl.call(this,"div",{className:"vjs-volume-menu-button vjs-menu-button vjs-control",innerHTML:'<div><span class="vjs-control-text">'+this.localize("Mute")+"</span></div>"})},vjs.VolumeMenuButton.prototype.volumeUpdate=vjs.MuteToggle.prototype.update,vjs.PlaybackRateMenuButton=vjs.MenuButton.extend({init:function(a,b){vjs.MenuButton.call(this,a,b),this.updateVisibility(),this.updateLabel(),this.on(a,"loadstart",this.updateVisibility),this.on(a,"ratechange",this.updateLabel)}}),vjs.PlaybackRateMenuButton.prototype.buttonText="Playback Rate",vjs.PlaybackRateMenuButton.prototype.className="vjs-playback-rate",vjs.PlaybackRateMenuButton.prototype.createEl=function(){var a=vjs.MenuButton.prototype.createEl.call(this);return this.labelEl_=vjs.createEl("div",{className:"vjs-playback-rate-value",innerHTML:1}),a.appendChild(this.labelEl_),a},vjs.PlaybackRateMenuButton.prototype.createMenu=function(){var a=new vjs.Menu(this.player()),b=this.player().options().playbackRates;if(b)for(var c=b.length-1;c>=0;c--)a.addChild(new vjs.PlaybackRateMenuItem(this.player(),{rate:b[c]+"x"}));return a},vjs.PlaybackRateMenuButton.prototype.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},vjs.PlaybackRateMenuButton.prototype.onClick=function(){for(var a=this.player().playbackRate(),b=this.player().options().playbackRates,c=b[0],d=0;d<b.length;d++)if(b[d]>a){c=b[d];break}this.player().playbackRate(c)},vjs.PlaybackRateMenuButton.prototype.playbackRateSupported=function(){return this.player().tech&&this.player().tech.featuresPlaybackRate&&this.player().options().playbackRates&&this.player().options().playbackRates.length>0},vjs.PlaybackRateMenuButton.prototype.updateVisibility=function(){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},vjs.PlaybackRateMenuButton.prototype.updateLabel=function(){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},vjs.PlaybackRateMenuItem=vjs.MenuItem.extend({contentElType:"button",init:function(a,b){var c=this.label=b.rate,d=this.rate=parseFloat(c,10);b.label=c,b.selected=1===d,vjs.MenuItem.call(this,a,b),this.on(a,"ratechange",this.update)}}),vjs.PlaybackRateMenuItem.prototype.onClick=function(){vjs.MenuItem.prototype.onClick.call(this),this.player().playbackRate(this.rate)},vjs.PlaybackRateMenuItem.prototype.update=function(){this.selected(this.player().playbackRate()==this.rate)},vjs.PosterImage=vjs.Button.extend({init:function(a,b){vjs.Button.call(this,a,b),
this.update(),a.on("posterchange",vjs.bind(this,this.update))}}),vjs.PosterImage.prototype.dispose=function(){this.player().off("posterchange",this.update),vjs.Button.prototype.dispose.call(this)},vjs.PosterImage.prototype.createEl=function(){var a=vjs.createEl("div",{className:"vjs-poster",tabIndex:-1});return vjs.BACKGROUND_SIZE_SUPPORTED||(this.fallbackImg_=vjs.createEl("img"),a.appendChild(this.fallbackImg_)),a},vjs.PosterImage.prototype.update=function(){var a=this.player().poster();this.setSrc(a),a?this.show():this.hide()},vjs.PosterImage.prototype.setSrc=function(a){var b;this.fallbackImg_?this.fallbackImg_.src=a:(b="",a&&(b='url("'+a+'")'),this.el_.style.backgroundImage=b)},vjs.PosterImage.prototype.onClick=function(){this.player_.play()},vjs.LoadingSpinner=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b)}}),vjs.LoadingSpinner.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner"})},vjs.BigPlayButton=vjs.Button.extend(),vjs.BigPlayButton.prototype.createEl=function(){return vjs.Button.prototype.createEl.call(this,"div",{className:"vjs-big-play-button",innerHTML:'<span aria-hidden="true"></span>',"aria-label":"play"})},vjs.BigPlayButton.prototype.onClick=function(){this.player_.play()},vjs.ErrorDisplay=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b),this.update(),this.on(a,"error",this.update)}}),vjs.ErrorDisplay.prototype.createEl=function(){var a=vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-error-display"});return this.contentEl_=vjs.createEl("div"),a.appendChild(this.contentEl_),a},vjs.ErrorDisplay.prototype.update=function(){this.player().error()&&(this.contentEl_.innerHTML=this.localize(this.player().error().message))},function(){var a;vjs.MediaTechController=vjs.Component.extend({init:function(a,b,c){b=b||{},b.reportTouchActivity=!1,vjs.Component.call(this,a,b,c),this.featuresProgressEvents||this.manualProgressOn(),this.featuresTimeupdateEvents||this.manualTimeUpdatesOn(),this.initControlsListeners(),this.featuresNativeTextTracks||this.emulateTextTracks(),this.initTextTrackListeners()}}),vjs.MediaTechController.prototype.initControlsListeners=function(){var a,b;a=this.player(),b=function(){a.controls()&&!a.usingNativeControls()&&this.addControlsListeners()},this.ready(b),this.on(a,"controlsenabled",b),this.on(a,"controlsdisabled",this.removeControlsListeners),this.ready(function(){this.networkState&&this.networkState()>0&&this.player().trigger("loadstart")})},vjs.MediaTechController.prototype.addControlsListeners=function(){var a;this.on("mousedown",this.onClick),this.on("touchstart",function(){a=this.player_.userActive()}),this.on("touchmove",function(){a&&this.player().reportUserActivity()}),this.on("touchend",function(a){a.preventDefault()}),this.emitTapEvents(),this.on("tap",this.onTap)},vjs.MediaTechController.prototype.removeControlsListeners=function(){this.off("tap"),this.off("touchstart"),this.off("touchmove"),this.off("touchleave"),this.off("touchcancel"),this.off("touchend"),this.off("click"),this.off("mousedown")},vjs.MediaTechController.prototype.onClick=function(a){0===a.button&&this.player().controls()&&(this.player().paused()?this.player().play():this.player().pause())},vjs.MediaTechController.prototype.onTap=function(){this.player().userActive(!this.player().userActive())},vjs.MediaTechController.prototype.manualProgressOn=function(){this.manualProgress=!0,this.trackProgress()},vjs.MediaTechController.prototype.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress()},vjs.MediaTechController.prototype.trackProgress=function(){this.progressInterval=this.setInterval(function(){var a=this.player().bufferedPercent();this.bufferedPercent_!=a&&this.player().trigger("progress"),this.bufferedPercent_=a,1===a&&this.stopTrackingProgress()},500)},vjs.MediaTechController.prototype.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},vjs.MediaTechController.prototype.manualTimeUpdatesOn=function(){var a=this.player_;this.manualTimeUpdates=!0,this.on(a,"play",this.trackCurrentTime),this.on(a,"pause",this.stopTrackingCurrentTime),this.one("timeupdate",function(){this.featuresTimeupdateEvents=!0,this.manualTimeUpdatesOff()})},vjs.MediaTechController.prototype.manualTimeUpdatesOff=function(){var a=this.player_;this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off(a,"play",this.trackCurrentTime),this.off(a,"pause",this.stopTrackingCurrentTime)},vjs.MediaTechController.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.player().trigger("timeupdate")},250)},vjs.MediaTechController.prototype.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.player().trigger("timeupdate")},vjs.MediaTechController.prototype.dispose=function(){this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),vjs.Component.prototype.dispose.call(this)},vjs.MediaTechController.prototype.setCurrentTime=function(){this.manualTimeUpdates&&this.player().trigger("timeupdate")},vjs.MediaTechController.prototype.initTextTrackListeners=function(){var a,b=this.player_,c=function(){var a=b.getChild("textTrackDisplay");a&&a.updateDisplay()};a=this.textTracks(),a&&(a.addEventListener("removetrack",c),a.addEventListener("addtrack",c),this.on("dispose",vjs.bind(this,function(){a.removeEventListener("removetrack",c),a.removeEventListener("addtrack",c)})))},vjs.MediaTechController.prototype.emulateTextTracks=function(){var a,b,c,d=this.player_;window.WebVTT||(c=document.createElement("script"),c.src=d.options()["vtt.js"]||"../node_modules/vtt.js/dist/vtt.js",d.el().appendChild(c),window.WebVTT=!0),b=this.textTracks(),b&&(a=function(){var a,b,c;for(c=d.getChild("textTrackDisplay"),c.updateDisplay(),a=0;a<this.length;a++)b=this[a],b.removeEventListener("cuechange",vjs.bind(c,c.updateDisplay)),"showing"===b.mode&&b.addEventListener("cuechange",vjs.bind(c,c.updateDisplay))},b.addEventListener("change",a),this.on("dispose",vjs.bind(this,function(){b.removeEventListener("change",a)})))},vjs.MediaTechController.prototype.textTracks_,vjs.MediaTechController.prototype.textTracks=function(){return this.player_.textTracks_=this.player_.textTracks_||new vjs.TextTrackList,this.player_.textTracks_},vjs.MediaTechController.prototype.remoteTextTracks=function(){return this.player_.remoteTextTracks_=this.player_.remoteTextTracks_||new vjs.TextTrackList,this.player_.remoteTextTracks_},a=function(a,b,c,d,e){var f,g=a.textTracks();return e=e||{},e.kind=b,c&&(e.label=c),d&&(e.language=d),e.player=a.player_,f=new vjs.TextTrack(e),g.addTrack_(f),f},vjs.MediaTechController.prototype.addTextTrack=function(b,c,d){if(!b)throw new Error("TextTrack kind is required but was not provided");return a(this,b,c,d)},vjs.MediaTechController.prototype.addRemoteTextTrack=function(b){var c=a(this,b.kind,b.label,b.language,b);return this.remoteTextTracks().addTrack_(c),{track:c}},vjs.MediaTechController.prototype.removeRemoteTextTrack=function(a){this.textTracks().removeTrack_(a),this.remoteTextTracks().removeTrack_(a)},vjs.MediaTechController.prototype.setPoster=function(){},vjs.MediaTechController.prototype.featuresVolumeControl=!0,vjs.MediaTechController.prototype.featuresFullscreenResize=!1,vjs.MediaTechController.prototype.featuresPlaybackRate=!1,vjs.MediaTechController.prototype.featuresProgressEvents=!1,vjs.MediaTechController.prototype.featuresTimeupdateEvents=!1,vjs.MediaTechController.prototype.featuresNativeTextTracks=!1,vjs.MediaTechController.withSourceHandlers=function(a){a.registerSourceHandler=function(b,c){var d=a.sourceHandlers;d||(d=a.sourceHandlers=[]),void 0===c&&(c=d.length),d.splice(c,0,b)},a.selectSourceHandler=function(b){for(var c,d=a.sourceHandlers||[],e=0;e<d.length;e++)if(c=d[e].canHandleSource(b))return d[e];return null},a.canPlaySource=function(b){var c=a.selectSourceHandler(b);return c?c.canHandleSource(b):""},a.prototype.setSource=function(b){var c=a.selectSourceHandler(b);return c||(a.nativeSourceHandler?c=a.nativeSourceHandler:vjs.log.error("No source hander found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),this.currentSource_=b,this.sourceHandler_=c.handleSource(b,this),this.on("dispose",this.disposeSourceHandler),this},a.prototype.disposeSourceHandler=function(){this.sourceHandler_&&this.sourceHandler_.dispose&&this.sourceHandler_.dispose()}},vjs.media={}}(),vjs.Html5=vjs.MediaTechController.extend({init:function(a,b,c){var d,e,f,g,h,i;(b.nativeCaptions===!1||b.nativeTextTracks===!1)&&(this.featuresNativeTextTracks=!1),vjs.MediaTechController.call(this,a,b,c),this.setupTriggers();var j=b.source;if(j&&(this.el_.currentSrc!==j.src||a.tag&&3===a.tag.initNetworkState_)&&this.setSource(j),this.el_.hasChildNodes()){for(d=this.el_.childNodes,e=d.length,i=[];e--;)g=d[e],h=g.nodeName.toLowerCase(),"track"===h&&(this.featuresNativeTextTracks?this.remoteTextTracks().addTrack_(g.track):i.push(g));for(f=0;f<i.length;f++)this.el_.removeChild(i[f])}this.featuresNativeTextTracks&&this.on("loadstart",vjs.bind(this,this.hideCaptions)),vjs.TOUCH_ENABLED&&a.options().nativeControlsForTouch===!0&&this.useNativeControls(),a.ready(function(){this.tag&&this.options_.autoplay&&this.paused()&&(delete this.tag.poster,this.play())}),this.triggerReady()}}),vjs.Html5.prototype.dispose=function(){vjs.Html5.disposeMediaElement(this.el_),vjs.MediaTechController.prototype.dispose.call(this)},vjs.Html5.prototype.createEl=function(){var a,b,c,d,e,f=this.player_,g=f.tag;if(!g||this.movingMediaElementInDOM===!1){if(g?(e=g.cloneNode(!1),vjs.Html5.disposeMediaElement(g),g=e,f.tag=null):(g=vjs.createEl("video"),d=videojs.util.mergeOptions({},f.tagAttributes),vjs.TOUCH_ENABLED&&f.options().nativeControlsForTouch===!0||delete d.controls,vjs.setElementAttributes(g,vjs.obj.merge(d,{id:f.id()+"_html5_api",class:"vjs-tech"}))),g.player=f,f.options_.tracks)for(c=0;c<f.options_.tracks.length;c++)a=f.options_.tracks[c],b=document.createElement("track"),b.kind=a.kind,b.label=a.label,b.srclang=a.srclang,b.src=a.src,"default"in a&&b.setAttribute("default","default"),g.appendChild(b);vjs.insertFirst(g,f.el())}var h=["autoplay","preload","loop","muted"];for(c=h.length-1;c>=0;c--){var i=h[c],j={};"undefined"!=typeof f.options_[i]&&(j[i]=f.options_[i]),vjs.setElementAttributes(g,j)}return g},vjs.Html5.prototype.hideCaptions=function(){for(var a,b=this.el_.querySelectorAll("track"),c=b.length,d={captions:1,subtitles:1};c--;)a=b[c].track,a&&a.kind in d&&!b[c].default&&(a.mode="disabled")},vjs.Html5.prototype.setupTriggers=function(){for(var a=vjs.Html5.Events.length-1;a>=0;a--)this.on(vjs.Html5.Events[a],this.eventHandler)},vjs.Html5.prototype.eventHandler=function(a){"error"==a.type&&this.error()?this.player().error(this.error().code):(a.bubbles=!1,this.player().trigger(a))},vjs.Html5.prototype.useNativeControls=function(){var a,b,c,d,e;a=this,b=this.player(),a.setControls(b.controls()),c=function(){a.setControls(!0)},d=function(){a.setControls(!1)},b.on("controlsenabled",c),b.on("controlsdisabled",d),e=function(){b.off("controlsenabled",c),b.off("controlsdisabled",d)},a.on("dispose",e),b.on("usingcustomcontrols",e),b.usingNativeControls(!0)},vjs.Html5.prototype.play=function(){this.el_.play()},vjs.Html5.prototype.pause=function(){this.el_.pause()},vjs.Html5.prototype.paused=function(){return this.el_.paused},vjs.Html5.prototype.currentTime=function(){return this.el_.currentTime},vjs.Html5.prototype.setCurrentTime=function(a){try{this.el_.currentTime=a}catch(a){vjs.log(a,"Video is not ready. (Video.js)")}},vjs.Html5.prototype.duration=function(){return this.el_.duration||0},vjs.Html5.prototype.buffered=function(){return this.el_.buffered},vjs.Html5.prototype.volume=function(){return this.el_.volume},vjs.Html5.prototype.setVolume=function(a){this.el_.volume=a},vjs.Html5.prototype.muted=function(){return this.el_.muted},vjs.Html5.prototype.setMuted=function(a){this.el_.muted=a},vjs.Html5.prototype.width=function(){return this.el_.offsetWidth},vjs.Html5.prototype.height=function(){return this.el_.offsetHeight},vjs.Html5.prototype.supportsFullScreen=function(){return!("function"!=typeof this.el_.webkitEnterFullScreen||!/Android/.test(vjs.USER_AGENT)&&/Chrome|Mac OS X 10.5/.test(vjs.USER_AGENT))},vjs.Html5.prototype.enterFullScreen=function(){var a=this.el_;"webkitDisplayingFullscreen"in a&&this.one("webkitbeginfullscreen",function(){this.player_.isFullscreen(!0),this.one("webkitendfullscreen",function(){this.player_.isFullscreen(!1),this.player_.trigger("fullscreenchange")}),this.player_.trigger("fullscreenchange")}),a.paused&&a.networkState<=a.HAVE_METADATA?(this.el_.play(),this.setTimeout(function(){a.pause(),a.webkitEnterFullScreen()},0)):a.webkitEnterFullScreen()},vjs.Html5.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()},vjs.Html5.prototype.src=function(a){return void 0===a?this.el_.src:void this.setSrc(a)},vjs.Html5.prototype.setSrc=function(a){this.el_.src=a},vjs.Html5.prototype.load=function(){this.el_.load()},vjs.Html5.prototype.currentSrc=function(){return this.el_.currentSrc},vjs.Html5.prototype.poster=function(){return this.el_.poster},vjs.Html5.prototype.setPoster=function(a){this.el_.poster=a},vjs.Html5.prototype.preload=function(){return this.el_.preload},vjs.Html5.prototype.setPreload=function(a){this.el_.preload=a},vjs.Html5.prototype.autoplay=function(){return this.el_.autoplay},vjs.Html5.prototype.setAutoplay=function(a){this.el_.autoplay=a},vjs.Html5.prototype.controls=function(){return this.el_.controls},vjs.Html5.prototype.setControls=function(a){this.el_.controls=!!a},vjs.Html5.prototype.loop=function(){return this.el_.loop},vjs.Html5.prototype.setLoop=function(a){this.el_.loop=a},vjs.Html5.prototype.error=function(){return this.el_.error},vjs.Html5.prototype.seeking=function(){return this.el_.seeking},vjs.Html5.prototype.ended=function(){return this.el_.ended},vjs.Html5.prototype.defaultMuted=function(){return this.el_.defaultMuted},vjs.Html5.prototype.playbackRate=function(){return this.el_.playbackRate},vjs.Html5.prototype.setPlaybackRate=function(a){this.el_.playbackRate=a},vjs.Html5.prototype.networkState=function(){return this.el_.networkState},vjs.Html5.prototype.readyState=function(){return this.el_.readyState},vjs.Html5.prototype.textTracks=function(){return this.featuresNativeTextTracks?this.el_.textTracks:vjs.MediaTechController.prototype.textTracks.call(this)},vjs.Html5.prototype.addTextTrack=function(a,b,c){return this.featuresNativeTextTracks?this.el_.addTextTrack(a,b,c):vjs.MediaTechController.prototype.addTextTrack.call(this,a,b,c)},vjs.Html5.prototype.addRemoteTextTrack=function(a){if(!this.featuresNativeTextTracks)return vjs.MediaTechController.prototype.addRemoteTextTrack.call(this,a);var b=document.createElement("track");return a=a||{},a.kind&&(b.kind=a.kind),a.label&&(b.label=a.label),(a.language||a.srclang)&&(b.srclang=a.language||a.srclang),a.default&&(b.default=a.default),a.id&&(b.id=a.id),a.src&&(b.src=a.src),this.el().appendChild(b),b.track.mode="metadata"===b.track.kind?"hidden":"disabled",b.onload=function(){var a=b.track;b.readyState>=2&&("metadata"===a.kind&&"hidden"!==a.mode?a.mode="hidden":"metadata"!==a.kind&&"disabled"!==a.mode&&(a.mode="disabled"),b.onload=null)},this.remoteTextTracks().addTrack_(b.track),b},vjs.Html5.prototype.removeRemoteTextTrack=function(a){if(!this.featuresNativeTextTracks)return vjs.MediaTechController.prototype.removeRemoteTextTrack.call(this,a);var b,c;for(this.remoteTextTracks().removeTrack_(a),b=this.el().querySelectorAll("track"),c=0;c<b.length;c++)if(b[c]===a||b[c].track===a){b[c].parentNode.removeChild(b[c]);break}},vjs.Html5.isSupported=function(){try{vjs.TEST_VID.volume=.5}catch(a){return!1}return!!vjs.TEST_VID.canPlayType},vjs.MediaTechController.withSourceHandlers(vjs.Html5),vjs.Html5.nativeSourceHandler={},vjs.Html5.nativeSourceHandler.canHandleSource=function(a){function b(a){try{return vjs.TEST_VID.canPlayType(a)}catch(a){return""}}var c,d;return a.type?b(a.type):a.src?(c=a.src.match(/\.([^.\/\?]+)(\?[^\/]+)?$/i),d=c&&c[1],b("video/"+d)):""},vjs.Html5.nativeSourceHandler.handleSource=function(a,b){b.setSrc(a.src)},vjs.Html5.nativeSourceHandler.dispose=function(){},vjs.Html5.registerSourceHandler(vjs.Html5.nativeSourceHandler),vjs.Html5.canControlVolume=function(){var a=vjs.TEST_VID.volume;return vjs.TEST_VID.volume=a/2+.1,a!==vjs.TEST_VID.volume},vjs.Html5.canControlPlaybackRate=function(){var a=vjs.TEST_VID.playbackRate;return vjs.TEST_VID.playbackRate=a/2+.1,a!==vjs.TEST_VID.playbackRate},vjs.Html5.supportsNativeTextTracks=function(){var a;return a=!!vjs.TEST_VID.textTracks,a&&vjs.TEST_VID.textTracks.length>0&&(a="number"!=typeof vjs.TEST_VID.textTracks[0].mode),a&&vjs.IS_FIREFOX&&(a=!1),a},vjs.Html5.prototype.featuresVolumeControl=vjs.Html5.canControlVolume(),vjs.Html5.prototype.featuresPlaybackRate=vjs.Html5.canControlPlaybackRate(),vjs.Html5.prototype.movingMediaElementInDOM=!vjs.IS_IOS,vjs.Html5.prototype.featuresFullscreenResize=!0,vjs.Html5.prototype.featuresProgressEvents=!0,vjs.Html5.prototype.featuresNativeTextTracks=vjs.Html5.supportsNativeTextTracks(),function(){var a,b=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,c=/^video\/mp4/i;vjs.Html5.patchCanPlayType=function(){vjs.ANDROID_VERSION>=4&&(a||(a=vjs.TEST_VID.constructor.prototype.canPlayType),vjs.TEST_VID.constructor.prototype.canPlayType=function(c){return c&&b.test(c)?"maybe":a.call(this,c)}),vjs.IS_OLD_ANDROID&&(a||(a=vjs.TEST_VID.constructor.prototype.canPlayType),vjs.TEST_VID.constructor.prototype.canPlayType=function(b){return b&&c.test(b)?"maybe":a.call(this,b)})},vjs.Html5.unpatchCanPlayType=function(){var b=vjs.TEST_VID.constructor.prototype.canPlayType;return vjs.TEST_VID.constructor.prototype.canPlayType=a,a=null,b},vjs.Html5.patchCanPlayType()}(),vjs.Html5.Events="loadstart,suspend,abort,error,emptied,stalled,loadedmetadata,loadeddata,canplay,canplaythrough,playing,waiting,seeking,seeked,ended,durationchange,timeupdate,progress,play,pause,ratechange,volumechange".split(","),vjs.Html5.disposeMediaElement=function(a){if(a){for(a.player=null,a.parentNode&&a.parentNode.removeChild(a);a.hasChildNodes();)a.removeChild(a.firstChild);a.removeAttribute("src"),"function"==typeof a.load&&!function(){try{a.load()}catch(a){}}()}},vjs.Flash=vjs.MediaTechController.extend({init:function(a,b,c){vjs.MediaTechController.call(this,a,b,c);var d=b.source,e=b.parentEl,f=this.el_=vjs.createEl("div",{id:a.id()+"_temp_flash"}),g=a.id()+"_flash_api",h=a.options_,i=vjs.obj.merge({readyFunction:"videojs.Flash.onReady",eventProxyFunction:"videojs.Flash.onEvent",errorEventProxyFunction:"videojs.Flash.onError",autoplay:h.autoplay,preload:h.preload,loop:h.loop,muted:h.muted},b.flashVars),j=vjs.obj.merge({wmode:"opaque",bgcolor:"#000000"},b.params),k=vjs.obj.merge({id:g,name:g,class:"vjs-tech"},b.attributes);d&&this.ready(function(){this.setSource(d)}),vjs.insertFirst(f,e),b.startTime&&this.ready(function(){this.load(),this.play(),this.currentTime(b.startTime)}),vjs.IS_FIREFOX&&this.ready(function(){this.on("mousemove",function(){this.player().trigger({type:"mousemove",bubbles:!1})})}),a.on("stageclick",a.reportUserActivity),this.el_=vjs.Flash.embed(b.swf,f,i,j,k)}}),vjs.Flash.prototype.dispose=function(){vjs.MediaTechController.prototype.dispose.call(this)},vjs.Flash.prototype.play=function(){this.el_.vjs_play()},vjs.Flash.prototype.pause=function(){this.el_.vjs_pause()},vjs.Flash.prototype.src=function(a){return void 0===a?this.currentSrc():this.setSrc(a)},vjs.Flash.prototype.setSrc=function(a){if(a=vjs.getAbsoluteURL(a),this.el_.vjs_src(a),this.player_.autoplay()){var b=this;this.setTimeout(function(){b.play()},0)}},vjs.Flash.prototype.setCurrentTime=function(a){this.lastSeekTarget_=a,this.el_.vjs_setProperty("currentTime",a),vjs.MediaTechController.prototype.setCurrentTime.call(this)},vjs.Flash.prototype.currentTime=function(){return this.seeking()?this.lastSeekTarget_||0:this.el_.vjs_getProperty("currentTime")},vjs.Flash.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.vjs_getProperty("currentSrc")},vjs.Flash.prototype.load=function(){this.el_.vjs_load()},vjs.Flash.prototype.poster=function(){this.el_.vjs_getProperty("poster")},vjs.Flash.prototype.setPoster=function(){},vjs.Flash.prototype.buffered=function(){return vjs.createTimeRange(0,this.el_.vjs_getProperty("buffered"))},vjs.Flash.prototype.supportsFullScreen=function(){return!1},vjs.Flash.prototype.enterFullScreen=function(){return!1},function(){function a(a){var b=a.charAt(0).toUpperCase()+a.slice(1);d["set"+b]=function(b){return this.el_.vjs_setProperty(a,b)}}function b(a){d[a]=function(){return this.el_.vjs_getProperty(a)}}var c,d=vjs.Flash.prototype,e="rtmpConnection,rtmpStream,preload,defaultPlaybackRate,playbackRate,autoplay,loop,mediaGroup,controller,controls,volume,muted,defaultMuted".split(","),f="error,networkState,readyState,seeking,initialTime,duration,startOffsetTime,paused,played,seekable,ended,videoTracks,audioTracks,videoWidth,videoHeight".split(",");for(c=0;c<e.length;c++)b(e[c]),a(e[c]);for(c=0;c<f.length;c++)b(f[c])}(),vjs.Flash.isSupported=function(){return vjs.Flash.version()[0]>=10},vjs.MediaTechController.withSourceHandlers(vjs.Flash),vjs.Flash.nativeSourceHandler={},vjs.Flash.nativeSourceHandler.canHandleSource=function(a){var b;return a.type?(b=a.type.replace(/;.*/,"").toLowerCase(),b in vjs.Flash.formats?"maybe":""):""},vjs.Flash.nativeSourceHandler.handleSource=function(a,b){b.setSrc(a.src)},vjs.Flash.nativeSourceHandler.dispose=function(){},vjs.Flash.registerSourceHandler(vjs.Flash.nativeSourceHandler),vjs.Flash.formats={"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"},vjs.Flash.onReady=function(a){var b,c;b=vjs.el(a),c=b&&b.parentNode&&b.parentNode.player,c&&(b.player=c,vjs.Flash.checkReady(c.tech))},vjs.Flash.checkReady=function(a){a.el()&&(a.el().vjs_getProperty?a.triggerReady():this.setTimeout(function(){vjs.Flash.checkReady(a)},50))},vjs.Flash.onEvent=function(a,b){var c=vjs.el(a).player;c.trigger(b)},vjs.Flash.onError=function(a,b){var c=vjs.el(a).player,d="FLASH: "+b;c.error("srcnotfound"==b?{code:4,message:d}:d)},vjs.Flash.version=function(){var a="0,0,0";try{a=new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(b){try{navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(a=(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1])}catch(a){}}return a.split(",")},vjs.Flash.embed=function(a,b,c,d,e){var f=vjs.Flash.getEmbedCode(a,c,d,e),g=vjs.createEl("div",{innerHTML:f}).childNodes[0],h=b.parentNode;b.parentNode.replaceChild(g,b);var i=h.childNodes[0];return setTimeout(function(){i.style.display="block"},1e3),g},vjs.Flash.getEmbedCode=function(a,b,c,d){var e='<object type="application/x-shockwave-flash" ',f="",g="",h="";return b&&vjs.obj.each(b,function(a,b){f+=a+"="+b+"&amp;"}),c=vjs.obj.merge({movie:a,flashvars:f,allowScriptAccess:"always",allowNetworking:"all"},c),vjs.obj.each(c,function(a,b){g+='<param name="'+a+'" value="'+b+'" />'}),d=vjs.obj.merge({data:a,width:"100%",height:"100%"},d),vjs.obj.each(d,function(a,b){h+=a+'="'+b+'" '}),e+h+">"+g+"</object>"},vjs.Flash.streamingFormats={"rtmp/mp4":"MP4","rtmp/flv":"FLV"},vjs.Flash.streamFromParts=function(a,b){return a+"&"+b},vjs.Flash.streamToParts=function(a){var b={connection:"",stream:""};if(!a)return b;var c,d=a.indexOf("&");return-1!==d?c=d+1:(d=c=a.lastIndexOf("/")+1,0===d&&(d=c=a.length)),b.connection=a.substring(0,d),b.stream=a.substring(c,a.length),b},vjs.Flash.isStreamingType=function(a){return a in vjs.Flash.streamingFormats},vjs.Flash.RTMP_RE=/^rtmp[set]?:\/\//i,vjs.Flash.isStreamingSrc=function(a){return vjs.Flash.RTMP_RE.test(a)},vjs.Flash.rtmpSourceHandler={},vjs.Flash.rtmpSourceHandler.canHandleSource=function(a){return vjs.Flash.isStreamingType(a.type)||vjs.Flash.isStreamingSrc(a.src)?"maybe":""},vjs.Flash.rtmpSourceHandler.handleSource=function(a,b){var c=vjs.Flash.streamToParts(a.src);b.setRtmpConnection(c.connection),b.setRtmpStream(c.stream)},vjs.Flash.registerSourceHandler(vjs.Flash.rtmpSourceHandler),vjs.MediaLoader=vjs.Component.extend({init:function(a,b,c){if(vjs.Component.call(this,a,b,c),a.options_.sources&&0!==a.options_.sources.length)a.src(a.options_.sources);else for(var d=0,e=a.options_.techOrder;d<e.length;d++){var f=vjs.capitalize(e[d]),g=window.videojs[f];if(g&&g.isSupported()){a.loadTech(f);break}}}}),vjs.TextTrackMode={disabled:"disabled",hidden:"hidden",showing:"showing"},vjs.TextTrackKind={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},function(){vjs.TextTrack=function(b){var d,e,f,g,h,i,j,k,l,m,n;if(b=b||{},!b.player)throw new Error("A player was not provided.");if(d=this,vjs.IS_IE8){d=document.createElement("custom");for(n in vjs.TextTrack.prototype)d[n]=vjs.TextTrack.prototype[n]}return d.player_=b.player,f=vjs.TextTrackMode[b.mode]||"disabled",g=vjs.TextTrackKind[b.kind]||"subtitles",h=b.label||"",i=b.language||b.srclang||"",e=b.id||"vjs_text_track_"+vjs.guid++,("metadata"===g||"chapters"===g)&&(f="hidden"),d.cues_=[],d.activeCues_=[],j=new vjs.TextTrackCueList(d.cues_),k=new vjs.TextTrackCueList(d.activeCues_),m=!1,l=vjs.bind(d,function(){this.activeCues,m&&(this.trigger("cuechange"),m=!1)}),"disabled"!==f&&d.player_.on("timeupdate",l),Object.defineProperty(d,"kind",{get:function(){return g},set:Function.prototype}),Object.defineProperty(d,"label",{get:function(){return h},set:Function.prototype}),Object.defineProperty(d,"language",{get:function(){return i},set:Function.prototype}),Object.defineProperty(d,"id",{get:function(){return e},set:Function.prototype}),Object.defineProperty(d,"mode",{get:function(){return f},set:function(a){vjs.TextTrackMode[a]&&(f=a,"showing"===f&&this.player_.on("timeupdate",l),this.trigger("modechange"))}}),Object.defineProperty(d,"cues",{get:function(){return this.loaded_?j:null},set:Function.prototype}),Object.defineProperty(d,"activeCues",{get:function(){var a,b,d,e,f;if(!this.loaded_)return null;if(0===this.cues.length)return k;for(e=this.player_.currentTime(),a=0,b=this.cues.length,d=[];b>a;a++)f=this.cues[a],f.startTime<=e&&f.endTime>=e?d.push(f):f.startTime===f.endTime&&f.startTime<=e&&f.startTime+.5>=e&&d.push(f);if(m=!1,d.length!==this.activeCues_.length)m=!0;else for(a=0;a<d.length;a++)-1===c.call(this.activeCues_,d[a])&&(m=!0);return this.activeCues_=d,k.setCues_(this.activeCues_),k},set:Function.prototype}),b.src?a(b.src,d):d.loaded_=!0,vjs.IS_IE8?d:void 0},vjs.TextTrack.prototype=vjs.obj.create(vjs.EventEmitter.prototype),vjs.TextTrack.prototype.constructor=vjs.TextTrack,vjs.TextTrack.prototype.allowedEvents_={cuechange:"cuechange"},vjs.TextTrack.prototype.addCue=function(a){var b=this.player_.textTracks(),c=0;if(b)for(;c<b.length;c++)b[c]!==this&&b[c].removeCue(a);this.cues_.push(a),this.cues.setCues_(this.cues_)},vjs.TextTrack.prototype.removeCue=function(a){for(var b,c=0,d=this.cues_.length,e=!1;d>c;c++)b=this.cues_[c],b===a&&(this.cues_.splice(c,1),e=!0);e&&this.cues.setCues_(this.cues_)};var a,b,c;a=function(a,c){vjs.xhr(a,vjs.bind(this,function(a,d,e){return a?vjs.log.error(a):(c.loaded_=!0,void b(e,c))}))},b=function(a,c){if("function"!=typeof window.WebVTT)return window.setTimeout(function(){b(a,c)},25);var d=new window.WebVTT.Parser(window,window.vttjs,window.WebVTT.StringDecoder());d.oncue=function(a){c.addCue(a)},d.onparsingerror=function(a){vjs.log.error(a)},d.parse(a),d.flush()},c=function(a,b){var c;if(null==this)throw new TypeError('"this" is null or not defined');var d=Object(this),e=d.length>>>0;if(0===e)return-1;var f=+b||0;if(Math.abs(f)===1/0&&(f=0),f>=e)return-1;for(c=Math.max(f>=0?f:e-Math.abs(f),0);e>c;){if(c in d&&d[c]===a)return c;c++}return-1}}(),vjs.TextTrackList=function(a){var b,c=this,d=0;if(vjs.IS_IE8){c=document.createElement("custom");for(b in vjs.TextTrackList.prototype)c[b]=vjs.TextTrackList.prototype[b]}for(a=a||[],c.tracks_=[],Object.defineProperty(c,"length",{get:function(){return this.tracks_.length}});d<a.length;d++)c.addTrack_(a[d]);return vjs.IS_IE8?c:void 0},vjs.TextTrackList.prototype=vjs.obj.create(vjs.EventEmitter.prototype),vjs.TextTrackList.prototype.constructor=vjs.TextTrackList,vjs.TextTrackList.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"},function(){var a;for(a in vjs.TextTrackList.prototype.allowedEvents_)vjs.TextTrackList.prototype["on"+a]=null}(),vjs.TextTrackList.prototype.addTrack_=function(a){var b=this.tracks_.length;""+b in this||Object.defineProperty(this,b,{get:function(){return this.tracks_[b]}}),a.addEventListener("modechange",vjs.bind(this,function(){this.trigger("change")})),this.tracks_.push(a),this.trigger({type:"addtrack",track:a})},vjs.TextTrackList.prototype.removeTrack_=function(a){for(var b,c=0,d=this.length;d>c;c++)if(b=this[c],b===a){this.tracks_.splice(c,1);break}this.trigger({type:"removetrack",track:a})},vjs.TextTrackList.prototype.getTrackById=function(a){for(var b,c=0,d=this.length,e=null;d>c;c++)if(b=this[c],b.id===a){e=b;break}return e},vjs.TextTrackCueList=function(a){var b,c=this;if(vjs.IS_IE8){c=document.createElement("custom");for(b in vjs.TextTrackCueList.prototype)c[b]=vjs.TextTrackCueList.prototype[b]}return vjs.TextTrackCueList.prototype.setCues_.call(c,a),Object.defineProperty(c,"length",{get:function(){return this.length_}}),vjs.IS_IE8?c:void 0},vjs.TextTrackCueList.prototype.setCues_=function(a){var b,c=this.length||0,d=0,e=a.length;if(this.cues_=a,this.length_=a.length,b=function(a){""+a in this||Object.defineProperty(this,""+a,{get:function(){return this.cues_[a]}})},e>c)for(d=c;e>d;d++)b.call(this,d)},vjs.TextTrackCueList.prototype.getCueById=function(a){for(var b,c=0,d=this.length,e=null;d>c;c++)if(b=this[c],b.id===a){e=b;break}return e},function(){vjs.TextTrackDisplay=vjs.Component.extend({init:function(a,b,c){vjs.Component.call(this,a,b,c),a.on("loadstart",vjs.bind(this,this.toggleDisplay)),a.ready(vjs.bind(this,function(){if(a.tech&&a.tech.featuresNativeTextTracks)return void this.hide();var b,c,d;for(a.on("fullscreenchange",vjs.bind(this,this.updateDisplay)),c=a.options_.tracks||[],b=0;b<c.length;b++)d=c[b],this.player_.addRemoteTextTrack(d)}))}}),vjs.TextTrackDisplay.prototype.toggleDisplay=function(){this.player_.tech&&this.player_.tech.featuresNativeTextTracks?this.hide():this.show()},vjs.TextTrackDisplay.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"})},vjs.TextTrackDisplay.prototype.clearDisplay=function(){"function"==typeof window.WebVTT&&window.WebVTT.processCues(window,[],this.el_)};var a=function(a,b){return"rgba("+parseInt(a[1]+a[1],16)+","+parseInt(a[2]+a[2],16)+","+parseInt(a[3]+a[3],16)+","+b+")"},b="#222",c="#ccc",d={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'},e=function(a,b,c){try{a.style[b]=c}catch(a){}};vjs.TextTrackDisplay.prototype.updateDisplay=function(){var a,b=this.player_.textTracks(),c=0;if(this.clearDisplay(),b)for(;c<b.length;c++)a=b[c],"showing"===a.mode&&this.updateForTrack(a)},vjs.TextTrackDisplay.prototype.updateForTrack=function(f){if("function"==typeof window.WebVTT&&f.activeCues){for(var g,h,i=0,j=this.player_.textTrackSettings.getValues(),k=[];i<f.activeCues.length;i++)k.push(f.activeCues[i]);for(window.WebVTT.processCues(window,f.activeCues,this.el_),
i=k.length;i--;)g=k[i].displayState,j.color&&(g.firstChild.style.color=j.color),j.textOpacity&&e(g.firstChild,"color",a(j.color||"#fff",j.textOpacity)),j.backgroundColor&&(g.firstChild.style.backgroundColor=j.backgroundColor),j.backgroundOpacity&&e(g.firstChild,"backgroundColor",a(j.backgroundColor||"#000",j.backgroundOpacity)),j.windowColor&&(j.windowOpacity?e(g,"backgroundColor",a(j.windowColor,j.windowOpacity)):g.style.backgroundColor=j.windowColor),j.edgeStyle&&("dropshadow"===j.edgeStyle?g.firstChild.style.textShadow="2px 2px 3px "+b+", 2px 2px 4px "+b+", 2px 2px 5px "+b:"raised"===j.edgeStyle?g.firstChild.style.textShadow="1px 1px "+b+", 2px 2px "+b+", 3px 3px "+b:"depressed"===j.edgeStyle?g.firstChild.style.textShadow="1px 1px "+c+", 0 1px "+c+", -1px -1px "+b+", 0 -1px "+b:"uniform"===j.edgeStyle&&(g.firstChild.style.textShadow="0 0 4px "+b+", 0 0 4px "+b+", 0 0 4px "+b+", 0 0 4px "+b)),j.fontPercent&&1!==j.fontPercent&&(h=window.parseFloat(g.style.fontSize),g.style.fontSize=h*j.fontPercent+"px",g.style.height="auto",g.style.top="auto",g.style.bottom="2px"),j.fontFamily&&"default"!==j.fontFamily&&("small-caps"===j.fontFamily?g.firstChild.style.fontVariant="small-caps":g.firstChild.style.fontFamily=d[j.fontFamily])}},vjs.TextTrackMenuItem=vjs.MenuItem.extend({init:function(a,b){var c,d,e=this.track=b.track,f=a.textTracks();f&&(c=vjs.bind(this,function(){var a,b,c,d="showing"===this.track.mode;if(this instanceof vjs.OffTextTrackMenuItem)for(d=!0,b=0,c=f.length;c>b;b++)if(a=f[b],a.kind===this.track.kind&&"showing"===a.mode){d=!1;break}this.selected(d)}),f.addEventListener("change",c),a.on("dispose",function(){f.removeEventListener("change",c)})),b.label=e.label||e.language||"Unknown",b.selected=e.default||"showing"===e.mode,vjs.MenuItem.call(this,a,b),f&&void 0===f.onchange&&this.on(["tap","click"],function(){if("object"!=typeof window.Event)try{d=new window.Event("change")}catch(a){}d||(d=document.createEvent("Event"),d.initEvent("change",!0,!0)),f.dispatchEvent(d)})}}),vjs.TextTrackMenuItem.prototype.onClick=function(){var a,b=this.track.kind,c=this.player_.textTracks(),d=0;if(vjs.MenuItem.prototype.onClick.call(this),c)for(;d<c.length;d++)a=c[d],a.kind===b&&(a.mode=a===this.track?"showing":"disabled")},vjs.OffTextTrackMenuItem=vjs.TextTrackMenuItem.extend({init:function(a,b){b.track={kind:b.kind,player:a,label:b.kind+" off",default:!1,mode:"disabled"},vjs.TextTrackMenuItem.call(this,a,b),this.selected(!0)}}),vjs.CaptionSettingsMenuItem=vjs.TextTrackMenuItem.extend({init:function(a,b){b.track={kind:b.kind,player:a,label:b.kind+" settings",default:!1,mode:"disabled"},vjs.TextTrackMenuItem.call(this,a,b),this.addClass("vjs-texttrack-settings")}}),vjs.CaptionSettingsMenuItem.prototype.onClick=function(){this.player().getChild("textTrackSettings").show()},vjs.TextTrackButton=vjs.MenuButton.extend({init:function(a,b){var c,d;vjs.MenuButton.call(this,a,b),c=this.player_.textTracks(),this.items.length<=1&&this.hide(),c&&(d=vjs.bind(this,this.update),c.addEventListener("removetrack",d),c.addEventListener("addtrack",d),this.player_.on("dispose",function(){c.removeEventListener("removetrack",d),c.removeEventListener("addtrack",d)}))}}),vjs.TextTrackButton.prototype.createItems=function(){var a,b,c=[];if(!(this instanceof vjs.CaptionsButton)||this.player().tech&&this.player().tech.featuresNativeTextTracks||c.push(new vjs.CaptionSettingsMenuItem(this.player_,{kind:this.kind_})),c.push(new vjs.OffTextTrackMenuItem(this.player_,{kind:this.kind_})),b=this.player_.textTracks(),!b)return c;for(var d=0;d<b.length;d++)a=b[d],a.kind===this.kind_&&c.push(new vjs.TextTrackMenuItem(this.player_,{track:a}));return c},vjs.CaptionsButton=vjs.TextTrackButton.extend({init:function(a,b,c){vjs.TextTrackButton.call(this,a,b,c),this.el_.setAttribute("aria-label","Captions Menu")}}),vjs.CaptionsButton.prototype.kind_="captions",vjs.CaptionsButton.prototype.buttonText="Captions",vjs.CaptionsButton.prototype.className="vjs-captions-button",vjs.CaptionsButton.prototype.update=function(){var a=2;vjs.TextTrackButton.prototype.update.call(this),this.player().tech&&this.player().tech.featuresNativeTextTracks&&(a=1),this.items&&this.items.length>a?this.show():this.hide()},vjs.SubtitlesButton=vjs.TextTrackButton.extend({init:function(a,b,c){vjs.TextTrackButton.call(this,a,b,c),this.el_.setAttribute("aria-label","Subtitles Menu")}}),vjs.SubtitlesButton.prototype.kind_="subtitles",vjs.SubtitlesButton.prototype.buttonText="Subtitles",vjs.SubtitlesButton.prototype.className="vjs-subtitles-button",vjs.ChaptersButton=vjs.TextTrackButton.extend({init:function(a,b,c){vjs.TextTrackButton.call(this,a,b,c),this.el_.setAttribute("aria-label","Chapters Menu")}}),vjs.ChaptersButton.prototype.kind_="chapters",vjs.ChaptersButton.prototype.buttonText="Chapters",vjs.ChaptersButton.prototype.className="vjs-chapters-button",vjs.ChaptersButton.prototype.createItems=function(){var a,b,c=[];if(b=this.player_.textTracks(),!b)return c;for(var d=0;d<b.length;d++)a=b[d],a.kind===this.kind_&&c.push(new vjs.TextTrackMenuItem(this.player_,{track:a}));return c},vjs.ChaptersButton.prototype.createMenu=function(){for(var a,b,c=this.player_.textTracks()||[],d=0,e=c.length,f=this.items=[];e>d;d++)if(a=c[d],a.kind==this.kind_){if(a.cues){b=a;break}a.mode="hidden",window.setTimeout(vjs.bind(this,function(){this.createMenu()}),100)}var g=this.menu;if(void 0===g&&(g=new vjs.Menu(this.player_),g.contentEl().appendChild(vjs.createEl("li",{className:"vjs-menu-title",innerHTML:vjs.capitalize(this.kind_),tabindex:-1}))),b){var h,i,j=b.cues;for(d=0,e=j.length;e>d;d++)h=j[d],i=new vjs.ChaptersTrackMenuItem(this.player_,{track:b,cue:h}),f.push(i),g.addChild(i);this.addChild(g)}return this.items.length>0&&this.show(),g},vjs.ChaptersTrackMenuItem=vjs.MenuItem.extend({init:function(a,b){var c=this.track=b.track,d=this.cue=b.cue,e=a.currentTime();b.label=d.text,b.selected=d.startTime<=e&&e<d.endTime,vjs.MenuItem.call(this,a,b),c.addEventListener("cuechange",vjs.bind(this,this.update))}}),vjs.ChaptersTrackMenuItem.prototype.onClick=function(){vjs.MenuItem.prototype.onClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},vjs.ChaptersTrackMenuItem.prototype.update=function(){var a=this.cue,b=this.player_.currentTime();this.selected(a.startTime<=b&&b<a.endTime)}}(),function(){function a(a){var b;return a.selectedOptions?b=a.selectedOptions[0]:a.options&&(b=a.options[a.options.selectedIndex]),b.value}function b(a,b){var c,d;if(b){for(c=0;c<a.options.length&&(d=a.options[c],d.value!==b);c++);a.selectedIndex=c}}function c(){return'<div class="vjs-tracksettings"><div class="vjs-tracksettings-colors"><div class="vjs-fg-color vjs-tracksetting"><label class="vjs-label">Foreground</label><select><option value="">---</option><option value="#FFF">White</option><option value="#000">Black</option><option value="#F00">Red</option><option value="#0F0">Green</option><option value="#00F">Blue</option><option value="#FF0">Yellow</option><option value="#F0F">Magenta</option><option value="#0FF">Cyan</option></select><span class="vjs-text-opacity vjs-opacity"><select><option value="">---</option><option value="1">Opaque</option><option value="0.5">Semi-Opaque</option></select></span></div><div class="vjs-bg-color vjs-tracksetting"><label class="vjs-label">Background</label><select><option value="">---</option><option value="#FFF">White</option><option value="#000">Black</option><option value="#F00">Red</option><option value="#0F0">Green</option><option value="#00F">Blue</option><option value="#FF0">Yellow</option><option value="#F0F">Magenta</option><option value="#0FF">Cyan</option></select><span class="vjs-bg-opacity vjs-opacity"><select><option value="">---</option><option value="1">Opaque</option><option value="0.5">Semi-Transparent</option><option value="0">Transparent</option></select></span></div><div class="window-color vjs-tracksetting"><label class="vjs-label">Window</label><select><option value="">---</option><option value="#FFF">White</option><option value="#000">Black</option><option value="#F00">Red</option><option value="#0F0">Green</option><option value="#00F">Blue</option><option value="#FF0">Yellow</option><option value="#F0F">Magenta</option><option value="#0FF">Cyan</option></select><span class="vjs-window-opacity vjs-opacity"><select><option value="">---</option><option value="1">Opaque</option><option value="0.5">Semi-Transparent</option><option value="0">Transparent</option></select></span></div></div><div class="vjs-tracksettings-font"><div class="vjs-font-percent vjs-tracksetting"><label class="vjs-label">Font Size</label><select><option value="0.50">50%</option><option value="0.75">75%</option><option value="1.00" selected>100%</option><option value="1.25">125%</option><option value="1.50">150%</option><option value="1.75">175%</option><option value="2.00">200%</option><option value="3.00">300%</option><option value="4.00">400%</option></select></div><div class="vjs-edge-style vjs-tracksetting"><label class="vjs-label">Text Edge Style</label><select><option value="none">None</option><option value="raised">Raised</option><option value="depressed">Depressed</option><option value="uniform">Uniform</option><option value="dropshadow">Dropshadow</option></select></div><div class="vjs-font-family vjs-tracksetting"><label class="vjs-label">Font Family</label><select><option value="">Default</option><option value="monospaceSerif">Monospace Serif</option><option value="proportionalSerif">Proportional Serif</option><option value="monospaceSansSerif">Monospace Sans-Serif</option><option value="proportionalSansSerif">Proportional Sans-Serif</option><option value="casual">Casual</option><option value="script">Script</option><option value="small-caps">Small Caps</option></select></div></div></div><div class="vjs-tracksettings-controls"><button class="vjs-default-button">Defaults</button><button class="vjs-done-button">Done</button></div>'}vjs.TextTrackSettings=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b),this.hide(),vjs.on(this.el().querySelector(".vjs-done-button"),"click",vjs.bind(this,function(){this.saveSettings(),this.hide()})),vjs.on(this.el().querySelector(".vjs-default-button"),"click",vjs.bind(this,function(){this.el().querySelector(".vjs-fg-color > select").selectedIndex=0,this.el().querySelector(".vjs-bg-color > select").selectedIndex=0,this.el().querySelector(".window-color > select").selectedIndex=0,this.el().querySelector(".vjs-text-opacity > select").selectedIndex=0,this.el().querySelector(".vjs-bg-opacity > select").selectedIndex=0,this.el().querySelector(".vjs-window-opacity > select").selectedIndex=0,this.el().querySelector(".vjs-edge-style select").selectedIndex=0,this.el().querySelector(".vjs-font-family select").selectedIndex=0,this.el().querySelector(".vjs-font-percent select").selectedIndex=2,this.updateDisplay()})),vjs.on(this.el().querySelector(".vjs-fg-color > select"),"change",vjs.bind(this,this.updateDisplay)),vjs.on(this.el().querySelector(".vjs-bg-color > select"),"change",vjs.bind(this,this.updateDisplay)),vjs.on(this.el().querySelector(".window-color > select"),"change",vjs.bind(this,this.updateDisplay)),vjs.on(this.el().querySelector(".vjs-text-opacity > select"),"change",vjs.bind(this,this.updateDisplay)),vjs.on(this.el().querySelector(".vjs-bg-opacity > select"),"change",vjs.bind(this,this.updateDisplay)),vjs.on(this.el().querySelector(".vjs-window-opacity > select"),"change",vjs.bind(this,this.updateDisplay)),vjs.on(this.el().querySelector(".vjs-font-percent select"),"change",vjs.bind(this,this.updateDisplay)),vjs.on(this.el().querySelector(".vjs-edge-style select"),"change",vjs.bind(this,this.updateDisplay)),vjs.on(this.el().querySelector(".vjs-font-family select"),"change",vjs.bind(this,this.updateDisplay)),a.options().persistTextTrackSettings&&this.restoreSettings()}}),vjs.TextTrackSettings.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-caption-settings vjs-modal-overlay",innerHTML:c()})},vjs.TextTrackSettings.prototype.getValues=function(){var b,c,d,e,f,g,h,i,j,k,l,m;b=this.el(),f=a(b.querySelector(".vjs-edge-style select")),g=a(b.querySelector(".vjs-font-family select")),h=a(b.querySelector(".vjs-fg-color > select")),d=a(b.querySelector(".vjs-text-opacity > select")),i=a(b.querySelector(".vjs-bg-color > select")),c=a(b.querySelector(".vjs-bg-opacity > select")),j=a(b.querySelector(".window-color > select")),e=a(b.querySelector(".vjs-window-opacity > select")),m=window.parseFloat(a(b.querySelector(".vjs-font-percent > select"))),k={backgroundOpacity:c,textOpacity:d,windowOpacity:e,edgeStyle:f,fontFamily:g,color:h,backgroundColor:i,windowColor:j,fontPercent:m};for(l in k)(""===k[l]||"none"===k[l]||"fontPercent"===l&&1===k[l])&&delete k[l];return k},vjs.TextTrackSettings.prototype.setValues=function(a){var c,d=this.el();b(d.querySelector(".vjs-edge-style select"),a.edgeStyle),b(d.querySelector(".vjs-font-family select"),a.fontFamily),b(d.querySelector(".vjs-fg-color > select"),a.color),b(d.querySelector(".vjs-text-opacity > select"),a.textOpacity),b(d.querySelector(".vjs-bg-color > select"),a.backgroundColor),b(d.querySelector(".vjs-bg-opacity > select"),a.backgroundOpacity),b(d.querySelector(".window-color > select"),a.windowColor),b(d.querySelector(".vjs-window-opacity > select"),a.windowOpacity),c=a.fontPercent,c&&(c=c.toFixed(2)),b(d.querySelector(".vjs-font-percent > select"),c)},vjs.TextTrackSettings.prototype.restoreSettings=function(){var a;try{a=JSON.parse(window.localStorage.getItem("vjs-text-track-settings"))}catch(a){}a&&this.setValues(a)},vjs.TextTrackSettings.prototype.saveSettings=function(){var a;if(this.player_.options().persistTextTrackSettings){a=this.getValues();try{vjs.isEmpty(a)?window.localStorage.removeItem("vjs-text-track-settings"):window.localStorage.setItem("vjs-text-track-settings",JSON.stringify(a))}catch(a){}}},vjs.TextTrackSettings.prototype.updateDisplay=function(){var a=this.player_.getChild("textTrackDisplay");a&&a.updateDisplay()}}(),vjs.JSON,"undefined"!=typeof window.JSON&&"function"==typeof window.JSON.parse)vjs.JSON=window.JSON;else{vjs.JSON={};var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;vjs.JSON.parse=function(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&"object"==typeof e)for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&(d=walk(e,c),void 0!==d?e[c]=d:delete e[c]);return reviver.call(a,b,e)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse(): invalid or malformed JSON data")}}vjs.autoSetup=function(){var a,b,c,d,e,f=document.getElementsByTagName("video"),g=document.getElementsByTagName("audio"),h=[];if(f&&f.length>0)for(d=0,e=f.length;e>d;d++)h.push(f[d]);if(g&&g.length>0)for(d=0,e=g.length;e>d;d++)h.push(g[d]);if(h&&h.length>0)for(d=0,e=h.length;e>d;d++){if(b=h[d],!b||!b.getAttribute){vjs.autoSetupTimeout(1);break}void 0===b.player&&(a=b.getAttribute("data-setup"),null!==a&&(c=videojs(b)))}else vjs.windowLoaded||vjs.autoSetupTimeout(1)},vjs.autoSetupTimeout=function(a){setTimeout(vjs.autoSetup,a)},"complete"===document.readyState?vjs.windowLoaded=!0:vjs.one(window,"load",function(){vjs.windowLoaded=!0}),vjs.autoSetupTimeout(1),vjs.plugin=function(a,b){vjs.Player.prototype[a]=b},function(a){var b=a.vttjs={},c=b.VTTCue,d=b.VTTRegion,e=a.VTTCue,f=a.VTTRegion;b.shim=function(){b.VTTCue=c,b.VTTRegion=d},b.restore=function(){b.VTTCue=e,b.VTTRegion=f}}(this),function(a,b){function c(a){if("string"!=typeof a)return!1;var b=h[a.toLowerCase()];return!!b&&a.toLowerCase()}function d(a){if("string"!=typeof a)return!1;var b=i[a.toLowerCase()];return!!b&&a.toLowerCase()}function e(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)a[d]=c[d]}return a}function f(a,b,f){var h=this,i=/MSIE\s8\.0/.test(navigator.userAgent),j={};i?h=document.createElement("custom"):j.enumerable=!0,h.hasBeenReset=!1;var k="",l=!1,m=a,n=b,o=f,p=null,q="",r=!0,s="auto",t="start",u=50,v="middle",w=50,x="middle";return Object.defineProperty(h,"id",e({},j,{get:function(){return k},set:function(a){k=""+a}})),Object.defineProperty(h,"pauseOnExit",e({},j,{get:function(){return l},set:function(a){l=!!a}})),Object.defineProperty(h,"startTime",e({},j,{get:function(){return m},set:function(a){if("number"!=typeof a)throw new TypeError("Start time must be set to a number.");m=a,this.hasBeenReset=!0}})),Object.defineProperty(h,"endTime",e({},j,{get:function(){return n},set:function(a){if("number"!=typeof a)throw new TypeError("End time must be set to a number.");n=a,this.hasBeenReset=!0}})),Object.defineProperty(h,"text",e({},j,{get:function(){return o},set:function(a){o=""+a,this.hasBeenReset=!0}})),Object.defineProperty(h,"region",e({},j,{get:function(){return p},set:function(a){p=a,this.hasBeenReset=!0}})),Object.defineProperty(h,"vertical",e({},j,{get:function(){return q},set:function(a){var b=c(a);if(b===!1)throw new SyntaxError("An invalid or illegal string was specified.");q=b,this.hasBeenReset=!0}})),Object.defineProperty(h,"snapToLines",e({},j,{get:function(){return r},set:function(a){r=!!a,this.hasBeenReset=!0}})),Object.defineProperty(h,"line",e({},j,{get:function(){return s},set:function(a){if("number"!=typeof a&&a!==g)throw new SyntaxError("An invalid number or illegal string was specified.");s=a,this.hasBeenReset=!0}})),Object.defineProperty(h,"lineAlign",e({},j,{get:function(){return t},set:function(a){var b=d(a);if(!b)throw new SyntaxError("An invalid or illegal string was specified.");t=b,this.hasBeenReset=!0}})),Object.defineProperty(h,"position",e({},j,{get:function(){return u},set:function(a){if(0>a||a>100)throw new Error("Position must be between 0 and 100.");u=a,this.hasBeenReset=!0}})),Object.defineProperty(h,"positionAlign",e({},j,{get:function(){return v},set:function(a){var b=d(a);if(!b)throw new SyntaxError("An invalid or illegal string was specified.");v=b,this.hasBeenReset=!0}})),Object.defineProperty(h,"size",e({},j,{get:function(){return w},set:function(a){if(0>a||a>100)throw new Error("Size must be between 0 and 100.");w=a,this.hasBeenReset=!0}})),Object.defineProperty(h,"align",e({},j,{get:function(){return x},set:function(a){var b=d(a);if(!b)throw new SyntaxError("An invalid or illegal string was specified.");x=b,this.hasBeenReset=!0}})),h.displayState=void 0,i?h:void 0}var g="auto",h={"":!0,lr:!0,rl:!0},i={start:!0,middle:!0,end:!0,left:!0,right:!0};f.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},a.VTTCue=a.VTTCue||f,b.VTTCue=f}(this,this.vttjs||{}),function(a,b){function c(a){if("string"!=typeof a)return!1;var b=f[a.toLowerCase()];return!!b&&a.toLowerCase()}function d(a){return"number"==typeof a&&a>=0&&100>=a}function e(){var a=100,b=3,e=0,f=100,g=0,h=100,i="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return a},set:function(b){if(!d(b))throw new Error("Width must be between 0 and 100.");a=b}},lines:{enumerable:!0,get:function(){return b},set:function(a){if("number"!=typeof a)throw new TypeError("Lines must be set to a number.");b=a}},regionAnchorY:{enumerable:!0,get:function(){return f},set:function(a){if(!d(a))throw new Error("RegionAnchorX must be between 0 and 100.");f=a}},regionAnchorX:{enumerable:!0,get:function(){return e},set:function(a){if(!d(a))throw new Error("RegionAnchorY must be between 0 and 100.");e=a}},viewportAnchorY:{enumerable:!0,get:function(){return h},set:function(a){if(!d(a))throw new Error("ViewportAnchorY must be between 0 and 100.");h=a}},viewportAnchorX:{enumerable:!0,get:function(){return g},set:function(a){if(!d(a))throw new Error("ViewportAnchorX must be between 0 and 100.");g=a}},scroll:{enumerable:!0,get:function(){return i},set:function(a){var b=c(a);if(b===!1)throw new SyntaxError("An invalid or illegal string was specified.");i=b}}})}var f={"":!0,up:!0};a.VTTRegion=a.VTTRegion||e,b.VTTRegion=e}(this,this.vttjs||{}),function(a){function b(a,b){this.name="ParsingError",this.code=a.code,this.message=b||a.message}function c(a){function b(a,b,c,d){return 3600*(0|a)+60*(0|b)+(0|c)+(0|d)/1e3}var c=a.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return c?c[3]?b(c[1],c[2],c[3].replace(":",""),c[4]):c[1]>59?b(c[1],c[2],0,c[4]):b(0,c[1],c[2],c[4]):null}function d(){this.values=o(null)}function e(a,b,c,d){var e=d?a.split(d):[a];for(var f in e)if("string"==typeof e[f]){var g=e[f].split(c);if(2===g.length){var h=g[0],i=g[1];b(h,i)}}}function f(a,f,g){function h(){var d=c(a);if(null===d)throw new b(b.Errors.BadTimeStamp,"Malformed timestamp: "+k);return a=a.replace(/^[^\sa-zA-Z-]+/,""),d}function i(a,b){var c=new d;e(a,function(a,b){switch(a){case"region":for(var d=g.length-1;d>=0;d--)if(g[d].id===b){c.set(a,g[d].region);break}break;case"vertical":c.alt(a,b,["rl","lr"]);break;case"line":var e=b.split(","),f=e[0];c.integer(a,f),c.percent(a,f)?c.set("snapToLines",!1):null,c.alt(a,f,["auto"]),2===e.length&&c.alt("lineAlign",e[1],["start","middle","end"]);break;case"position":e=b.split(","),c.percent(a,e[0]),2===e.length&&c.alt("positionAlign",e[1],["start","middle","end"]);break;case"size":c.percent(a,b);break;case"align":c.alt(a,b,["start","middle","end","left","right"])}},/:/,/\s/),b.region=c.get("region",null),b.vertical=c.get("vertical",""),b.line=c.get("line","auto"),b.lineAlign=c.get("lineAlign","start"),b.snapToLines=c.get("snapToLines",!0),b.size=c.get("size",100),b.align=c.get("align","middle"),b.position=c.get("position",{start:0,left:0,middle:50,end:100,right:100},b.align),b.positionAlign=c.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},b.align)}function j(){a=a.replace(/^\s+/,"")}var k=a;if(j(),f.startTime=h(),j(),"-->"!==a.substr(0,3))throw new b(b.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+k);a=a.substr(3),j(),f.endTime=h(),j(),i(a,f)}function g(a,b){function d(){function a(a){return b=b.substr(a.length),a}if(!b)return null;var c=b.match(/^([^<]*)(<[^>]+>?)?/);return a(c[1]?c[1]:c[2])}function e(a){return p[a]}function f(a){for(;o=a.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)a=a.replace(o[0],e);return a}function g(a,b){return!s[b.localName]||s[b.localName]===a.localName}function h(b,c){var d=q[b];if(!d)return null;var e=a.document.createElement(d);e.localName=d;var f=r[b];return f&&c&&(e[f]=c.trim()),e}for(var i,j=a.document.createElement("div"),k=j,l=[];null!==(i=d());)if("<"!==i[0])k.appendChild(a.document.createTextNode(f(i)));else{if("/"===i[1]){l.length&&l[l.length-1]===i.substr(2).replace(">","")&&(l.pop(),k=k.parentNode);continue}var m,n=c(i.substr(1,i.length-2));if(n){m=a.document.createProcessingInstruction("timestamp",n),k.appendChild(m);continue}var o=i.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!o)continue;if(m=h(o[1],o[3]),!m)continue;if(!g(k,m))continue;o[2]&&(m.className=o[2].substr(1).replace("."," ")),l.push(o[1]),k.appendChild(m),k=m}return j}function h(a){function b(a,b){for(var c=b.childNodes.length-1;c>=0;c--)a.push(b.childNodes[c])}function c(a){if(!a||!a.length)return null;var d=a.pop(),e=d.textContent||d.innerText;if(e){var f=e.match(/^.*(\n|\r)/);return f?(a.length=0,f[0]):e}return"ruby"===d.tagName?c(a):d.childNodes?(b(a,d),c(a)):void 0}var d,e=[],f="";if(!a||!a.childNodes)return"ltr";for(b(e,a);f=c(e);)for(var g=0;g<f.length;g++){d=f.charCodeAt(g);for(var h=0;h<t.length;h++)if(t[h]===d)return"rtl"}return"ltr"}function i(a){if("number"==typeof a.line&&(a.snapToLines||a.line>=0&&a.line<=100))return a.line;if(!a.track||!a.track.textTrackList||!a.track.textTrackList.mediaElement)return-1;for(var b=a.track,c=b.textTrackList,d=0,e=0;e<c.length&&c[e]!==b;e++)"showing"===c[e].mode&&d++;return-1*++d}function j(){}function k(a,b,c){var d=/MSIE\s8\.0/.test(navigator.userAgent),e="rgba(255, 255, 255, 1)",f="rgba(0, 0, 0, 0.8)";d&&(e="rgb(255, 255, 255)",f="rgb(0, 0, 0)"),j.call(this),this.cue=b,this.cueDiv=g(a,b.text);var i={color:e,backgroundColor:f,position:"relative",left:0,right:0,top:0,bottom:0,display:"inline"};d||(i.writingMode=""===b.vertical?"horizontal-tb":"lr"===b.vertical?"vertical-lr":"vertical-rl",i.unicodeBidi="plaintext"),this.applyStyles(i,this.cueDiv),this.div=a.document.createElement("div"),i={textAlign:"middle"===b.align?"center":b.align,font:c.font,whiteSpace:"pre-line",position:"absolute"},d||(i.direction=h(this.cueDiv),i.writingMode=""===b.vertical?"horizontal-tb":"lr"===b.vertical?"vertical-lr":"vertical-rl".stylesunicodeBidi="plaintext"),this.applyStyles(i),this.div.appendChild(this.cueDiv);var k=0;switch(b.positionAlign){case"start":k=b.position;break;case"middle":k=b.position-b.size/2;break;case"end":k=b.position-b.size}this.applyStyles(""===b.vertical?{left:this.formatStyle(k,"%"),width:this.formatStyle(b.size,"%")}:{top:this.formatStyle(k,"%"),height:this.formatStyle(b.size,"%")}),this.move=function(a){this.applyStyles({top:this.formatStyle(a.top,"px"),bottom:this.formatStyle(a.bottom,"px"),left:this.formatStyle(a.left,"px"),right:this.formatStyle(a.right,"px"),height:this.formatStyle(a.height,"px"),width:this.formatStyle(a.width,"px")})}}function l(a){var b,c,d,e,f=/MSIE\s8\.0/.test(navigator.userAgent);if(a.div){c=a.div.offsetHeight,d=a.div.offsetWidth,e=a.div.offsetTop;var g=(g=a.div.childNodes)&&(g=g[0])&&g.getClientRects&&g.getClientRects();a=a.div.getBoundingClientRect(),b=g?Math.max(g[0]&&g[0].height||0,a.height/g.length):0}this.left=a.left,this.right=a.right,this.top=a.top||e,this.height=a.height||c,this.bottom=a.bottom||e+(a.height||c),this.width=a.width||d,this.lineHeight=void 0!==b?b:a.lineHeight,f&&!this.lineHeight&&(this.lineHeight=13)}function m(a,b,c,d){function e(a,b){for(var e,f=new l(a),g=1,h=0;h<b.length;h++){for(;a.overlapsOppositeAxis(c,b[h])||a.within(c)&&a.overlapsAny(d);)a.move(b[h]);if(a.within(c))return a;var i=a.intersectPercentage(c);g>i&&(e=new l(a),g=i),a=new l(f)}return e||f}var f=new l(b),g=b.cue,h=i(g),j=[];if(g.snapToLines){var k;switch(g.vertical){case"":j=["+y","-y"],k="height";break;case"rl":j=["+x","-x"],k="width";break;case"lr":j=["-x","+x"],k="width"}var m=f.lineHeight,n=m*Math.round(h),o=c[k]+m,p=j[0];Math.abs(n)>o&&(n=0>n?-1:1,n*=Math.ceil(o/m)*m),0>h&&(n+=""===g.vertical?c.height:c.width,j=j.reverse()),f.move(p,n)}else{var q=f.lineHeight/c.height*100;switch(g.lineAlign){case"middle":h-=q/2;break;case"end":h-=q}switch(g.vertical){case"":b.applyStyles({top:b.formatStyle(h,"%")});break;case"rl":b.applyStyles({left:b.formatStyle(h,"%")});break;case"lr":b.applyStyles({right:b.formatStyle(h,"%")})}j=["+y","-x","+x","-y"],f=new l(b)}var r=e(f,j);b.move(r.toCSSCompatValues(c))}function n(){}var o=Object.create||function(){function a(){}return function(b){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return a.prototype=b,new a}}();b.prototype=o(Error.prototype),b.prototype.constructor=b,b.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},d.prototype={set:function(a,b){this.get(a)||""===b||(this.values[a]=b)},get:function(a,b,c){return c?this.has(a)?this.values[a]:b[c]:this.has(a)?this.values[a]:b},has:function(a){return a in this.values},alt:function(a,b,c){for(var d=0;d<c.length;++d)if(b===c[d]){this.set(a,b);break}},integer:function(a,b){/^-?\d+$/.test(b)&&this.set(a,parseInt(b,10))},percent:function(a,b){var c;return!!((c=b.match(/^([\d]{1,3})(\.[\d]*)?%$/))&&(b=parseFloat(b),b>=0&&100>=b))&&(this.set(a,b),!0)}};var p={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"","&rlm;":"","&nbsp;":" "},q={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},r={v:"title",lang:"lang"},s={rt:"ruby"},t=[1470,1472,1475,1478,1488,1489,1490,1491,1492,1493,1494,1495,1496,1497,1498,1499,1500,1501,1502,1503,1504,1505,1506,1507,1508,1509,1510,1511,1512,1513,1514,1520,1521,1522,1523,1524,1544,1547,1549,1563,1566,1567,1568,1569,1570,1571,1572,1573,1574,1575,1576,1577,1578,1579,1580,1581,1582,1583,1584,1585,1586,1587,1588,1589,1590,1591,1592,1593,1594,1595,1596,1597,1598,1599,1600,1601,1602,1603,1604,1605,1606,1607,1608,1609,1610,1645,1646,1647,1649,1650,1651,1652,1653,1654,1655,1656,1657,1658,1659,1660,1661,1662,1663,1664,1665,1666,1667,1668,1669,1670,1671,1672,1673,1674,1675,1676,1677,1678,1679,1680,1681,1682,1683,1684,1685,1686,1687,1688,1689,1690,1691,1692,1693,1694,1695,1696,1697,1698,1699,1700,1701,1702,1703,1704,1705,1706,1707,1708,1709,1710,1711,1712,1713,1714,1715,1716,1717,1718,1719,1720,1721,1722,1723,1724,1725,1726,1727,1728,1729,1730,1731,1732,1733,1734,1735,1736,1737,1738,1739,1740,1741,1742,1743,1744,1745,1746,1747,1748,1749,1765,1766,1774,1775,1786,1787,1788,1789,1790,1791,1792,1793,1794,1795,1796,1797,1798,1799,1800,1801,1802,1803,1804,1805,1807,1808,1810,1811,1812,1813,1814,1815,1816,1817,1818,1819,1820,1821,1822,1823,1824,1825,1826,1827,1828,1829,1830,1831,1832,1833,1834,1835,1836,1837,1838,1839,1869,1870,1871,1872,1873,1874,1875,1876,1877,1878,1879,1880,1881,1882,1883,1884,1885,1886,1887,1888,1889,1890,1891,1892,1893,1894,1895,1896,1897,1898,1899,1900,1901,1902,1903,1904,1905,1906,1907,1908,1909,1910,1911,1912,1913,1914,1915,1916,1917,1918,1919,1920,1921,1922,1923,1924,1925,1926,1927,1928,1929,1930,1931,1932,1933,1934,1935,1936,1937,1938,1939,1940,1941,1942,1943,1944,1945,1946,1947,1948,1949,1950,1951,1952,1953,1954,1955,1956,1957,1969,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024,2025,2026,2036,2037,2042,2048,2049,2050,2051,2052,2053,2054,2055,2056,2057,2058,2059,2060,2061,2062,2063,2064,2065,2066,2067,2068,2069,2074,2084,2088,2096,2097,2098,2099,2100,2101,2102,2103,2104,2105,2106,2107,2108,2109,2110,2112,2113,2114,2115,2116,2117,2118,2119,2120,2121,2122,2123,2124,2125,2126,2127,2128,2129,2130,2131,2132,2133,2134,2135,2136,2142,2208,2210,2211,2212,2213,2214,2215,2216,2217,2218,2219,2220,8207,64285,64287,64288,64289,64290,64291,64292,64293,64294,64295,64296,64298,64299,64300,64301,64302,64303,64304,64305,64306,64307,64308,64309,64310,64312,64313,64314,64315,64316,64318,64320,64321,64323,64324,64326,64327,64328,64329,64330,64331,64332,64333,64334,64335,64336,64337,64338,64339,64340,64341,64342,64343,64344,64345,64346,64347,64348,64349,64350,64351,64352,64353,64354,64355,64356,64357,64358,64359,64360,64361,64362,64363,64364,64365,64366,64367,64368,64369,64370,64371,64372,64373,64374,64375,64376,64377,64378,64379,64380,64381,64382,64383,64384,64385,64386,64387,64388,64389,64390,64391,64392,64393,64394,64395,64396,64397,64398,64399,64400,64401,64402,64403,64404,64405,64406,64407,64408,64409,64410,64411,64412,64413,64414,64415,64416,64417,64418,64419,64420,64421,64422,64423,64424,64425,64426,64427,64428,64429,64430,64431,64432,64433,64434,64435,64436,64437,64438,64439,64440,64441,64442,64443,64444,64445,64446,64447,64448,64449,64467,64468,64469,64470,64471,64472,64473,64474,64475,64476,64477,64478,64479,64480,64481,64482,64483,64484,64485,64486,64487,64488,64489,64490,64491,64492,64493,64494,64495,64496,64497,64498,64499,64500,64501,64502,64503,64504,64505,64506,64507,64508,64509,64510,64511,64512,64513,64514,64515,64516,64517,64518,64519,64520,64521,64522,64523,64524,64525,64526,64527,64528,64529,64530,64531,64532,64533,64534,64535,64536,64537,64538,64539,64540,64541,64542,64543,64544,64545,64546,64547,64548,64549,64550,64551,64552,64553,64554,64555,64556,64557,64558,64559,64560,64561,64562,64563,64564,64565,64566,64567,64568,64569,64570,64571,64572,64573,64574,64575,64576,64577,64578,64579,64580,64581,64582,64583,64584,64585,64586,64587,64588,64589,64590,64591,64592,64593,64594,64595,64596,64597,64598,64599,64600,64601,64602,64603,64604,64605,64606,64607,64608,64609,64610,64611,64612,64613,64614,64615,64616,64617,64618,64619,64620,64621,64622,64623,64624,64625,64626,64627,64628,64629,64630,64631,64632,64633,64634,64635,64636,64637,64638,64639,64640,64641,64642,64643,64644,64645,64646,64647,64648,64649,64650,64651,64652,64653,64654,64655,64656,64657,64658,64659,64660,64661,64662,64663,64664,64665,64666,64667,64668,64669,64670,64671,64672,64673,64674,64675,64676,64677,64678,64679,64680,64681,64682,64683,64684,64685,64686,64687,64688,64689,64690,64691,64692,64693,64694,64695,64696,64697,64698,64699,64700,64701,64702,64703,64704,64705,64706,64707,64708,64709,64710,64711,64712,64713,64714,64715,64716,64717,64718,64719,64720,64721,64722,64723,64724,64725,64726,64727,64728,64729,64730,64731,64732,64733,64734,64735,64736,64737,64738,64739,64740,64741,64742,64743,64744,64745,64746,64747,64748,64749,64750,64751,64752,64753,64754,64755,64756,64757,64758,64759,64760,64761,64762,64763,64764,64765,64766,64767,64768,64769,64770,64771,64772,64773,64774,64775,64776,64777,64778,64779,64780,64781,64782,64783,64784,64785,64786,64787,64788,64789,64790,64791,64792,64793,64794,64795,64796,64797,64798,64799,64800,64801,64802,64803,64804,64805,64806,64807,64808,64809,64810,64811,64812,64813,64814,64815,64816,64817,64818,64819,64820,64821,64822,64823,64824,64825,64826,64827,64828,64829,64848,64849,64850,64851,64852,64853,64854,64855,64856,64857,64858,64859,64860,64861,64862,64863,64864,64865,64866,64867,64868,64869,64870,64871,64872,64873,64874,64875,64876,64877,64878,64879,64880,64881,64882,64883,64884,64885,64886,64887,64888,64889,64890,64891,64892,64893,64894,64895,64896,64897,64898,64899,64900,64901,64902,64903,64904,64905,64906,64907,64908,64909,64910,64911,64914,64915,64916,64917,64918,64919,64920,64921,64922,64923,64924,64925,64926,64927,64928,64929,64930,64931,64932,64933,64934,64935,64936,64937,64938,64939,64940,64941,64942,64943,64944,64945,64946,64947,64948,64949,64950,64951,64952,64953,64954,64955,64956,64957,64958,64959,64960,64961,64962,64963,64964,64965,64966,64967,65008,65009,65010,65011,65012,65013,65014,65015,65016,65017,65018,65019,65020,65136,65137,65138,65139,65140,65142,65143,65144,65145,65146,65147,65148,65149,65150,65151,65152,65153,65154,65155,65156,65157,65158,65159,65160,65161,65162,65163,65164,65165,65166,65167,65168,65169,65170,65171,65172,65173,65174,65175,65176,65177,65178,65179,65180,65181,65182,65183,65184,65185,65186,65187,65188,65189,65190,65191,65192,65193,65194,65195,65196,65197,65198,65199,65200,65201,65202,65203,65204,65205,65206,65207,65208,65209,65210,65211,65212,65213,65214,65215,65216,65217,65218,65219,65220,65221,65222,65223,65224,65225,65226,65227,65228,65229,65230,65231,65232,65233,65234,65235,65236,65237,65238,65239,65240,65241,65242,65243,65244,65245,65246,65247,65248,65249,65250,65251,65252,65253,65254,65255,65256,65257,65258,65259,65260,65261,65262,65263,65264,65265,65266,65267,65268,65269,65270,65271,65272,65273,65274,65275,65276,67584,67585,67586,67587,67588,67589,67592,67594,67595,67596,67597,67598,67599,67600,67601,67602,67603,67604,67605,67606,67607,67608,67609,67610,67611,67612,67613,67614,67615,67616,67617,67618,67619,67620,67621,67622,67623,67624,67625,67626,67627,67628,67629,67630,67631,67632,67633,67634,67635,67636,67637,67639,67640,67644,67647,67648,67649,67650,67651,67652,67653,67654,67655,67656,67657,67658,67659,67660,67661,67662,67663,67664,67665,67666,67667,67668,67669,67671,67672,67673,67674,67675,67676,67677,67678,67679,67840,67841,67842,67843,67844,67845,67846,67847,67848,67849,67850,67851,67852,67853,67854,67855,67856,67857,67858,67859,67860,67861,67862,67863,67864,67865,67866,67867,67872,67873,67874,67875,67876,67877,67878,67879,67880,67881,67882,67883,67884,67885,67886,67887,67888,67889,67890,67891,67892,67893,67894,67895,67896,67897,67903,67968,67969,67970,67971,67972,67973,67974,67975,67976,67977,67978,67979,67980,67981,67982,67983,67984,67985,67986,67987,67988,67989,67990,67991,67992,67993,67994,67995,67996,67997,67998,67999,68e3,68001,68002,68003,68004,68005,68006,68007,68008,68009,68010,68011,68012,68013,68014,68015,68016,68017,68018,68019,68020,68021,68022,68023,68030,68031,68096,68112,68113,68114,68115,68117,68118,68119,68121,68122,68123,68124,68125,68126,68127,68128,68129,68130,68131,68132,68133,68134,68135,68136,68137,68138,68139,68140,68141,68142,68143,68144,68145,68146,68147,68160,68161,68162,68163,68164,68165,68166,68167,68176,68177,68178,68179,68180,68181,68182,68183,68184,68192,68193,68194,68195,68196,68197,68198,68199,68200,68201,68202,68203,68204,68205,68206,68207,68208,68209,68210,68211,68212,68213,68214,68215,68216,68217,68218,68219,68220,68221,68222,68223,68352,68353,68354,68355,68356,68357,68358,68359,68360,68361,68362,68363,68364,68365,68366,68367,68368,68369,68370,68371,68372,68373,68374,68375,68376,68377,68378,68379,68380,68381,68382,68383,68384,68385,68386,68387,68388,68389,68390,68391,68392,68393,68394,68395,68396,68397,68398,68399,68400,68401,68402,68403,68404,68405,68416,68417,68418,68419,68420,68421,68422,68423,68424,68425,68426,68427,68428,68429,68430,68431,68432,68433,68434,68435,68436,68437,68440,68441,68442,68443,68444,68445,68446,68447,68448,68449,68450,68451,68452,68453,68454,68455,68456,68457,68458,68459,68460,68461,68462,68463,68464,68465,68466,68472,68473,68474,68475,68476,68477,68478,68479,68608,68609,68610,68611,68612,68613,68614,68615,68616,68617,68618,68619,68620,68621,68622,68623,68624,68625,68626,68627,68628,68629,68630,68631,68632,68633,68634,68635,68636,68637,68638,68639,68640,68641,68642,68643,68644,68645,68646,68647,68648,68649,68650,68651,68652,68653,68654,68655,68656,68657,68658,68659,68660,68661,68662,68663,68664,68665,68666,68667,68668,68669,68670,68671,68672,68673,68674,68675,68676,68677,68678,68679,68680,126464,126465,126466,126467,126469,126470,126471,126472,126473,126474,126475,126476,126477,126478,126479,126480,126481,126482,126483,126484,126485,126486,126487,126488,126489,126490,126491,126492,126493,126494,126495,126497,126498,126500,126503,126505,126506,126507,126508,126509,126510,126511,126512,126513,126514,126516,126517,126518,126519,126521,126523,126530,126535,126537,126539,126541,126542,126543,126545,126546,126548,126551,126553,126555,126557,126559,126561,126562,126564,126567,126568,126569,126570,126572,126573,126574,126575,126576,126577,126578,126580,126581,126582,126583,126585,126586,126587,126588,126590,126592,126593,126594,126595,126596,126597,126598,126599,126600,126601,126603,126604,126605,126606,126607,126608,126609,126610,126611,126612,126613,126614,126615,126616,126617,126618,126619,126625,126626,126627,126629,126630,126631,126632,126633,126635,126636,126637,126638,126639,126640,126641,126642,126643,126644,126645,126646,126647,126648,126649,126650,126651,1114109];
j.prototype.applyStyles=function(a,b){b=b||this.div;for(var c in a)a.hasOwnProperty(c)&&(b.style[c]=a[c])},j.prototype.formatStyle=function(a,b){return 0===a?0:a+b},k.prototype=o(j.prototype),k.prototype.constructor=k,l.prototype.move=function(a,b){switch(b=void 0!==b?b:this.lineHeight,a){case"+x":this.left+=b,this.right+=b;break;case"-x":this.left-=b,this.right-=b;break;case"+y":this.top+=b,this.bottom+=b;break;case"-y":this.top-=b,this.bottom-=b}},l.prototype.overlaps=function(a){return this.left<a.right&&this.right>a.left&&this.top<a.bottom&&this.bottom>a.top},l.prototype.overlapsAny=function(a){for(var b=0;b<a.length;b++)if(this.overlaps(a[b]))return!0;return!1},l.prototype.within=function(a){return this.top>=a.top&&this.bottom<=a.bottom&&this.left>=a.left&&this.right<=a.right},l.prototype.overlapsOppositeAxis=function(a,b){switch(b){case"+x":return this.left<a.left;case"-x":return this.right>a.right;case"+y":return this.top<a.top;case"-y":return this.bottom>a.bottom}},l.prototype.intersectPercentage=function(a){var b=Math.max(0,Math.min(this.right,a.right)-Math.max(this.left,a.left)),c=Math.max(0,Math.min(this.bottom,a.bottom)-Math.max(this.top,a.top)),d=b*c;return d/(this.height*this.width)},l.prototype.toCSSCompatValues=function(a){return{top:this.top-a.top,bottom:a.bottom-this.bottom,left:this.left-a.left,right:a.right-this.right,height:this.height,width:this.width}},l.getSimpleBoxPosition=function(a){var b=a.div?a.div.offsetHeight:a.tagName?a.offsetHeight:0,c=a.div?a.div.offsetWidth:a.tagName?a.offsetWidth:0,d=a.div?a.div.offsetTop:a.tagName?a.offsetTop:0;a=a.div?a.div.getBoundingClientRect():a.tagName?a.getBoundingClientRect():a;var e={left:a.left,right:a.right,top:a.top||d,height:a.height||b,bottom:a.bottom||d+(a.height||b),width:a.width||c};return e},n.StringDecoder=function(){return{decode:function(a){if(!a)return"";if("string"!=typeof a)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(a))}}},n.convertCueToDOMTree=function(a,b){return a&&b?g(a,b):null};var u=.05,v="sans-serif",w="1.5%";n.processCues=function(a,b,c){function d(a){for(var b=0;b<a.length;b++)if(a[b].hasBeenReset||!a[b].displayState)return!0;return!1}if(!a||!b||!c)return null;for(;c.firstChild;)c.removeChild(c.firstChild);var e=a.document.createElement("div");if(e.style.position="absolute",e.style.left="0",e.style.right="0",e.style.top="0",e.style.bottom="0",e.style.margin=w,c.appendChild(e),d(b)){var f=[],g=l.getSimpleBoxPosition(e),h=Math.round(g.height*u*100)/100,i={font:h+"px "+v};!function(){for(var c,d,h=0;h<b.length;h++)d=b[h],c=new k(a,d,i),e.appendChild(c.div),m(a,c,g,f),d.displayState=c.div,f.push(l.getSimpleBoxPosition(c))}()}else for(var j=0;j<b.length;j++)e.appendChild(b[j].displayState)},n.Parser=function(a,b,c){c||(c=b,b={}),b||(b={}),this.window=a,this.vttjs=b,this.state="INITIAL",this.buffer="",this.decoder=c||new TextDecoder("utf8"),this.regionList=[]},n.Parser.prototype={reportOrThrowError:function(a){if(!(a instanceof b))throw a;this.onparsingerror&&this.onparsingerror(a)},parse:function(a){function c(){for(var a=i.buffer,b=0;b<a.length&&"\r"!==a[b]&&"\n"!==a[b];)++b;var c=a.substr(0,b);return"\r"===a[b]&&++b,"\n"===a[b]&&++b,i.buffer=a.substr(b),c}function g(a){var b=new d;if(e(a,function(a,c){switch(a){case"id":b.set(a,c);break;case"width":b.percent(a,c);break;case"lines":b.integer(a,c);break;case"regionanchor":case"viewportanchor":var e=c.split(",");if(2!==e.length)break;var f=new d;if(f.percent("x",e[0]),f.percent("y",e[1]),!f.has("x")||!f.has("y"))break;b.set(a+"X",f.get("x")),b.set(a+"Y",f.get("y"));break;case"scroll":b.alt(a,c,["up"])}},/=/,/\s/),b.has("id")){var c=new(i.vttjs.VTTRegion||i.window.VTTRegion);c.width=b.get("width",100),c.lines=b.get("lines",3),c.regionAnchorX=b.get("regionanchorX",0),c.regionAnchorY=b.get("regionanchorY",100),c.viewportAnchorX=b.get("viewportanchorX",0),c.viewportAnchorY=b.get("viewportanchorY",100),c.scroll=b.get("scroll",""),i.onregion&&i.onregion(c),i.regionList.push({id:b.get("id"),region:c})}}function h(a){e(a,function(a,b){switch(a){case"Region":g(b)}},/:/)}var i=this;a&&(i.buffer+=i.decoder.decode(a,{stream:!0}));try{var j;if("INITIAL"===i.state){if(!/\r\n|\n/.test(i.buffer))return this;j=c();var k=j.match(/^WEBVTT([ \t].*)?$/);if(!k||!k[0])throw new b(b.Errors.BadSignature);i.state="HEADER"}for(var l=!1;i.buffer;){if(!/\r\n|\n/.test(i.buffer))return this;switch(l?l=!1:j=c(),i.state){case"HEADER":/:/.test(j)?h(j):j||(i.state="ID");continue;case"NOTE":j||(i.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(j)){i.state="NOTE";break}if(!j)continue;if(i.cue=new(i.vttjs.VTTCue||i.window.VTTCue)(0,0,""),i.state="CUE",-1===j.indexOf("-->")){i.cue.id=j;continue}case"CUE":try{f(j,i.cue,i.regionList)}catch(a){i.reportOrThrowError(a),i.cue=null,i.state="BADCUE";continue}i.state="CUETEXT";continue;case"CUETEXT":var m=-1!==j.indexOf("-->");if(!j||m&&(l=!0)){i.oncue&&i.oncue(i.cue),i.cue=null,i.state="ID";continue}i.cue.text&&(i.cue.text+="\n"),i.cue.text+=j;continue;case"BADCUE":j||(i.state="ID");continue}}}catch(a){i.reportOrThrowError(a),"CUETEXT"===i.state&&i.cue&&i.oncue&&i.oncue(i.cue),i.cue=null,i.state="INITIAL"===i.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var a=this;try{if(a.buffer+=a.decoder.decode(),(a.cue||"HEADER"===a.state)&&(a.buffer+="\n\n",a.parse()),"INITIAL"===a.state)throw new b(b.Errors.BadSignature)}catch(b){a.reportOrThrowError(b)}return a.onflush&&a.onflush(),this}},a.WebVTT=n}(this,this.vttjs||{}),videojs.Player.prototype.next=function(){return this.pl._nextPrev("next"),this},videojs.Player.prototype.prev=function(){return this.pl._nextPrev("prev"),this},videojs.plugin("playList",playList),function(a,b,c){b.gdt=b.gdt||{};var d=function(){function d(){var b=a.domain,c=b.split(".").splice(-2),d=c.join(".");return d}var e=function(a){var b,d,e,f=document.cookie.split(";");for(b=0;b<f.length;b++)if(d=c.trim(f[b].substr(0,f[b].indexOf("="))),e=c.trim(f[b].substr(f[b].indexOf("=")+1)),d===a)return e;return!1},f=function(a){return a&&a.data&&("POST"===a.type||"post"===a.type)&&(a.data instanceof Object?a.data._charset_="UTF-8":a.data+="&_charset_=UTF-8"),c.ajax({type:a.type,url:a.url,data:a.data,options:a.options?a.dataType:"",context:c("body"),success:function(b,c,d){"function"==typeof a.callback&&a.callback(b,c,d)},error:function(b,c,d){"function"==typeof a.error&&a.error(b,c,d)}})},g=function(){return"DISABLED"===c("body").data("cq-mode")},h=function(){var a=e("RCHMFrontEndCookie");return!!a&&decodeURI(b.escape(JSON.parse(b.unescape(a)).u.replace(/\+/gi," ")))},i={mapIcon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAAAvVBMVEUAAADp2KXdzKLr26MAAAC9s5Tj0Z8AAADSxJ68spLIvJoWFBSyqIq3q4vdy6LZyaEGBgYIBwgGBAgJCQoNCw0iHx3i0aTPwpq6sJHGuJcUERS0qo/r2aRHQTqAfnnVxZ/Kvpu5sJHWx6IiIiK3rI2pn4ISEhLn1qTDuJnr2KUqKSlwb2mhl31OS0GblojHvJrOwJ7j0qUzMzNERERXV1caGhpqamrh0aTczaI4NS7fzqO9spPayqLSw5/AtZbT84H7AAAAHnRSTlMAhIBABYAQECAQo2X5QDpwJUExTFh6oGigjZYw7bvKeG7cAAABIklEQVR4Xs3S2VKDQBCG0RERRkBINCQm6rCTfXHfff/Hkh6GVLDoaW+s8r8+9WUqDftX8wMj8EnFhy8fafS5ix2udcHzm4Lb2YnGDW8P4Ncl6kbTFnwfIY5Pa+itihomyDuP5gDz17IsF4WEyI/PAebZIywrAOadzpdwndVbS3jWBY8BRotmnh7md81WRPG+WY5CLt8oHuot5RuvWNeuAabiCbZMAHq6/zHdCCE2sy1A5NyWukwaqxMmpwxJ/rg1BJFkG0IQSbYgBLFkC0IQm0F/4Sp5ACGoSe4hBHXJPYSgNqngmBGzFOSMmiGhw8hZEkKQTFYQgnSygr8JmvY4cmyTZucXbhwO+j1bDysXTm4modvvmWRx4LpkEahpVzPZn+8bWRhID7l4mFEAAAAASUVORK5CYII=",clusterIcon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAMAAADW3miqAAAAwFBMVEUAAAD/79T/8dP/8NP/78//78//8dH/8dP/8dP/79P/8dL/8tL/8dL/8NP/8NL/8dP/8dPh1bvv4sYAAACblIWRi30xLyl7d3C8sp1wamD16MyIg3hCQkLAt6VmZmVqampQS0K0rJr26c2poY9KSkpcXFwzMzM6OjpgWk8qKipmYllhYWHo3MJGRkYTExMODg5OTk5TU1MKCgohISEFBQUmJiY2NjYvLy8+Pj4cHBzb0LoYGBirpZjNxK/bz7dXV1d1xdOXAAAAEHRSTlMAMN+fIBBg74BAv1DPr49wRXuCfwAAATpJREFUeNqd1NdygzAQQFEbjAUGx5fqFvde0nv//79KiGJcYF9ynu+MdnYklf6j4qQqJZljGmjKdIsT1+CQUc0nVh0IouUiDMNkGPuAVz5pygr8Zbg3bIGq5ppmeKwdQPW4CYbhqSQAZx95BMl93k+lsm3YsL4tMof6boEwuirWzQ48I0guBT41HSkmb5I2/E7lwPmLZAUNPbZ/J2vp0Wu0HmQxho7ilawNaWQQPcnWOlJEc9lfVCN6lGXRZCGLUXrhn8+ykV65C9Nz0RY7jSzoXkjaoC+xyXYqaeFlVyW+Ltbc32CTTv+myMzHy56Twt98FejpiTQH/P4sp3f8XKrgNzfHBh9g7hNddUaD/oGoA/bpEzag0+sOtOZ7AMrNfwa2AsavqTGAaZUKWA2PHcOW/yjLsVOuWMi+AW6tfH02ALYoAAAAAElFTkSuQmCC",mapMobIcon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAApCAMAAAAcesn/AAAALVBMVEUAAAALCwsVFRUuLi45OTk7OzsuLi4+Pj4BAAD98NIHBgaon4vj17w4NSxfW06leJxAAAAACHRSTlMA88N9XDKmIv9G4e4AAADQSURBVHjajZPbDoMwDEPTG2QG9v+fO9HhrJX7sCOeOHJiImGk5gR3pFxtpiQPUhnEnn0i7zSNkSC1MJgN6LIvyL0BVgp3l2ERMKwzqxyP6zjP4wIX19+m96vz5oQc867XwxUTGTqoDr4JdVKd/6v1QK1BBSn/gOGC308Ok626HIrXsMH0h/C8SjLeV6jGmIZuykoV60AN7MumantUg4SaMaahALqJtFk1G4CGSHWE8GoTm3YIoONIoSomJPRMMmX3zm4LcvxXCthBKdFBwRT6AFvPF2lfkYx9AAAAAElFTkSuQmCC",clusterMobIcon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAMAAADW3miqAAAAMFBMVEUAAAD/8NP/8dP/8dP/8dP/8tP/8dMBAQL/8dNgW1AmJCDKv6dwal1APDSYkH5mYVW4jGWVAAAAB3RSTlMAHbzSmGtSQyoE5gAAAMhJREFUeNqNlFEOwyAMQwsJxUBZ73/bNaiTgK3M/qyebBdItl4uqBdAvAbXf+8Jj07+F7cLJsk+2yhMJdUcY66pwKRuYFpSip1Sy3QdI+aS46BsbuIGnyN+6ei9tI+aI/X+r9Fn9to/hV7xQa+7VgAQHwUgXJAHzmcoAf5Ka0ZLK2dpZQUVy1MgraATUKtUV1C1UgLkFZQB2VrvP80piIqjilNHQB0mdy1WKq0vmHoq1KNjni8zCNRIMcPJjDmzMLjVwy8xah2+AamCHXOpwq7bAAAAAElFTkSuQmCC"};return{checkCookie:e,getNameFromCookie:h,ajaxCall:f,google:i,noWCM:g(),getCookieDomain:d}};b.gdt.Utils=new d}(document,window,window.jQuery||window.Zepto),function(a,b,c){b.gdt=b.gdt||{},b.gdt.Utils=b.gdt.Utils||{};var d=function(){function a(){var a=!1;return(c.os&&c.os.phone||/android/i.test(w)&&/mobile/i.test(w))&&(a=!0),a}function d(){var a=/android 2/i.test(w);return a&&x.addClass("oldDroid"),a}function e(){return r=/iPad/i.test(navigator.userAgent),r&&x.addClass("ipad"),r}function f(){var a=!1;return c("html").is(".ie6, .ie7, .ie8, .ie9")&&(a=!0),a}function g(){return c("html").is(".ie6, .ie7, .ie8")}function h(){return s=/msie/i.test(navigator.userAgent),s&&x.addClass("isIE"),s}function i(){var a=!!navigator.userAgent.match(/Trident.*rv[ :]*11\./);return a&&x.addClass("isIE"),a}function j(){return c.os&&(c.os.phone||c.os.ipod)&&c.os.ios&&parseInt(c.os.version,10)>6}function k(){var a=c.os&&c.os.ios&&6===parseInt(c.os.version,10);return a&&x.addClass("iOS6"),a}function l(){var a=/iPhone OS 7|iPad.*OS 7/.test(navigator.appVersion);return a&&c("html").addClass("iOS7"),a}function m(){var a=screen.height,b=screen.width;/Android/.test(w)>=0&&(1280===b&&800===a||800===b&&1280===a||1024===b&&600===a||600===b&&1024===a)&&(t=!0,x.addClass("galaxy"))}function n(){var a=navigator.userAgent||"",b=a.indexOf("Mozilla/5.0")>-1&&a.indexOf("Android ")>-1&&a.indexOf("AppleWebKit")>-1&&-1===a.indexOf("Chrome");b&&x.addClass("android-native")}function o(){u=!!window.matchMedia&&window.matchMedia("only screen and (max-width: 668px)").matches,y.isMobileLayout=u}function p(){return window.matchMedia&&(window.matchMedia("only screen and (min-resolution: 124dpi), only screen and (min-resolution: 1.3dppx), only screen and (min-resolution: 48.8dpcm)").matches||window.matchMedia("only screen and (-webkit-min-device-pixel-ratio: 1.3), only screen and (-o-min-device-pixel-ratio: 2.6/2), only screen and (min--moz-device-pixel-ratio: 1.3), only screen and (min-device-pixel-ratio: 1.3)").matches)||window.devicePixelRatio&&window.devicePixelRatio>1.3}function q(){var a=function(a){return"string"==typeof a.MozTransform||("string"==typeof a.OTransform||("string"==typeof a.WebkitTransform||(!("string"!=typeof a.msTransform&&"string"!=typeof a.MsTransform||/MSIE 9/.test(navigator.appVersion))||"string"==typeof a.transform)))}(((document||{}).body||{}).style||{});return a}var r,s,t,u,v,w=b.navigator.appVersion,x=c("body"),y={};return b.addEventListener&&(b.addEventListener("orientationchange",function(){0===b.orientation&&(m(),o())},!1),b.addEventListener("resize",function(){clearTimeout(v),v=setTimeout(o,10)},!1)),m(),n(),o(),y={isMobile:a(),oldDroid:d(),isOldIE:f(),isiPad:e(),isGalaxy:t,isiOS7iPhone:j(),isiOS6:k(),isIE8:g(),isIE:h(),isiOS7:l(),isIE11:i(),isHighDPR:p(),isMobileLayout:u,hasTransforms:q()}};b.gdt.Utils.Browser=new d}(document,window,window.jQuery||window.Zepto),function(a,b){b.gdt=b.gdt||{},b.gdt.Utils=b.gdt.Utils||{};var c=function(){function a(a){b.console&&b.console.log&&b.console.log(a)}function c(a){b.console&&b.console.warn&&b.console.warn(a)}function d(a){b.console&&b.console.error&&b.console.error(a)}return{log:a,warn:c,error:d}};b.gdt.Utils.Console=new c}(document,window),function(a,b){function c(a,b){var c,d=b.split("."),e=a;for(c=0;c<d.length;c++){if(void 0===e[d[c]]){e=void 0;break}e=e[d[c]]}return e}b.gdt=b.gdt||{},b.gdt.Utils=b.gdt.Utils||{},b.gdt.Utils.Objects=b.gdt.Utils.Objects||{},b.gdt.Utils.Objects.getPropByPathStr=c}(document,window),function(a,b,c){b.gdt=b.gdt||{},b.gdt.Utils=b.gdt.Utils||{};var d=function(){function a(a,b){this.src=a,this.dpr=b}function d(a,b){this.srcset=a,this.media=b}function e(a,b){return a.media>b.media?-1:a.media<b.media?1:0}function f(b){var f=[];return b.find("[srcset]").each(function(){var b,e,g,h=c(this),i=h.attr("srcset").split(","),j=[];for(e=0;e<i.length;e++)i[e]=c.trim(i[e]),g=new a(c.trim(i[e].split(" ")[0]),c.trim(i[e].split(" ")[1])),j.push(g);b=new d(j,h.attr("media")||"(min-width: 0px)"),f.push(b)}),f.sort(e)}function g(a,b){for(var c=0;c<a.length;c++)if(b===a[c].dpr)return a[c].src}var h=function(a){var d,e,h,i,j=a.find('[type="text/x-tmpl"]'),k=c.trim(j.html());if(d=c(k),e=f(d),!b.matchMedia||c(".ie8").length)return g(e[0].srcset,"1x");for(h=0;h<e.length;h++)if(b.matchMedia(e[h].media).matches)return i=b.gdt.Utils.Browser.isHighDPR?"2x":"1x",g(e[h].srcset,i)};return{getImgSrcFromTemplate:h}};b.gdt.Utils.Picture=new d}(document,window,window.jQuery||window.Zepto),function(a,b){b.gdt=b.gdt||{},b.gdt.Utils=b.gdt.Utils||{};var c=function(){var a={modal:{open:"open modal",close:"close modal",opening:"modal opening",closing:"modal closing",productGallery:{open:"open product gallery",close:"close product gallery"},verticalGallery:{open:"open vertical gallery",close:"close vertical gallery"},basketError:{open:"open basket error",close:"close basket error"},ipDetectionPopup:{open:"open ip warning",close:"close ip warning"},loginOverlay:{open:"open login overlay",close:"close login overlay"},homeVideo:{open:"open Home Video",close:"close Home Video"}},shade:{open:"open shade",close:"close shade",opening:"shade opening",closing:"shade closing"},paginatedList:{reinitialise:"refresh results",dealerList:{navigate:"navigate pagination"}},commerceContentJSON:"commerce content JSON loaded",wishlistUpdated:"wishlist updated",basketUpdated:"basket updated",basketError:"basket error",loginOverlay:"login overlay",accordionContentUpdated:"accordion updated",ipDetectionPopup:"IP Detection Popup",productGallery:"Open Product Gallery",homeVideo:"Open Home Video",checkCountry:"check country",mapApiLoaded:"Maps API Loaded",mapApiNotLoaded:"Maps API Not Loaded",createCaptchaOnPage:"Create captcha now",languageSelectorPopupClose:"Close Language Selector",boutiqueTabClicked:"Boutique Tab Clicked",shippingTabClicked:"Shipping Tab Clicked",catalogueMsgClosed:"catalogue Msg Closed",baiduMaps:"Load Baidu Maps",tabClicked:"tab clicked"};return{UI_EVENTS:a}};b.gdt.Utils.PubSub=new c}(document,window,window.jQuery||window.Zepto),function(a,b){function c(){var a,c,d=b.location.search.substr(1),e=d.split("&"),f={};for(c=0;c<e.length;c++)a=e[c].split("="),f[a[0]]=a[1];return f}b.gdt=b.gdt||{},b.gdt.Utils=b.gdt.Utils||{},b.gdt.Utils.queryParams=c()}(document,window,window.jQuery||window.Zepto),function(a,b,c){function d(){var a;if(c(".ie8").length||c(".ie9").length){var b=c('<textarea cols="10" rows="2"></textarea>').css({position:"absolute",top:-1e3,left:-1e3}).appendTo("body"),d=c('<textarea cols="10" rows="2" style="overflow: hidden;"></textarea>').css({position:"absolute",top:-1e3,left:-1e3}).appendTo("body");a=b.width()-d.width(),b.add(d).remove()}else{var e=c("<div />").css({width:100,height:100,overflow:"auto",position:"absolute",top:-1e3,left:-1e3}).prependTo("body").append("<div />").find("div").css({width:"100%",height:200});a=100-e.width(),e.parent().remove()}return a}b.gdt=b.gdt||{},b.gdt.Utils=b.gdt.Utils||{},b.gdt.Utils.scrollWidth=d()}(document,window,window.jQuery||window.Zepto),function(a,b,c){b.gdt=b.gdt||{},b.gdt.Utils=b.gdt.Utils||{};var d=function(){function a(a){if(!a)return void b.gdt.Utils.Console.warn("No template options");var d,e=a.data,f=a.template;return f=f.replace(/\{\{(.+?)\}\}/g,function(a,c){var d=b.gdt.Utils.Objects.getPropByPathStr(e,c);return void 0!==d?d:c+"-is-undefined"}),d=c(f)}return{render:a}};b.gdt.Utils.Template=new d}(document,window,window.jQuery||window.Zepto),function(a,b,c){b.gdt=b.gdt||{},b.gdt.Tracking=b.gdt.Tracking||{};var d=function(){function a(a){return{"25%":parseInt(.25*a,10),"50%":parseInt(.5*a,10),"75%":parseInt(.75*a,10),"100%":a-5}}function d(a,b,c){return b[a]&&(c[a]=b[a]),c}function e(a,b){for(var c={},e={},f=0;f<a.length;f++)c=d(a[f],b,e);return c}function f(){var d=document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop,f=d,g=a(aa);c.each(g,function(a,d){-1===c.inArray(a,_)&&f>=d&&($.event="scrollLevel",$.scrollLevel=a,$=e(["event","scrollLevel"],$),_.push(a),b.gdt.Utils.Console.log($),da.push($))})}function g(a){if(a){var b=a.indexOf("uid"),c=a.slice(b,a.length);return c.replace("uid","")}}function h(a){return a=a.replace(/(?:_| |\b)(\w)/g,function(a,b){return b.toUpperCase()}),a=a.charAt(0).toLowerCase()+a.slice(1).replace("-","")}function i(a){return a}function j(a){if(a)for(var b in a)(null===a[b]||void 0===a[b]||a[b]&&0===a[b].length||"object"==typeof a[b]&&0===a[b].length||"object"==typeof a[b]&&0===c.map(a[b],i).length)&&delete a[b]}function k(a){for(var b=[],d=a.length-1;d>=0;d--)b.push(c(a[d]).find("h1").text());return b.reverse().toString()}function l(a){if(a=c(a),0!==a.length){if(L=a.data("trackable-cache")?a.data("trackable-cache"):!!a.data("trackable")&&a.data("trackable"),M=a.data("tracking-event")?a.data("tracking-event"):a[0].event?a[0].event:b.gdt.Tracking.trackingObject?b.gdt.Tracking.trackingObject.event:"",N=a.data("tracking-label")?a.data("tracking-label"):a[0].label?a[0].label:b.gdt.Tracking.trackingObject?b.gdt.Tracking.trackingObject.label:"",$.category=a.data("tracking-category")?a.data("tracking-category"):a[0].category?a[0].category:b.gdt.Tracking.trackingObject?b.gdt.Tracking.trackingObject.category:"",$.productCategory=a.data("tracking-productcategory")?a.data("tracking-productcategory"):a[0].productCategory?a[0].productCategory:b.gdt.Tracking.trackingObject?b.gdt.Tracking.trackingObject.productCategory:"",$.productCollection=a.data("tracking-productcollection")?a.data("tracking-productcollection"):a[0].productCollection?a[0].productCollection:b.gdt.Tracking.trackingObject?b.gdt.Tracking.trackingObject.productCollection:"",$.productSKU=a.data("tracking-productsku")?a.data("tracking-productsku"):a[0].productSKU?a[0].productSKU:b.gdt.Tracking.trackingObject?b.gdt.Tracking.trackingObject.productSKU:"",$.productName=a.data("tracking-productname")?a.data("tracking-productname"):a[0].productName?a[0].productName:b.gdt.Tracking.trackingObject?b.gdt.Tracking.trackingObject.productName:"",$.refillSKU=a.data("tracking-refillsku")?a.data("tracking-refillsku"):a[0].refillSKU?a[0].refillSKU:b.gdt.Tracking.trackingObject?b.gdt.Tracking.trackingObject.refillSKU:"",$.shoppingBagValue=a.data("tracking-shoppingbagvalue")?a.data("tracking-shoppingbagvalue"):a[0].shoppingBagValue?a[0].shoppingBagValue:b.gdt.Tracking.trackingObject?b.gdt.Tracking.trackingObject.shoppingBagValue:"",$.productAvailability=a.data("tracking-productavailability")?a.data("tracking-productavailability"):a[0].productAvailability?a[0].productAvailability:b.gdt.Tracking.trackingObject?b.gdt.Tracking.trackingObject.productAvailability:"false",$.siteSearchTerm=O?O:b.gdt.Tracking.trackingObject?b.gdt.Tracking.trackingObject.siteSearchTerm:"",$.siteSearchResults=P?P:b.gdt.Tracking.trackingObject?b.gdt.Tracking.trackingObject.siteSearchResults:"",$.page=a.data("tracking-page")?a.data("tracking-page"):b.gdt.Tracking.trackingObject.page?b.gdt.Tracking.trackingObject.page:document.location.pathname,$.productEvent=b.gdt.Tracking.trackingObject?b.gdt.Tracking.trackingObject.productEvent:"",$.visitorStatus=b.gdt.Utils.checkCookie("RCHMFrontEndCookie")?"loggedin":"guest",$.pageCategory=b.gdt.Tracking.trackingObject?b.gdt.Tracking.trackingObject.pageCategory:"",$.language=b.gdt.Tracking.trackingObject?b.gdt.Tracking.trackingObject.trackingLanguage:"",$.market=b.gdt.Tracking.trackingObject?b.gdt.Tracking.trackingObject.trackingMarket:"",$.summaryPaymentMethod=b.gdt.Tracking.trackingObject.summaryPaymentMethod?b.gdt.Tracking.trackingObject.summaryPaymentMethod:{},$.searchLink=a.data("tracking-kw")?a.data("tracking-kw"):a[0].kw?a[0].kw:b.gdt.Tracking.trackingObject?b.gdt.Tracking.trackingObject.kw:"",$.additionalFooterLink=a.data("tracking-additionalfooterlink")?a.data("tracking-additionalfooterlink"):b.gdt.Tracking.trackingObject?b.gdt.Tracking.trackingObject.additionalFooterLink:"",$.bannerTheme=a.data("tracking-theme")?a.data("tracking-theme"):b.gdt.Tracking.trackingObject?b.gdt.Tracking.trackingObject.bannerTheme:"",$.bannerPosition=a.data("tracking-position")?a.data("tracking-position"):b.gdt.Tracking.trackingObject?b.gdt.Tracking.trackingObject.bannerPosition:"",$.Product_subsection=a.data("tracking-Product_subsection")?a.data("tracking-Product_subsection"):a[0].Product_subsection?a[0].Product_subsection:b.gdt.Tracking.trackingObject?b.gdt.Tracking.trackingObject.Product_subsection:"",$.Product_type=a.data("tracking-Product_type")?a.data("tracking-Product_type"):a[0].Product_type?a[0].Product_type:b.gdt.Tracking.trackingObject?b.gdt.Tracking.trackingObject.Product_type:"",$.view=a.data("tracking-view")?a.data("tracking-view"):a[0].view?a[0].view:b.gdt.Tracking.trackingObject?b.gdt.Tracking.trackingObject.view:"",$.itemlookup=a.data("tracking-itemlookup")?a.data("tracking-itemlookup"):a[0].itemlookup?a[0].itemlookup:b.gdt.Tracking.trackingObject?b.gdt.Tracking.trackingObject.itemlookup:"",$.item=a.data("tracking-item")?a.data("tracking-item"):a[0].item?a[0].item:b.gdt.Tracking.trackingObject?b.gdt.Tracking.trackingObject.item:"",$.applatform=a.data("tracking-applatform")?a.data("tracking-applatform"):a[0].applatform?a[0].applatform:b.gdt.Tracking.trackingObject?b.gdt.Tracking.trackingObject.applatform:"",$.socialNetwork=a.data("tracking-socialnetwork")?a.data("tracking-socialnetwork"):a[0].socialnetwork?a[0].socialnetwork:b.gdt.Tracking.trackingObject?b.gdt.Tracking.trackingObject.socialnetwork:"",$.socialAction=a.data("tracking-socialaction")?a.data("tracking-socialaction"):a[0].socialaction?a[0].socialaction:b.gdt.Tracking.trackingObject?b.gdt.Tracking.trackingObject.socialaction:"",$.socialTarget=a.data("tracking-socialtarget")?a.data("tracking-socialtarget"):a[0].socialtarget?a[0].socialtarget:b.gdt.Tracking.trackingObject?b.gdt.Tracking.trackingObject.socialtarget:"",$.website=a.data("tracking-website")?a.data("tracking-website"):a[0].website?a[0].website:b.gdt.Tracking.trackingObject?b.gdt.Tracking.trackingObject.website:"",$.download_type=a.data("tracking-downloadtype")?a.data("tracking-downloadtype"):a[0].downloadtype?a[0].downloadtype:b.gdt.Tracking.trackingObject?b.gdt.Tracking.trackingObject.downloadtype:"",$.boutique=a.data("tracking-boutique")?a.data("tracking-boutique"):a[0].boutique?a[0].boutique:b.gdt.Tracking.trackingObject?b.gdt.Tracking.trackingObject.boutique:"",$.section=a.data("tracking-section")?a.data("tracking-section"):a[0].section?a[0].section:b.gdt.Tracking.trackingObject?b.gdt.Tracking.trackingObject.section:"",$.boutique=a.data("tracking-boutique")?a.data("tracking-boutique"):a[0].boutique?a[0].boutique:b.gdt.Tracking.trackingObject?b.gdt.Tracking.trackingObject.boutique:"",$.boutiqueId=a.data("tracking-boutiqueId")?a.data("tracking-boutiqueId"):"",$.boutiqueCity=a.data("tracking-boutiqueCity")?a.data("tracking-boutiqueCity"):"",$.boutiqueName=a.data("tracking-boutiqueName")?a.data("tracking-boutiqueName"):"",X=b.gdt.Tracking.transactionTrackingObject?b.gdt.Tracking.transactionTrackingObject:{},Q=b.gdt.Tracking.trackingObject.errorType?b.gdt.Tracking.trackingObject.errorType:"",S=c("input[name=termsAndCondition]")||"",T=a.data("tracking-newsletter")?a.data("tracking-newsletter"):c("input[name=newsletter]").attr("checked")?"true":"false",U=c("select[name=country]").val()||"",W=c("select[id=globalcountry]").val()||"",V=c("select[name=topic]").val()||"",Y=c("select[name=messageCard_0]").val(),j($),M&&M.length>0&&(M=h(M),$.event=M),N&&N.length>0&&($.label=N),$&&$.page&&-1!==$.page.indexOf("home.html")&&c(b).on("scroll",f),M&&-1!==M.indexOf("homepageBannerClicked")&&($=e(["event","bannerTheme","bannerPosition"],$)),M&&("loggedIn"===M||"showCollectionsHeader"===M||"discoverHeader"===M||"findMontblancHeader"===M||"myMontblanc"===M||"proceedToCheckout"===M||"logIn"===M||"zoom"===M||"allDetails"===M||"productCare"===M||"callAConcierge"===M||"continueShopping"===M||"signUp"===M&&-1===document.location.pathname.indexOf("account/register/confirmation")||"contactFooter"===M||"corporateGiftShopFooter"===M||"corporateGiftShopFooter"===M||"customServicesFooter"===M||"termsAndLegalFooter"===M||"montblancAppsFooter"===M||"signUpFromWishlist"===M||"logInFromWishlist"===M)&&($=e(["event"],$)),M&&"socialShareProductPage"===M&&($=e(["event","label"],$)),M&&"socialShareProductPage"===M&&N&&"print"===N&&($.event="printProduct",$=e(["event"],$)),M&&"bookmarkArticleFromPrivateSection"===M){var d=$.page,i=d.lastIndexOf("/"),l=d.lastIndexOf(".");d=d.slice(i+1,l),$.articleTitle=d,$=e(["event","articleTitle"],$)}if(M&&"collectionClicked"===M&&($.category=$.productCategory,$.collection=$.productCollection,$=e(["event","category","collection"],$)),M&&"logInWithSocial"===M&&(-1!==document.location.href.indexOf("reservation.get-reservations")?($.event="virtualPageview",$.page="checkout/loginwithsocialnetwork/"+N,$=e(["event","page"],$)):$=e(["event","label"],$)),$.page&&-1!==$.page.indexOf("account/newsletter-register")&&Q&&Q.length>0&&($.event="submitNewsletterWithError",$.errorType=Q,$=e(["event","errorType"],$)),$.page&&-1!==$.page.indexOf("newsletter-register/confirmation")&&(-1!==$.page.indexOf("success")?($.page=$.page+"/newslettersubscriptionvalidated",$=e(["page"],$)):($.page=$.page+"/newslettercompleted",$.event="newsletterSubscribed",$=e(["event","page"],$))),M&&"signUp"===M||$.page&&-1!==$.page.indexOf("account/register"))if(Q&&Q.length>0)$.event="createAnAccountError",$.errorType=Q,$=e(["event","errorType"],$);else if(-1!==document.location.pathname.indexOf("confirmation")){var m=b.gdt.Utils.checkCookie("registerFormObj");m&&($=JSON.parse(decodeURIComponent(m)),C("registerFormObj"))}if(M&&"additionalFooterLinkClicked"===M&&($=e(["event","additionalFooterLink"],$)),M&&"newsletterform"===M&&($.page=$.page+"/newsletterform",$=e(["page"],$)),M&&(M&&"addToWishlistProductPage"===M||"removeFromWishlistProductPage"===M)&&$.page&&-1===$.page.indexOf("refill")&&($&&$.pageCategory&&-1!==$.pageCategory.indexOf("Homepage")&&"addToWishlistProductPage"===M?($.event="addToWishlistHomePage",$=e(["event","productCategory","productCollection","productSKU","shoppingBagValue"],$)):$&&$.pageCategory&&-1!==$.pageCategory.indexOf("Homepage")&&"removeFromWishlistProductPage"===M?($.event="removeWishlistHomePage",$=e(["event","productCategory","productCollection","productSKU","shoppingBagValue"],$)):$&&$.pageCategory&&-1!==$.pageCategory.indexOf("Catalogue page")&&"addToWishlistProductPage"===M?($.event="addToWishlistCataPage",$=e(["event","productCategory","productCollection","productSKU","shoppingBagValue"],$)):$&&$.pageCategory&&-1!==$.pageCategory.indexOf("Catalogue page")&&"removeFromWishlistProductPage"===M?($.event="removeWishlistCataPage",$=e(["event","productCategory","productCollection","productSKU","shoppingBagValue"],$)):$=e(["event"],$)),$&&$.searchLink&&"searchResult"===M&&($=e(["siteSearchTerm"],$)),M&&"nibSelected"===M&&($=e(["event","nibSelected"],$)),M&&"boutiqueSearch"===M&&-1!==document.location.pathname.indexOf("zh-cn/boutique")&&($=e(["event","citySelected"],$)),M&&"boutiqueResultClicked"===M&&-1!==document.location.pathname.indexOf("zh-cn/boutique")&&($=e(["event","citySelected","boutiqueName"],$)),M&&"addToBagProductPage"===M&&M&&"productClickedOnCollectionOrCataloguePage"!==M&&($.label=$.pageCategory+"-"+$.productCollection+"-"+$.productSKU,$&&$.pageCategory&&"Homepage"===$.pageCategory?$.event="addToBagHomePage":$&&$.pageCategory&&-1!==$.pageCategory.indexOf("Catalogue page")&&($.event="addToBagCatePage"),$.refillSKU&&$.refillSKU.length>0?($.event="addToBagRefill",$.refillSKU=$.refillSKU?$.refillSKU:$.productSKU,$=e(["event","label","productCategory","productCollection","productSKU","refillSKU","shoppingBagValue"],$)):$=e(["event","label","productCategory","productCollection","productSKU","shoppingBagValue"],$)),M&&"productClickedOnCollectionOrCataloguePage"===M&&($.productAvailability=$.productAvailability?$.productAvailability:"false",$=e(["event","productCategory","productCollection","productSKU","productAvailability"],$)),$&&$.pageCategory&&"productPage"===$.pageCategory&&M&&-1===M.indexOf("addToBagProductPage")&&-1===M.indexOf("countrySelectorFooter")&&(M&&"findRefills"===M||"findABoutique"===M?($.event=M,$=e(["event","productCategory","productCollection","productSKU"],$)):($.label=$.pageCategory+"-"+$.productCollection+"-"+$.productSKU,$=e(["label","pageCategory","productCollection","productSKU"],$))),(M&&"addToBagFromWishlist"===M||"addToWishlistFromBag"===M&&$.page&&-1===$.page.indexOf("refill"))&&($&&$.pageCategory&&"Homepage"===$.pageCategory?$.event="addToWishlistHomePage":$&&$.pageCategory&&-1!==$.pageCategory.indexOf("Catalogue page")&&($.event="addToWishlistCataPage"),$=e(["event","productCategory","productCollection","productSKU","shoppingBagValue"],$)),(M&&"buyRefillsNow"===M||"confirmEngraving"===M)&&($.event=M,$=e(["event","productCategory","productCollection","productSKU"],$)),(M&&"removeFromShoppingBag"===M||"removeFromWishlist"===M)&&($=e(["event","productCategory","productCollection","productSKU","shoppingBagValue"],$)),M&&"addToBagRefill"===M&&($.refillSKU=$.refillSKU?$.refillSKU:$.productSKU),M&&"virtualPageview"===M&&($=e(["event","page"],$)),O&&P&&($=e(["siteSearchTerm","siteSearchResults"],$)),M&&"virtualPageview"===M&&$.page&&-1!==$.page.indexOf("shopping/checkout")&&-1===$.page.indexOf("payment.html")&&($.event="virtualPageview",$.page=$.page.replace(".html","")+"/pickfromprofile",$=e(["event","page"],$)),$&&$.page&&-1!==$.page.indexOf("billing-shipping.html")&&void 0!==c("#submitBoutique").find('input[name="shipping.deliveryBoutiqueCode"]').val()&&0===c("#submitBoutique").find('input[name="shipping.deliveryBoutiqueCode"]').val().length?$.page=$.page+"/homedelivery":$&&$.page&&-1!==$.page.indexOf("billing-shipping.html")&&void 0!==c("#submitBoutique").find('input[name="shipping.deliveryBoutiqueCode"]').val()&&c("#submitBoutique").find('input[name="shipping.deliveryBoutiqueCode"]').val().length&&($.page=$.page+"/boutiquepickup"),c("#orderReviewBTQP").length&&$&&$.page&&-1!==$.page.indexOf("order-review.html")?($.page=$.page+"/boutiquepickup",$.boutiqueId=document.getElementById("trackingOrderReviewBTQPId").value,$.boutiqueCity=document.getElementById("trackingOrderReviewBTQPCity").value,$.boutiqueName=document.getElementById("trackingOrderReviewBTQPName").value):!c("#orderReviewBTQP").length&&$&&$.page&&-1!==$.page.indexOf("order-review.html")&&($.page=$.page+"/homedelivery"),c("#orderReviewBTQP").length&&$&&$.page&&c("#creditCard").is(":checked")&&-1!==$.page.indexOf("payment.html")?$.page=$.page+"/boutiquepickup":!c("#orderReviewBTQP").length&&$&&$.page&&c("#creditCard").is(":checked")&&-1!==$.page.indexOf("payment.html")&&($.page=$.page+"/homedelivery"),(M&&"countrySelectorFooter"===M||"socialShareFooter"===M||"socialWishlist"===M)&&($=e(["event","label"],$)),
$&&$.page&&-1!==$.page.indexOf("/register/confirmation/success")&&($.page=$.page+"/accountcreationconfirmed",$=e(["page"],$)),$&&$.pageCategory&&"Checkout"===$.pageCategory&&($.page=b.gdt.Utils.checkCookie("RCHMFrontEndCookie")?document.location.pathname+"/checkout/billingandshippinginformation/loggedin":document.location.pathname+"/checkout/billingandshippinginformation/guest"),$&&$.page&&$.page.indexOf("/checkout/paymentmethod/")>=0&&($.page=$.page+$.visitorStatus,$=e(["page"],$)),c("#orderReviewBTQP").length&&X&&X&&"virtualPageview"!==M&&X.transactionId){var n=$.visitorStatus;$=X,$.visitorStatus=n,$.page=document.location.pathname+"/boutiquepickup",$=e(["country","transactionCurrency","transactionId","transactionPaymentMethod","transactionProducts","transactionShipping","transactionTax","transactionTotal","visitorStatus","messageSelected","page"],$)}else if(!c("#orderReviewBTQP").length&&X&&X&&"virtualPageview"!==M&&X.transactionId){var n=$.visitorStatus;$=X,$.visitorStatus=n,$.page=document.location.pathname+"/homedelivery",$=e(["country","transactionCurrency","transactionId","transactionPaymentMethod","transactionProducts","transactionShipping","transactionTax","transactionTotal","visitorStatus","messageSelected","page"],$)}if($&&$.transactionId&&"guest"===$.visitorStatus&&Q&&Q.length>0&&($.event="createAnAccountErrorAfterCheckOut",$.errorType=Q,$=e(["event","errorType"],$)),$&&$.page&&-1!==$.page.indexOf("shopping/guest/order-confirmation/confirmation")){var o=b.gdt.Utils.checkCookie("registerFormObj");o?($=JSON.parse(decodeURIComponent(o)),$.accountCreationAfterCheckOut=$.accountCreation?"true":"false",$=e(["accountCreationAfterCheckOut","newsletterSubscription"],$),C("registerFormObj")):-1!==$.page.indexOf("success")?($.page=$.page+"/accountcreationconfirmedafterguestcheckout",$=e(["page"],$)):($.accountCreationAfterCheckOut=$.accountCreation?"true":"false",$=e(["accountCreationAfterCheckOut","newsletterSubscription"],$))}return $&&$.summaryPaymentMethod&&e(["summaryPaymentMethod","page"],$),$&&$.page&&-1!==$.page.indexOf("checkout-login")&&"logInWithSocial"!==M&&($.page=b.gdt.Utils.checkCookie("RCHMFrontEndCookie")?$.page+"/checkout/selection/loggedin":$.page+"/checkout/selection/guest",$=e(["page"],$)),$&&$.pageCategory&&-1!==$.pageCategory.indexOf("Contact page")&&S.attr("checked")&&($.contactConfirmation=S.attr("checked")?"true":"false",$.newsletterSubscription=T,$.countryContact=U,$.topic=V,$.selectedShop=k(c(".country_"+W)),$=e(["contactConfirmation","newsletterSubscription","countryContact","topic","selectedShop"],$)),M&&"boutiqueSearch"!==M&&"boutiqueResultClicked"!==M&&"confirmEngraving"!==M&&"addToBagProductPage"!==M&&!L&&"signUp"!==M&&"createAnAccountError"!==M&&$&&$.page&&-1!==$.page.indexOf("checkout-login")&&(b.gdt.Utils.checkCookie("RCHMFrontEndCookie").length>0?($.userId=g(b.gdt.Utils.checkCookie("RCHMFrontEndCookie")),$.visitorStatus=b.gdt.Utils.checkCookie("RCHMFrontEndCookie")?"loggedin":"guest",$.pageCategory&&$.pageCategory.length>0&&($.pageCategory=$.pageCategory)):$&&"loggedIn"!==M&&($.visitorStatus=b.gdt.Utils.checkCookie("RCHMFrontEndCookie")?"loggedin":"guest",$.pageCategory&&$.pageCategory.length>0&&($.pageCategory=$.pageCategory)),M&&"CollectionClicked"===M&&($=e(["event","productCategory","productCollection"],$))),M&&M.indexOf("subCategoryOf")>=0&&($=e(["event","label"],$)),$&&"loggedin"===$.visitorStatus&&($.userId=g(b.gdt.Utils.checkCookie("RCHMFrontEndCookie"))),M&&"itemDisplay"===M&&($=e(["event","Product_subsection","Product_type","view"],$)),M&&"accessoriesLookup"===M&&($=e(["event","itemlookup","item"],$)),M&&"productPageNightView"===M&&($=e(["event","Product_page"],$)),M&&"productPagePrint"===M&&($=e(["event","Product_page"],$)),M&&"productPageSectionClicked"===M&&($=e(["event","Product_page","Section"],$)),M&&"productPageSectionClicked"===M&&($=e(["event","Product_page","Section"],$)),(M&&"searchEboutiqueBoxTicked"===M||"eboutiqueBoxTicked"===M)&&($=e(["event","box_name"],$)),(M&&"productPageViewAll"===M||"productPagePurchase"===M||"productPageAddToWishlist"===M||"ppComparatorFeatures"===M||"viewComparator"===M)&&($=e(["event","Product_page"],$)),M&&"productOverlay"===M&&($=e(["event","Product_page","overlayAction"],$)),M&&"comparatorPageAction"===M&&(!$.comparatorPageFeatures&&$.socialAction&&($.comparatorPageFeatures=$.socialAction),$=e(["event","comparatorPageFeatures"],$)),M&&"comparatorPageCombinations"===M&&($=e(["event","productCategory","comparisonProduct1","comparisonProduct2","comparisonProduct3"],$)),M&&"saveAsPDFFromWishlist"===M&&($=e(["event","productSKU"],$)),M&&"removeItemShoppingbag"===M&&($=e(["event","productSKU"],$)),M&&"removeFromWishlist"===M&&($=e(["event","productSKU"],$)),(M&&-1!==M.indexOf("outiqueReset")||"createAccountHeader"===M||"discoverMoreHome"===M||"historyTimeline"===M||"dateChoose"===M||"signinReset"===M)&&($=e(["event"],$)),M&&"platformClickFooter"===M&&($=e(["event","applatform"],$)),M&&"social"===M&&($=e(["event","socialNetwork","socialAction","socialTarget"],$)),M&&"worldLinkFooter"===M&&($=e(["event","website"],$)),M&&"download"===M&&($=e(["event","download_type"],$)),M&&"boutiqueSectionClicked"===M&&($=e(["event","boutique","section"],$)),M&&"boutiqueEmail"===M&&($=e(["event","boutique"],$)),M&&"accessoriesDropdown"===M&&($=e(["event","dropdownchoice","item"],$)),M&&"specialEditionClicked"===M&&($=e(["event","boutique"],$)),M&&"chooseBoutique"===M&&($=e(["event","boutiqueId","boutiqueCity","boutiqueName"],$)),M&&"wishlistaction"===M&&($=e(["event","wishlistFeatures"],$)),$}}function m(a){("loggedIn"!==a.event||b.gdt.Utils.checkCookie("RCHMFrontEndCookie"))&&(da.push(a),b.gdt.Utils.Console.log(a))}function n(a){var b={"tracking-event":"virtualPageview","tracking-page":document.location.pathname+"/paypal"};a=c(a.target),a.data(b),o(a)}function o(a){$=l(a),$&&$.event&&"findRefills"===$.event||"productCare"===$.event||"montblancAppsFooter"===$.event||"contactFooter"===$.event||"corporateGiftShopFooter"===$.event||"customServicesFooter"===$.event||"termsAndLegalFooter"===$.event||"findMontblancHeader"===$.event||"productClickedOnCollectionOrCataloguePage"===$.event||"signUp"===$.event?u($):m($)}function p(a,c){var d=a?a.currentTarget:a?a.target:b.gdt.Tracking.trackingObject;c&&(d=c),0!==d.length&&o(d)}function q(a){var b={"tracking-productcollection":c(a).find("input[name=productCollection]").val()||"","tracking-productcategory":c(a).find("input[name=productCategory]").val()||"","tracking-productsku":c(a).find("input[name=productSKU]").val()||"","tracking-event":c(a).find("input[name=event]").val()||"","tracking-shoppingbagvalue":c(a).find("input[name=shoppingbagvalue]").val()||"","tracking-productavailability":c(a).find("input[name=productAvailability]").val()||"false"};return b}function r(a){var b=q(a.target);a=c(a),a.data(b),o(a)}function s(a){$.event="nibSelected",$.nibSelected=c(a.target).find("option").filter(function(){return c(this).prop("selected")===!0})[0].innerHTML,$=l($),m($)}function t(a){$.strapSelected=c(a.target).find("option").filter(function(){return c(this).prop("selected")===!0})[0].innerHTML,$.event=c(a.target).find("option:selected").data("tracking-event"),$.dropdownchoice=c(a.target).find("option:selected").data("tracking-dropdownchoice"),$.item=c(a.target).find("option:selected").data("tracking-item"),$=l($),m($)}function u(a,d){d=d||"trackingObject";var e={path:"/",domain:b.gdt.domainName};c.cookie(d,JSON.stringify(a),e)}function v(){return R=b.gdt.Utils.checkCookie("trackingObject").length>0}function w(a){var c=a?a.currentTarget:a?a.target:b.gdt.Tracking.trackingObject;$=l(c),$&&$.event&&-1!==$.event.indexOf("Header")||-1===$.event.indexOf("wishlistFromHeader")||-1===$.event.indexOf("discoverMoreHome")||-1===$.event.indexOf("worldLinkFooter")?m($):(delete $.pageCategory,u($))}function x(a){var b={"tracking-page":document.location.pathname+"/confirmengraving","tracking-event":"virtualPagePreview"};a=c(a.target),a.data(b),o(a)}function y(a){var b={"tracking-page":document.location.pathname+"/find-your-panerai","tracking-event":"virtualPageview"};a=c(a.target),a.data(b),o(a)}function z(a){var b={"tracking-event":"loggedIn"};a=c(a.target),a.data(b),$=l(a),u($)}function A(){var a={};$.page&&-1!==$.page.indexOf("shopping/guest/order-confirmation/confirmation/success")?a={signinWithNewsletter:c("input[name=paneraiupdates]").prop("checked")?"true":"false",accountCreationAfterCheckOut:"true"}:c("input[name=paneraiupdates]").prop("checked")===!0&&(a={event:"signinWithNewsletter"}),u(a,"registerFormObj")}function B(a){var b={"tracking-page":document.location.pathname+"/contact-concierge-success","tracking-event":"virtualPageview"};a=c(a.target),a.data(b),o(a)}function C(a){var d={path:"/",domain:b.gdt.domainName,expires:-1};c.cookie(a,"",d)}function D(){var a=b.gdt.Utils.checkCookie("trackingObject");m(JSON.parse(decodeURIComponent(a))),C("trackingObject")}function E(a){$.event="boutiqueSearch",$.citySelected=c(a.target).find("option").filter(function(){return c(this).prop("selected")===!0})[0],$.citySelected=c($.citySelected).data("tracking-label"),$=l($),m($)}function F(a){$.event=c(a.target).parents("button").data("tracking-event")||c(a.target).parents("a").data("tracking-event")||c(a.target).data("tracking-event"),$.productSKU=c(a.target).parents("button").data("tracking-productsku")||c(a.target).data("tracking-productsku"),$.productName=c(a.target).parents("button").data("tracking-productname")||c(a.target).data("tracking-productname"),$.Product_page=c(a.target).parents("button").data("tracking-page")||c(a.target).data("tracking-page")||c(a.target).parents("a").data("tracking-page"),$.Section=c(a.target).data("tracking-section"),$.box_name=c(a.target).data("tracking-boxname"),$.comparatorPageFeatures=c(a.target).data("tracking-comparatorfeature")||c(a.target).data("tracking-comparatorfeature")||c(a.target).parents("a").data("tracking-comparatorfeature"),$.wishlistFeatures=c(a.target).parents("button").data("tracking-wishlistfeatures")||c(a.target).data("tracking-wishlistfeatures")||c(a.target).parents("a").data("tracking-wishlistfeatures"),$.overlayAction=c(a.target).parents("button").data("tracking-action")||c(a.target).parents("a").data("tracking-action")||c(a.target).data("tracking-action"),$=l($),m($),"viewComparator"===$.event?G():"comparatorPageAction"===$.event&&"navigate"===$.comparatorPageFeatures&&u($)}function G(){var a={"/from":"ProductPage"};u(a)}function H(a,b){$.event=b.trackevent,$.productCategory=b.productCategory,$.comparisonProduct1=b.comparisonProduct1,$.comparisonProduct2=b.comparisonProduct2,$.comparisonProduct3=b.comparisonProduct3,$=l($),m($)}function I(a){$.event=c(a.target).parents("button").data("tracking-event")||c(a.target).data("tracking-event"),$.Product_page=c(a.target).parents("button").data("tracking-productpage")||c(a.target).data("tracking-productpage"),$=l($),m($)}function J(a){var b=c(a.target);$.event="boutiqueResultClicked",$.boutiqueName=b.data("tracking-value"),$.citySelected=b.data("tracking-key"),$=l($),m($)}function K(a){if(a){var b=Math.round(a.currentTime()),c=Math.round(a.duration()),d="<25%",e=Math.round(b/c*100);return e>=25&&(d="25%"),e>=50&&(d="50%"),e>=75&&(d="75%"),100===e&&(d="100%"),d}}var L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z="undefined"==typeof b.ontouchstart?"click":"touchend",$=b.gdt.trackingObject||{},_=[],aa=c(b).height(),ba=c("body"),ca=b.gdt.Utils.noWCM,da=b.dataLayer||[],ea=b.gdt.Utils.PubSub.UI_EVENTS,fa=function(a){return a=a||0},ga=function(a){a=a||"",b.gdt.Tracking.trackingObject&&"Shopping Bag"!==b.gdt.Tracking.trackingObject.pageCategory&&a.length>0?(b.gdt.Tracking.trackingObject.errorType=a,l(b.gdt.Tracking.trackingObject),m($)):b.gdt.Tracking.trackingObject.errorType=""},ha=function(a,b){var d={event:"videoInteraction",videoStatus:"Played "+K(a),videoInteractions:b+" Video"};-1!==d.videoStatus.indexOf("100%")&&(d.videoInteractions="Ended Video"),c("#"+a.id_).parent().data("tracking-nameofthevideo")&&(d.nameOfTheVideo=c("#"+a.id_).parent().data("tracking-nameofthevideo")),m(d)},ia=function(a,b){var d,e=c(this);e.hasClass("cleftarrow")?d="left":e.hasClass("crightarrow")&&(d="right");var b={event:"historyArrow",direction:d};m(b)};return ba.on("filters:filter:added",function(a,b){b.event="filterProduct",m(b)}),ba.on("filters:sort",function(a,b){b.event="sortProduct",m(b)}),ba.on("print",function(){-1!==document.location.pathname.indexOf("collection")&&m({event:"printProduct"})}),ba.on("boutique:results",function(a,b){b.event="boutiqueSearch",m(b)}),ba.on("boutique:result:clicked",function(a,b){b.event="boutiqueResultClicked",m(b)}),ba.on("boutique:pin:clicked",function(a,b){var b={event:"pinsClicked"};m(b)}),ba.on("change","select[name=product-path]",s),ba.on(Z,"a[data-trackable=true]",p),ba.on(Z,"li[data-trackable=true]",p),c("a[data-trackable-cache=true]").on(Z,w),ba.on("submit",".contactform[data-trackable-cache=true] form",w),ba.on("submit","form[name=login-form]",z),ba.on("submit","form[name=registration]",A),ba.on("submit","form[name=contact-concierge-form]",B),ba.on("submit","form[name=checkout-payment]",n),ba.on("submit","form[data-trackable=true]",r),ba.on("submit","form[data-trackable-cache=true]",w),ba.on("basketUpdated",p),ba.on("wishlistUpdated",p),ba.on("engravingLightboxClose",x),c(".findPan").on(Z,y),ba.on("collectionsViewFilter",p),c(".cta-nightview").on(Z,F),c(".cta-print").on(Z,F),ba.on(Z,".newWishList",F),c("#js-product-details li").find("a").on(Z,F),c(".eboutique-filter").find("input[type=checkbox]").on(Z,F),ba.on(Z,".cta-purchase",F),c(".view-all").on(Z,I),ba.on(Z,"button[data-trackable=true]",p),c(".product-detail .cta-gallery").on(Z,p),c(".accMoreFilters").find("input[type=checkbox]").on(Z,F),c("#accFilters").find("input[type=radio]").on(Z,p),c("#newShippingOptions").find(".accordion-tabs-nav li").on(Z,p),ba.on("strapsBraceSelector",p),ba.on("specialEditionClick",p),c(".comparator-btn").on(Z,F),c(".view-comparator-btn").on(Z,F),ba.on(Z,".product-list-item-compare-btn",F),ba.on(Z,".view-comparison",function(a){F(a)}),ba.on(Z,".removeProduct",F),ba.on(Z,".edit-compare-list",F),c.pubsub("subscribe",ea.tabClicked,H),c(".saveIcon, .socialShare, .printWishlistSlide").on(Z,F),ba.on(Z,".image-wrapper",F),setTimeout(function(){c("#js-timeline-content-carousel > a").on(Z,ia)},1e3),ba.on("change",".news-filter select",p),ba.on("change",".accFilters select",t),-1!==document.location.pathname.indexOf("zh-cn/boutique")&&(ba.on("change","select.topic-picker",E),ba.find(".montblanc-accordion").find("dt").on(Z,J)),ca&&(v()?(D(),p()):p()),{trackingValidation:ga,homepageTrackingSlideNumber:fa,videoTracking:ha}};b.gdt.Tracking.PANtracking=new d,b.gdt.Tracking.trackingObject=b.trackingObject||{}}(document,window,window.jQuery||window.Zepto),function(a,b,c){c.fn.bmapWithMarker=function(){var a=b.BMap;return this.each(function(b,d){function e(){var b=new a.Map(g),c=new a.Point(f.data("lng"),f.data("lat"));a.Convertor.translate(c,2,function(c){b.enableScrollWheelZoom(),b.centerAndZoom(c,15),b.addControl(new a.NavigationControl),b.addControl(new a.ScaleControl),b.addControl(new a.OverviewMapControl),b.addControl(new a.MapTypeControl);var d=c.lat+","+c.lng,e=i.replace("latlng=&","latlng="+d+"&");h.attr("href",e);var f=new a.Marker(c);b.addOverlay(f)})}var f=c(d),g=f.prop("id"),h=f.siblings(".boutique-info").find(".china-maplinks a:first"),i=h.attr("href");f.hasClass("js-dealer-map")&&(h=c(this).siblings(".dealer-info").find(".multiMaps .china-maplinks a:first"),i=h.attr("href")),e()})}}(document,window,window.jQuery||window.Zepto),function(a){a.fn.columnize=function(b){var c={width:400,columns:!1,buildOnce:!1,overflow:!1,doneFunc:function(){},target:!1,ignoreImageLoading:!0,columnFloat:"left",lastNeverTallest:!1,accuracy:!1,manualBreaks:!1,cssClassPrefix:""};return b=a.extend(c,b),"string"==typeof b.width&&(b.width=parseInt(b.width,10),isNaN(b.width)&&(b.width=c.width)),this.each(function(){function d(a,b){var c=b?".":"";return o.length?c+o+"-"+a:c+a}function e(c,e,f,g){for(;(n||f.height()<g)&&e[0].childNodes.length;){var h=e[0].childNodes[0];if(a(h).find(d("columnbreak",!0)).length)return;if(a(h).hasClass(d("columnbreak")))return;c.append(h)}if(0!==c[0].childNodes.length){var i=c[0].childNodes,j=i[i.length-1];c[0].removeChild(j);var k=a(j);if(3==k[0].nodeType){var l=k[0].nodeValue,m=b.width/18;b.accuracy&&(m=b.accuracy);for(var o,p=null;f.height()<g&&l.length;){var q=l.indexOf(" ",m);o=-1!=q?l.substring(0,l.indexOf(" ",m)):l,p=document.createTextNode(o),c.append(p),l=l.length>m&&-1!=q?l.substring(q):""}if(f.height()>=g&&null!==p&&(c[0].removeChild(p),l=p.nodeValue+l),!l.length)return!1;k[0].nodeValue=l}return e.contents().length?e.prepend(k):e.append(k),3==k[0].nodeType}}function f(a,b,c,g){if(!a.contents(":last").find(d("columnbreak",!0)).length&&!a.contents(":last").hasClass(d("columnbreak"))&&b.contents().length){var h=b.contents(":first");if(1!=h.get(0).nodeType)return;var i=h.clone(!0);h.hasClass(d("columnbreak"))?(a.append(i),h.remove()):n?(a.append(i),h.remove()):1!=i.get(0).nodeType||i.hasClass(d("dontend"))||(a.append(i),i.is("img")&&c.height()<g+20?h.remove():!h.hasClass(d("dontsplit"))&&c.height()<g+20?h.remove():i.is("img")||h.hasClass(d("dontsplit"))?i.remove():(i.empty(),e(i,h,c,g)?h.addClass(d("split")):(h.addClass(d("split")),h.children().length&&f(i,h,c,g)),0===i.get(0).childNodes.length&&i.remove()))}}function g(){if(!j.data("columnized")||1!=j.children().length){if(j.data("columnized",!0),j.data("columnizing",!0),j.empty(),j.append(a("<div class='"+d("first")+" "+d("last")+" "+d("column")+" ' style='width:100%; float: "+b.columnFloat+";'></div>")),$col=j.children().eq(j.children().length-1),$destroyable=l.clone(!0),b.overflow){for(targetHeight=b.overflow.height,e($col,$destroyable,$col,targetHeight),$destroyable.contents().find(":first-child").hasClass(d("dontend"))||f($col,$destroyable,$col,targetHeight);$col.contents(":last").length&&h($col.contents(":last").get(0));){var c=$col.contents(":last");c.remove(),$destroyable.prepend(c)}for(var g="",i=document.createElement("DIV");$destroyable[0].childNodes.length>0;){var k=$destroyable[0].childNodes[0];if(k.attributes)for(var m=0;m<k.attributes.length;m++)0===k.attributes[m].nodeName.indexOf("jQuery")&&k.removeAttribute(k.attributes[m].nodeName);i.innerHTML="",i.appendChild($destroyable[0].childNodes[0]),g+=i.innerHTML}var n=a(b.overflow.id)[0];n.innerHTML=g}else $col.append($destroyable);j.data("columnizing",!1),b.overflow&&b.overflow.doneFunc&&b.overflow.doneFunc()}}function h(b){return 3==b.nodeType?!(!/^\s+$/.test(b.nodeValue)||!b.previousSibling)&&h(b.previousSibling):1==b.nodeType&&(!!a(b).hasClass(d("dontend"))||0!==b.childNodes.length&&h(b.childNodes[b.childNodes.length-1]))}function i(){if(p=0,m!=j.width()){m=j.width();var c=Math.round(j.width()/b.width),i=b.width,o=b.height;if(b.columns&&(c=b.columns),n&&(c=l.find(d("columnbreak",!0)).length+1,i=!1),1>=c)return g();if(!j.data("columnizing")){j.data("columnized",!0),j.data("columnizing",!0),j.empty(),j.append(a("<div style='width:"+Math.floor(100/c)+"%; float: "+b.columnFloat+";'></div>")),w=j.children(":last"),w.append(l.clone()),k=w.height(),j.empty();var q=k/c,r=3,s=!1;b.overflow?(r=1,q=b.overflow.height):o&&i&&(r=1,q=o,s=!0);for(var t=0;r>t&&20>t;t++){j.empty();var u,v,w,x;try{u=l.clone(!0)}catch(a){u=l.clone()}u.css("visibility","hidden");for(var y=0;c>y;y++)v=0===y?d("first"):"",v+=" "+d("column"),v=y==c-1?d("last")+" "+v:v,j.append(a("<div class='"+v+"' style='width:"+Math.floor(100/c)+"%; float: "+b.columnFloat+";'></div>"));for(y=0;y<c-(b.overflow?0:1)||s&&u.contents().length;){for(j.children().length<=y&&j.append(a("<div class='"+v+"' style='width:"+Math.floor(100/c)+"%; float: "+b.columnFloat+";'></div>")),w=j.children().eq(y),s&&w.width(i+"px"),e(w,u,w,q),f(w,u,w,q);w.contents(":last").length&&h(w.contents(":last").get(0));)x=w.contents(":last"),x.remove(),u.prepend(x);y++,0===w.contents().length&&u.contents().length?w.append(u.contents(":first")):y!=c-(b.overflow?0:1)||b.overflow||u.find(d("columnbreak",!0)).length&&c++}if(b.overflow&&!s){var z=!1,A=document.all&&-1!=navigator.appVersion.indexOf("MSIE 7.");if(z||A){for(var B="",C=document.createElement("DIV");u[0].childNodes.length>0;){var D=u[0].childNodes[0];for(y=0;y<D.attributes.length;y++)0===D.attributes[y].nodeName.indexOf("jQuery")&&D.removeAttribute(D.attributes[y].nodeName);C.innerHTML="",C.appendChild(u[0].childNodes[0]),B+=C.innerHTML}var E=a(b.overflow.id)[0];E.innerHTML=B}else a(b.overflow.id).empty().append(u.contents().clone(!0))}else if(s)j.children().each(function(a){w=j.children().eq(a),w.width(i+"px"),0===a?w.addClass(d("first")):a==j.children().length-1?w.addClass(d("last")):(w.removeClass(d("first")),w.removeClass(d("last")))}),j.width(j.children().length*i+"px");else{w=j.children().eq(j.children().length-1),u.contents().each(function(){w.append(a(this))});var F=(w.height(),0),G=1e7,H=0,I=!1,J=0;j.children().each(function(a){return function(b){var c=a.children().eq(b),e=c.children(":last").find(d("columnbreak",!0)).length;if(!e){var f=c.height();I=!1,F+=f,f>H&&(H=f,I=!0),G>f&&(G=f),J++}}}(j));var K=F/J;0===F?t=r:b.lastNeverTallest&&I?(p+=30,q+=30,t==r-1&&r++):H-G>30?q=K+30:Math.abs(K-q)>20?q=K:t=r}j.append(a("<br style='clear:both;'>"))}j.find(d("column",!0)).find(":first"+d("removeiffirst",!0)).remove(),j.find(d("column",!0)).find(":last"+d("removeiflast",!0)).remove(),j.data("columnizing",!1),b.overflow&&b.overflow.doneFunc(),b.doneFunc()}}}var j=a(b.target?b.target:this),k=a(this).height(),l=a("<div></div>"),m=0,n=b.manualBreaks,o=c.cssClassPrefix;"string"==typeof b.cssClassPrefix&&(o=b.cssClassPrefix);var p=0;if(l.append(a(this).contents().clone(!0)),!b.ignoreImageLoading&&!b.target&&!j.data("imageLoaded")&&(j.data("imageLoaded",!0),a(this).find("img").length>0)){var q=function(a,c){return function(){a.data("firstImageLoaded")||(a.data("firstImageLoaded","true"),a.empty().append(c.children().clone(!0)),a.columnize(b))}}(a(this),l);return a(this).find("img").one("load",q),void a(this).find("img").one("abort",q)}j.empty(),i(),b.buildOnce||a(window).resize(function(){b.buildOnce||(j.data("timeout")&&clearTimeout(j.data("timeout")),j.data("timeout",setTimeout(i,200)))})})}}(jQuery),function(a,b,c){c.fn.creditcard=function(a){var d={AMEX:"amex",MAST:"mast",DISC:"discover",DINE:"dine",JCB:"jcb",VISA:"visa"},e={amex:"AMEX",mastercard:"MAST",diners_club_international:"DINE",diners_club_carte_blanche:"DINE",discover:"DISC",jcb:"JCB",visa:"VISA",visa_electron:"VISA"};return this.each(function(f,g){var h=c(g),i=c(a),j=i.closest("label").find(".cc-icon"),k=j.data("src")||"";h.on("change paste keyup",function(){var a=b.gdt.Validate.ext.CreditCards.getValidity(h.val());h.val(c(this).val().replace(/\s+/g,"")),a&&a.length?i.val(e[a]).trigger("change"):(i.val("").trigger("change"),j.removeClass("show"))}),i.on("change",function(){this.value&&this.value.length&&d[this.value]?j.attr("src",k.replace("{{cardtype}}",d[this.value])).addClass("show"):j.removeClass("show")})})}}(document,window,window.jQuery||window.Zepto),function(a,b,c){c.fn.lazyloadContent=function(a){var d,e;return d={contentSelector:".content",loadingHeight:"50px"},e=c.extend(d,a),this.each(function(a,d){var f=c(d),g=f.find(e.contentSelector),h=d.id,i=f.data("href"),j=location.protocol+"//"+location.host+i;f.one("click",function(){g.parent().css("min-height",e.loadingHeight).addClass("loading"),b.gdt.Utils.ajaxCall({type:"GET",url:j,callback:function(a){var d=c(a),f=c("#"+h+" .content",d);f.length?(g.html(f.html()),g.parent().css({height:g.height(),"min-height":0}).removeClass("loading"),e.callback&&e.callback(g)):(b.console.error("no contentFragment"),b.location.href=j)},error:function(a){403===a.status?(b.console.warn("Authentication error"),b.location.href=b.gdt.loginURL+"?resource="+window.location.pathname.split(".html")[0]):(b.console.error("XHR Error"),b.location.href=j)}})})})}}(document,window,window.jQuery||window.Zepto),function(a,b,c){c.fn.mapWithMarker=function(){return this.each(function(a,d){function e(){f=new google.maps.Map(h.get(0),j),f.setOptions({styles:k}),g=new google.maps.Marker({position:i,icon:l,map:f})}var f,g,h=c(d),i=new google.maps.LatLng(h.data("lat"),h.data("lng")),j={zoom:14,mapTypeControl:!0,center:i,panControl:!1,zoomControl:!0,zoomControlOptions:{style:google.maps.ZoomControlStyle.SMALL,position:google.maps.ControlPosition.LEFT_TOP},minZoom:3,scaleControl:!1,streetViewControl:!0,mapTypeId:google.maps.MapTypeId.ROADMAP},k=[{stylers:[{saturation:-100}]}],l=b.gdt.Utils.google.mapIcon;e()})}}(document,window,window.jQuery||window.Zepto),function(a,b,c){c.fn.modal=function(){return this.each(function(a,d){function e(){var a=m.height()>c(b).height();return a}function f(a){var b={$el:m,config:a};r.addClass(y.bodyClass).css("margin-right",z+"px"),s.add(t).css("right",z+"px"),k.addClass(y.bgVisible),u.css("z-index",-1),l.scrollTop(0).addClass(y.wrapVisible),e()?setTimeout(function(){l.addClass(y.wrapScroll)},1e3):m.addClass(y.vCentre),c.pubsub("publish",p.modal.opening),x.eventGroup&&c.pubsub("publish",p.modal[x.eventGroup].opening,b),c("#checkout").length&&l.find("form textarea").focus()}function g(){r.removeClass(y.bodyClass).css("margin-right",0),s.add(t).css("right",0),k.removeClass(y.bgVisible),u.removeAttr("style"),l.removeClass(y.wrapVisible+" "+y.wrapScroll),m.removeClass(y.vCentre),r.find(".modal-wrap").removeClass(y.wrapVisible),c.pubsub("publish",p.modal.closing),x.eventGroup&&c.pubsub("publish",p.modal[x.eventGroup].closing),l.has("#languageSelectorOverlay").length&&c.pubsub("publish",p.languageSelectorPopupClose),l.has("#js-subscription-msg-wrapper")&&c.pubsub("publish",p.catalogueMsgClosed)}function h(){switch(x.triggerMode){case"list":q.on(o,"li",function(a){var b={index:c(this).index()};f(b),a.preventDefault()});break;case"error":c.pubsub("subscribe",p[x.eventGroup],function(){f()});break;default:q.on(o,function(a){f(),a.preventDefault()})}l.on("click",function(a){c(a.target).parents("#"+x.contentId).length||g()}),n.on(o,function(){g()}),c(b).smartresize(function(){!e()&&r.hasClass(y.bodyClass)?(m.addClass(y.vCentre),l.removeClass(y.wrapScroll)):(m.removeClass(y.vCentre),l.addClass(y.wrapScroll))})}function i(){k=c("#"+x.bgElementId),m=c("#"+x.contentId),m.parent().hasClass(y.wrap)||m.wrap('<div class="'+y.wrap+'">'),l=m.closest("."+y.wrap),n=m.find("."+y.close)}function j(){x=c.extend(v,w),i(),"desktopOnly"===x.displayMode?b.matchMedia("only screen and (max-width: 699px)").matches||h():"all"===x.displayMode&&h(),c.pubsub("subscribe",p.modal.close,g),c.pubsub("subscribe",p.modal.open,f)}var k,l,m,n,o="click",p=b.gdt.Utils.PubSub.UI_EVENTS,q=c(d),r=c("body"),s=c("#gdt .navp header"),t=c("#gdt .navp footer"),u=c("#gdt .navp"),v={bgElementId:"js-modal-bg",displayMode:"all",triggerMode:"button"},w=c.parseJSON(q.attr("data-config")),x={},y={close:"modal-close",wrap:"modal-wrap",bgVisible:"modal-bg-visible",wrapVisible:"modal-wrap-visible",wrapScroll:"modal-wrap-scroll",vCentre:"modal-vcentre",bodyClass:"modal-opened"},z=b.gdt.Utils.scrollWidth,A=c(".cq-wcm-edit");A.length||j()})}}(document,window,window.jQuery||window.Zepto),function(a,b,c){c.fn.paginatedList=function(a,d){var e,f;e={scrollTopOffset:20},f=c.extend(e,a);var g="undefined"==typeof window.ontouchstart?"click":"touchend",h=b.gdt.Utils.PubSub.UI_EVENTS;return this.each(function(a,e){function i(){c("html,body").scrollTop(r.position().top-f.scrollTopOffset)}function j(a){t.each(function(){var b=c(this);b.find("li").removeClass("active"),b.find("li").eq(a-1).addClass("active"),b.find("li").removeClass("visible")}).find("button").prop("disabled",!1),a===q&&t.find('[rel="next"]').prop("disabled",!0),1===a&&t.find('[rel="prev"]').prop("disabled",!0),t.each(1===a||2===a||3===a?function(){c(this).find("li").slice(0,5).addClass("visible")}:a===q||a===q-1||a===q-2?function(){c(this).find("li").slice(q-5,q).addClass("visible")}:function(){c(this).find("li").eq(a-1).prev().addClass("visible").prev().addClass("visible"),c(this).find("li").eq(a-1).next().addClass("visible").next().addClass("visible")})}function k(a){var b=r.find('[data-page="'+a+'"]');r.removeClass("paginated-list-visible").find("li").hide(),b.show(),j(a),setTimeout(function(){l()},100),c.pubsub("publish",h.paginatedList.navigate,b),f.eventGroup&&c.pubsub("publish",h.paginatedList[f.eventGroup].navigate,b)}function l(){r.addClass("paginated-list-visible")}function m(){var a=0,d=c("<ol></ol>"),e=t.find("ol");s.each(function(b){b%u===0&&(a++,d.append(c('<li data-page="'+a+'"><a href="#">'+a+"</a></li>"))),c(this).attr("data-page",a)}),t.find("ol").empty().append(d.html()),q=a,b.matchMedia("only screen and (min-width: 668px)").matches?k(1):l(),e.find("li").size()||t.hide()}function n(){t.on(g,"a",function(a){k(parseInt(c(this).closest("li").attr("data-page"),10)),i(),a.preventDefault()}).on(g,"button:enabled",function(){var a=t.eq(0).find(".active").index()+1,b=a;switch(c(this).attr("rel")){case"next":b++;break;case"prev":b--}k(b),i()}),c.pubsub("subscribe",h.paginatedList.reinitialise,o)}function o(a,b){b.$listEl.attr("id")===r.attr("id")&&(r.html(b.$newList.html()),s=r.find("li"),m())}function p(){m(),n()}var q,r=c(e),s=r.find("li"),t=r.parent().find(".pagination"),u=parseInt(r.attr("data-pageitems"),10);return r.attr("data-ordernumber",d),p(),{reinitialise:o,init:p}})}}(document,window,window.jQuery||window.Zepto),function(a,b,c){function d(a,d){function e(){g&&(j.length?k.attr("class",j.pop()):(k.attr("class",l),g=!1,c.pubsub("publish",i.shade.closing)))}function f(a,b){g?(j.push(k.attr("class")),k.attr("class",l).addClass("open"+(b.clsname?" "+b.clsname:""))):(c.pubsub("publish",i.shade.opening),k.attr("class",l).addClass("open"),b.clsname&&setTimeout(function(){k.addClass(b.clsname)},10)),g=!0,k.off(),b.clicktoclose&&k.on(h,function(a){c(a.target).is(k)&&(e(),"function"==typeof b.clicktoclose&&b.clicktoclose(a))})}var g,h="undefined"==typeof b.ontouchstart?"click":"touchend",i=b.gdt.Utils.PubSub.UI_EVENTS,j=[],k=c(d),l=k.attr("class");c.pubsub("subscribe",i.shade.open,f),c.pubsub("subscribe",i.shade.close,e),k.shade={openShade:f}}c.fn.shade=function(a,b){return a?void("open"===a&&this.shade&&this.shade.openShade(b)):this.each(d)},c("#js-modal-bg").shade()}(document,window,window.jQuery||window.Zepto),function(a,b,c){c.fn.shippingInfo=function(){return this.each(function(a,d){function e(a){i.empty().parent().addClass("loading"),h.find(".error").prop("hidden",!0).attr("hidden","hidden"),b.gdt.Utils.ajaxCall({type:"GET",url:a,callback:function(b,c,d){i.parent().removeClass("loading"),d.responseURL&&d.responseURL!==a?d.responseURL&&(l.val(""),h.find('.error[data-type="'+d.responseURL.split("j_reason=")[1]+'"]').prop("hidden",!1).removeAttr("hidden")):b.length?i.html(b):(l.val(""),h.find('.error[data-type="org.apache.sling.api.SlingException"]').prop("hidden",!1).removeAttr("hidden")),h.css("background","none")}})}function f(){l.on("change",function(){var a=n.prop("checked");a&&e(k+this.value)}),m.on("change",function(){e(k+this.value)})}function g(){var a=m[0].value;a.length?e(k+a):(a=l[0].value,a.length&&e(k+a)),f()}var h=c(d),i=h.find(".shipping-provider-content"),j=h.data("trigger"),k=location.protocol+"//"+location.host+h.data("href"),l=c('[name="'+j+'"]'),m=c('[name="shipping.state"]'),n=c("[name=sameBillingAddress]");g()})}}(document,window,window.jQuery||window.Zepto),function(a,b,c){b.gdt=b.gdt||{};var d="undefined"==typeof b.ontouchstart?"click":"touchend",e=b.gdt.Utils.PubSub.UI_EVENTS,f=c("#my-account .component-myactsubscription a.js-edit-btn"),g=c("#my-account .component-myactsubscription a.edit");c.fn.subscriptions=function(){return this.each(function(a,h){function i(){"YES"===c("input[name=newsletter]:checked","#update-subscriptions").val()?(s.removeAttr("hidden").show(),r.removeAttr("disabled")):(s.attr("hidden","hidden").hide(),r.attr("disabled","disabled"))}function j(a){c("#js-subscription-msg-wrapper .error-msg").append("<div>"+b.gdt.Utils.Console.log(a)+"<div>").show();
}function k(){c("#js-show-subscription-msg").modal(),c("#js-show-subscription-msg").trigger("click"),c("#js-subscription-msg-wrapper .success-msg").show(),c("#js-subscription-submit-btn").removeClass("loading")}var l=c(h),m=c(".subEdit",l),n=c(".summary",l),o=c("form",l),p=c(".gdt-form",l),q=c("input[name=newsletter]"),r=c("#newsletter-language"),s=r.closest("label");m.on(d,function(a){a.preventDefault(),n.attr("hidden","hidden").hide(),p.removeAttr("hidden").show(),m.hide(),c.pubsub("publish",b.gdt.Utils.PubSub.UI_EVENTS.accordionContentUpdated)}),q.on("change",function(){"YES"===this.value?(s.removeAttr("hidden").show(),r.removeAttr("disabled")):(s.attr("hidden","hidden").hide(),r.attr("disabled","disabled")),c.pubsub("publish",b.gdt.Utils.PubSub.UI_EVENTS.accordionContentUpdated)}),i(),c("div.modal-subscription-msg .close-btn").on(d,function(a){c("div.modal-subscription-msg .modal-close").click(),a.preventDefault()}),c.pubsub("subscribe",e.catalogueMsgClosed,function(){n.removeAttr("hidden").show(),p.attr("hidden","hidden").hide(),b.gdt.Utils.Browser.isMobileLayout?f.show():g.show(),c('#update-subscriptions .paneraiupdates input[type="radio"]:checked').each(function(){c("div.summary p:first").find("strong").text(c(this).next("span").text())}),c('#update-subscriptions .newsletter input[type="radio"]:checked').each(function(){c("div.summary p:last").find("strong").text(c(this).next("span").text())})}),c("#js-subscription-submit-btn").on(d,function(a){c("#js-subscription-submit-btn").addClass("loading"),c.ajax({type:o.attr("method"),url:o.attr("action"),data:o.serialize(),success:k,error:j}),a.preventDefault()})})},c(".component-myactsubscription").subscriptions()}(document,window,window.jQuery||window.Zepto),function(a,b,c){c.fn.tabAccordion=function(a){function d(a){a.parents(".accordion-tabs-content-active").each(function(){var a=c(this).children(".accordion-tabs-inner"),b=a.children(".mobile-height-calc").height();a.css("height",b+"px")})}var e,f;return e={trigger:".accordion-tabs-trigger",closeOthers:!1},f=c.extend(e,a),this.each(function(a,e){function g(){k.on(i,"li",function(a){var e=c(this),f=c(e.find("a").attr("href"));a.preventDefault(),k.find(".accordion-tabs-nav-active").removeClass("accordion-tabs-nav-active"),e.addClass("accordion-tabs-nav-active"),l.children(".accordion-tabs-content-active").removeClass("accordion-tabs-content-active"),f.addClass("accordion-tabs-content-active"),d(j),"boutiquePickTab"===e.prop("id")&&c.pubsub("publish",b.gdt.Utils.PubSub.UI_EVENTS.boutiqueTabClicked),"shippingOptionsTab"===e.prop("id")&&c.pubsub("publish",b.gdt.Utils.PubSub.UI_EVENTS.shippingTabClicked)}),l.on("click",f.trigger,function(){c.pubsub("publish",b.gdt.Utils.PubSub.UI_EVENTS.orderTabClicked);var a=c(this),e=a.closest("section"),g=e.children(".accordion-tabs-inner"),h=g.children(".mobile-height-calc").height(),i=a.hasClass("close");f.closeOthers&&(l.children("section").children(f.trigger).removeClass("close"),l.children("section").children(".accordion-tabs-inner").css("height",0)),i?(a.removeClass("close"),e.removeClass("accordion-tabs-content-active"),g.css("height","0px")):(a.addClass("close"),e.addClass("accordion-tabs-content-active"),g.css("height",h+"px")),d(j)}),c.pubsub("subscribe",b.gdt.Utils.PubSub.UI_EVENTS.accordionContentUpdated,function(){d(j),b.gdt.MyOrderHistory.addListeners()})}function h(){g(),l.children(".accordion-tabs-content-active").children(f.trigger+".initial").trigger(i)}var i="undefined"==typeof window.ontouchstart?"click":"touchend",j=c(e),k=j.children(".accordion-tabs-nav"),l=j.children(".accordion-tabs-content");h()})}}(document,window,window.jQuery||window.Zepto),function(a,b,c){c.fn.verticalGallery=function(){var a="undefined"==typeof window.ontouchstart?"click":"touchend",d=b.gdt.Utils.PubSub.UI_EVENTS;return this.each(function(){function e(a){var d,e=c.trim(a.html());e=c.parseHTML(e),d=c(e),a.replaceWith(d),b.picturefill()}function f(){q.each(function(){var a=c(this);a.find('[type="text/x-tmpl"]').length&&e(c(this).find('[type="text/x-tmpl"]'))})}function g(a){o.find(".scroll").addClass("no-transition"),o.akcarousel("move",a),setTimeout(function(){o.find(".scroll").removeClass("no-transition")},1e3)}function h(a){o.akcarousel({delay:5e3,horizontal:!0,scrollNode:!0,autoSwitch:!1,scrollSpeed:1e3,easing:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",navarrows:!0}),g(a)}function i(b){for(var d=b.controlBar,e=d.addChild("button").addClass("pan-volume"),f=0;4>f;f++)e.addChild("button").addClass("volumelevel level"+(f+1)+" active");c(e.el_).on(a,".volumelevel",function(){var a=c(this),d=".volumelevel",e=a.parent().find(d),f=a.index(d)+1/e.size();b.volume(f),e.removeClass("active").filter(":lt("+parseInt(a.index(d)+1,10)+")").addClass("active")}),b.on("play",function(){c(b.el_).parent().addClass("video-playing"),d.show()}),b.on("ended",function(){c(b.el_).parent().removeClass("video-playing"),d.hide()})}function j(){r.each(function(){b.videojs(c(this).get(0),{nativeControlsForTouch:!1}).ready(function(){i(this)})})}function k(){p.on(a,function(a){var b=c(this),d=b.index()-1,e=0===d?"--":"++";o.akcarousel("move",e),a.preventDefault()})}function l(a){o=a.find(".js-vertical-gallery-carousel"),p=o.find(".carousel-hero-nav"),q=o.find("li")}function m(a,c){var d={message:a,$modalContent:c.$el,startIndex:c.config.index},e=d.$modalContent;e.attr("data-initialised")?g(d.startIndex):(l(e),h(d.startIndex),j(),f(),b.picturefill(),k(),e.attr("data-initialised",!0))}function n(){c.pubsub("subscribe",d.modal.verticalGallery.opening,m)}var o,p,q,r=c(".video-js");n()})}}(document,window,window.jQuery||window.Zepto),function(a,b,c){b.gdt=b.gdt||{};var d=function(){function a(a){return a&&a.name&&"radio"!==a.type}function d(a){a&&(c(a).prop("hidden",!1),c(a).removeAttr("hidden"))}function e(a){a&&(c(a).prop("hidden",!0),c(a).attr("hidden","hidden"))}function f(a){if(a){var b=c(a);b.find("span."+B+":not([hidden])").length||b.removeClass(D)}}function g(b,d){if(a(b)){var g=c(b),h=g.closest("label");h.find("span."+B+(d?"."+d:"")).each(function(a,b){e(b)}),h.find("span."+B+":not([hidden])").length||(g.removeClass(C),h.removeClass(C),f(b.form))}}function h(a){if(a){var b=c(a);b.removeClass(D),b.find("span."+B).each(function(a,b){e(b)}),b.find("."+C).removeClass(C)}}function i(b,e){if(a(b)&&e){var f=c(b),h=f.closest("label"),i=h.find("span."+B+"."+e)[0];g(b),f.addClass(C),h.addClass(C),c(b.form).addClass(D),d(i)}}function j(d){return!a(d)||!b.gdt.Utils.Browser.isOldIE||d.value!==c(d).attr("placeholder")}function k(b){if(!a(b))return!0;var c;return c="checkbox"===b.type?b.checked:b.value.length>0}function l(b){return!a(b)||cq5forms_regcheck(b.value,z)}function m(b){return!a(b)||cq5forms_regcheck(b.value,A)}function n(b){if(!a(b))return!0;var d=parseInt(c(b).attr("minlength"),10);return 0===b.value.length||b.value.length>=d}function o(b){if(!a(b))return!0;var d=parseInt(c(b).attr("maxlength"),10);return b.value.length<=d}function p(a,b){return!a||!b||a.value===b.value}function q(b){if(!a(b))return!0;var d=!c(b).attr("required")||j(b)&&k(b);return g(b,"required"),d||i(b,"required"),d}function r(b){if(!a(b)||!b.name)return!0;var c="email"!==b.type&&b.name.indexOf("email")<0&&b.className.indexOf("email")<0||l(b);return g(b,"email"),c||i(b,"email"),c}function s(b){if(!a(b)||!b.name)return!0;var d=!c(b).attr("required")||b.name.indexOf("phone")<0&&b.name.indexOf("mobile")<0||m(b);return g(b,"phone"),d||i(b,"phone"),d}function t(b){if(!a(b))return!0;var d=!c(b).attr("minlength")||n(b);return g(b,"minlength"),d||i(b,"minlength"),d}function u(b){if(!a(b))return!0;var d=!c(b).attr("maxlength")||o(b);return g(b,"maxlength"),d||i(b,"maxlength"),d}function v(b){if(!a(b))return!0;var c,d=!0;return 0===b.name.indexOf("confirm-")&&(c=b.form.elements[b.name.replace("confirm-","")],d=p(b,c)),g(b,"confirm"),d||i(b,"confirm"),d}function w(c){if(!a(c)||!c.value.length)return!0;var d,e=b.gdt.Validate.ext||{},f=!0;for(d in e)f&&e.hasOwnProperty(d)&&c.className.indexOf(e[d].type)>=0&&!e[d].getValidity(c.value)&&(i(c,e[d].type),f=!1);return f}function x(a){var b=!0;return"undefined"===a||c(a).prop("disabled")||c(a).parents("[disabled]").length||(b=q(a),b=!!b&&r(a),b=!!b&&s(a),b=!!b&&t(a),b=!!b&&u(a),b=!!b&&v(a),b=!!b&&w(a)),b}function y(a){var b,c,d=document.getElementById(a)||document.forms(a),e=[],f=!0;for(b=d.elements.length-1;b>=0;b--)d.elements[b].name&&"hidden"!==d.elements[b].type&&"none"!==d.elements[b].style.display&&e.push(d.elements[b]);for(c=e.length-1;c>=0;c--)x(e[c],d)||(f=!1);return f}var z=/^[^@]+([@]{1})[0-9a-zA-Z\._-]+([\.]{1})[0-9a-zA-Z\._-]+$/,A=/^[+]?[0-9\-.()\s]{1,}$/,B="error",C="has-error",D="has-error";return b.gdt.test=b.gdt.test||{},b.gdt.test.validate={getPlaceholderValidity:j,getRequiredValidity:k,getEmailValidity:l,getPhoneNumberValidity:m,getMinLengthValidity:n,getMaxLengthValidity:o,getConfirmValidity:p,checkRequired:q,checkEmail:r,checkPhoneNumber:s,checkMinLength:t,checkMaxLength:u,checkConfirm:v},{field:x,form:y,clear:h}};b.gdt.Validate=new d}(document,window,window.jQuery||window.Zepto),function(a,b,c){function d(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var b="[\\?&]"+a+"=([^&#]*)",c=new RegExp(b),d=c.exec(window.location.href);return null===d?"":d[1]}function e(){c(document).on(n,"#snb-selection .mView",function(){c(this).parents("#snb-selection").toggleClass("active")}),c(".accMoreFilters .fColumn h3").on(n,function(){var a=c(this).parents(".fColumn");a.siblings().removeClass("active"),c(this).parents(".fColumn").toggleClass("active")}),c(".accMoreFilters .mView .closeMe").on(n,function(a){a.preventDefault(),z.removeClass("accMoreFiltersOpen"),o.removeClass("openMobile"),c(".section.navp").show()}),q.on(n,function(a){a.preventDefault(),z.addClass("accMoreFiltersOpen"),o.addClass("openMobile"),c(".section.navp").hide()}),p.on(n,function(a){a.preventDefault();var b=c(this).data("minimise"),d=c(this).text();o.toggleClass("inactive"),c(this).data("minimise",d),p.text(b)}),r.on(n,function(a){a.preventDefault(),c(this).parents("form:first").trigger("reset"),o.find("fieldset").each(function(){var a=c(this);a.find('input[type="checkbox"]').prop("checked",!1),a.find('input[type="checkbox"][id$="-all"]').prop("checked",!0)}),c("#accMoreFilters form button").trigger("click"),r.removeClass("visible")}),o.find("fieldset").each(function(){var a=c(this),b=a.find('input[type="checkbox"]');b.on("change",function(){c(this).is('[id$="-all"]')?(b.filter(':not([id$="-all"]):checked').prop("checked",!1),r.removeClass("visible")):b.filter(':not([id$="-all"]):checked').val()?a.find('input[type="checkbox"][id$="-all"]').prop("checked",!1):(a.find('input[type="checkbox"][id$="-all"]').prop("checked",!0),r.removeClass("visible")),o.find('input[type="checkbox"]').not('input[value="0"]').each(function(){return c(this).prop("checked")?(r.addClass("visible"),!1):void 0})})});var a=window.gdt.snbData,e=d("case"),f=d("case-diameter"),g=d("buckle-type"),h=d("buckle-size"),i=g.replace(/[&\/\\#,+()$~.'":*<>{}]/gi," "),l=b.location.search,m=d("wid"),s=d("bid"),x=d("sid"),A=d("ref"),B=l.indexOf("wid="),C=l.indexOf("ref=");e=e.replace(new RegExp("%7C","g"),"|"),f=f.replace(new RegExp("%7C","g"),"|"),i=i.replace(new RegExp("%7C","g"),"|"),h=h.replace(new RegExp("%7C","g"),"|");var D,E,F,G;if(D=e.substring(e.indexOf("|")+1),e=e.substring(0,e.indexOf("|")),E=i.substring(i.indexOf("|")+1),i=i.substring(0,i.indexOf("|")),F=f.substring(f.indexOf("|")+1),f=f.substring(0,f.indexOf("|")),G=h.substring(h.indexOf("|")+1),h=h.substring(0,h.indexOf("|")),(x||s)&&c("header").find("a.back:first").remove(),B>0&&C>0){var H=c("header").find("a.back:first");if(H.length){var I=H.attr("href"),J=window.location.href.slice(window.location.href.indexOf("?")+1),K=I.replace(".html",".REF-"+A+".html?"+J);H.attr("href",K)}}else if(e.length>0&&f.length>0){var L=c("header").find("a.back:first");if(L.length){var M=L.attr("href"),N=window.location.href.slice(window.location.href.indexOf("?")+1),O=M.replace(".html",".html?"+N);L.attr("href",O)}}c("#mobileAccCheckFilters").find("[name=mobile-acc-filter]").on("click",function(){"online"===c(this).val()&&c("#accMoreFilters").find(".resetBtn").addClass("visible")}),c("#accMoreFilters form button").on(n,function(a){a.preventDefault(),c("#openFiltersM").addClass("clicked"),c("#accMoreFilters").removeClass("openMobile"),z.removeClass("accMoreFiltersOpen"),c(".soldOnlnie").find("a").removeClass("active"),c(".soldOnlnie").find("a:first").addClass("active"),c(".section.navp").show();var d=c(this).parents("form:first"),e="";d.find("input[type=checkbox]").each(function(){c(this).is(":checked")&&(e+=c(this).attr("name")+"="+c(this).val()+"&")});for(var f=e.split("&"),g={},h=f.length;h--;){var i=f[h].split("="),l=i[0].replace("[]",""),m=i[1];g[l]=g[l]||[],g[l].push(m)}var n=g["snb-material"],o=g["snb-finishing"],p=g["snb-color"],q=g["snb-size"];if(void 0!==n)for(var r=0;r<n.length;r++)b.console.log(n[r]);if(void 0!==o)for(var s=0;s<o.length;s++)b.console.log(o[s]);if(void 0!==p)for(var t=0;t<p.length;t++)b.console.log(p[t]);if(void 0!==q)for(var u=0;u<q.length;u++)b.console.log(q[u]);c("#resultsummary").each(function(){var a=c(this),b=a.find(".material"),e=a.find(".finishing"),f=a.find(".color"),g=a.find(".size"),h=[];if(void 0!==n)for(var i=0;i<n.length;i++)h.push(d.find('input[name="snb-material"][value="'+n[i]+'"]').next().text());var j=[];if(void 0!==o)for(var k=0;k<o.length;k++)j.push(d.find('input[name="snb-finishing"][value="'+o[k]+'"]').next().text());var l=[];if(void 0!==p)for(var m=0;m<p.length;m++)l.push(d.find('input[name="snb-color"][value="'+p[m]+'"]').next().text());var r=[];if(void 0!==q)for(var s=0;s<q.length;s++)r.push(d.find('input[name="snb-size"][value="'+q[s]+'"]').next().text());b.text(h),e.text(j),f.text(l),g.text(r)});var v,w=[],x={};x.property="material",x.data=n,void 0!==x.data&&1===x.data.length&&"0"===x.data[0]&&(x.data=[],v=!0),w.push(x);var y,A={};A.property="finishing",A.data=o,void 0!==A.data&&1===A.data.length&&"0"===A.data[0]&&(A.data=[],y=!0),w.push(A);var B,C={};C.property="color",C.data=p,void 0!==C.data&&1===C.data.length&&"0"===C.data[0]&&(C.data=[],B=!0),w.push(C);var D,E={};if(E.property="size",E.data=q,void 0!==E.data&&1===E.data.length&&"0"===E.data[0]&&(E.data=[],D=!0),w.push(E),v&&y||v&&B&&D){c("#js-search-results").empty();var F,G=[],H=0;c.each(b.gdt.snbFilteredResultsData.data,function(a,b){H++,F=j(b),G.push(F)});var I=c("#resultsummary");I.each(function(){var a=c(this),b=a.find(".count");b.text(H)}),c("<div/>",{class:"my-new-list",html:G.join("")}).appendTo("#js-search-results"),k()}else{c("#js-search-results").empty();var J=b.gdt.snbFilteredResultsData.data,K=0,L=[];c.each(w,function(a,b){L=[],void 0!==b.data&&b.data.length>0&&(c.each(J,function(a,c){for(var d=0;d<b.data.length;d++)b.data[d]===c[b.property]&&L.push(c)}),J=L)});var M,N=[];c.each(J,function(a,b){K++,M=j(b),N.push(M),k()});var O=c("#resultsummary");O.each(function(){var a=c(this),b=a.find(".count");b.text(K)}),c("<div/>",{class:"my-new-list",html:N.join("")}).appendTo("#js-search-results"),k()}if(b.gdt.Utils.Browser.isMobileLayout){var P=c("#mobileAccCheckFilters").find("[name=mobile-acc-filter]:checked").val(),Q=c("#mobileAccCheckFilters").find("[name=mobile-acc-filter]:checked").next().text();if("online"===P){var R=c("#js-search-results"),S=R.find("a"),T=S.length,U=R.find(".sFALSE").length,V=c("#resultsummary");V.each(function(){var a=c(this),b=a.find(".count");b.text(T-U)}),c(".soldOnlineAccessories").text(Q),c("#js-search-results").find(".sFALSE").hide()}b.gdt.ProdComparator.overlayPositionHandler()}}),c.getJSON(a,function(a){b.gdt.snbFilteredResultsData.data=[];var d,g=c("#mobileAccCheckFilters").find("[name=mobile-acc-filter]:checked").val(),l=[],m=[],n=0;-1!==w?c.each(a.productsDetail,function(a,c){var e="";"WBR"===c["product-family"]&&b.gdt.Utils.Browser.isMobileLayout&&(e=""),n++,d=j(c),l.push(d),k(),b.gdt.snbFilteredResultsData.data.push(c)}):c.each(a.productsDetail,function(a,g){void 0!==g.collections[e]&&g.collections[e].length>0&&c.each(g.collections[e],function(a,c){var e="";"WBR"===g["product-family"]&&b.gdt.Utils.Browser.isMobileLayout&&(e=""),-1!==v?(""===h&&""===i?c===f.toString()&&"TRUE"===g["sold-online"]&&(n++,d=j(g),l.push(d),b.gdt.snbFilteredResultsData.data.push(g)):""===i?(c===f.toString()&&g["buckle-width"]===h&&(n++,d=j(g),l.push(d),b.gdt.snbFilteredResultsData.data.push(g)),c===f.toString()&&g["buckle-width"]===h&&"TRUE"===g["sold-online"]&&(n++,d=j(g),l.push(d),b.gdt.snbFilteredResultsData.data.push(g))):""===h?c===f.toString()&&g["buckle-type"]===i&&"TRUE"===g["sold-online"]&&(n++,d=j(g),l.push(d),b.gdt.snbFilteredResultsData.data.push(g)):c===f.toString()&&g["buckle-type"]===i&&g["buckle-width"]===h&&"TRUE"===g["sold-online"]&&(n++,d=j(g),l.push(d),b.gdt.snbFilteredResultsData.data.push(g)),""!==i&&c===f.toString()&&g["buckle-type"]!==i&&"TRUE"===g["sold-online"]&&(d=j(g),m.push(d))):0===y.length?(""===h&&""===i?c===f.toString()&&"FALSE"===g["sold-online"]&&(n++,d=j(g),l.push(d),b.gdt.snbFilteredResultsData.data.push(g)):""===i?c===f.toString()&&g["buckle-width"]===h&&"FALSE"===g["sold-online"]&&(n++,d=j(g),l.push(d),b.gdt.snbFilteredResultsData.data.push(g)):""===h?c===f.toString()&&g["buckle-type"]===i&&"FALSE"===g["sold-online"]&&(n++,d=j(g),l.push(d),b.gdt.snbFilteredResultsData.data.push(g)):c===f.toString()&&g["buckle-type"]===i&&g["buckle-width"]===h&&"FALSE"===g["sold-online"]&&(n++,d=j(g),l.push(d),b.gdt.snbFilteredResultsData.data.push(g)),""!==i&&c===f.toString()&&g["buckle-type"]!==i&&"FALSE"===g["sold-online"]&&(d=j(g),m.push(d))):(""===h&&""===i?c===f.toString()&&(d=j(g),l.push(d),n++,b.gdt.snbFilteredResultsData.data.push(g)):""===i?c===f.toString()&&g["buckle-width"]===h&&(b.console.log(g.length),d=j(g),l.push(d),n++,b.gdt.snbFilteredResultsData.data.push(g)):""===h?c===f.toString()&&g["buckle-type"]===i&&(n++,d=j(g),l.push(d),b.gdt.snbFilteredResultsData.data.push(g)):c===f.toString()&&g["buckle-type"]===i&&g["buckle-width"]===h&&(n++,d=j(g),l.push(d),b.gdt.snbFilteredResultsData.data.push(g)),""!==i&&c===f.toString()&&g["buckle-type"]!==i&&(d=j(g),m.push(d)))})});var o=c("#strapsWidhDiffBuckles");if(!b.gdt.Utils.Browser.isMobileLayout&&o.length&&m.length){for(var p=m,q='<ul class="product-list">',r=0;2>=r;r++)p.length>r&&(q+='<li class="product-list-item">'+p[r]+"</li>");o.append(q).show()}var s=c("#resultsummary");if(s.each(function(){var a=c(this),b=a.find(".count");b.text(n),-1!==v&&0!==n?c("#mobileAccCheckFilters").hide():c("mobileAccCheckFilters").show()}),c("<div/>",{class:"my-new-list",html:l.join("")}).appendTo("#js-search-results"),"online"===g){var t=c("#js-search-results"),u=t.find("a"),x=u.length,z=t.find(".sFALSE").length;s=c("#resultsummary"),s.each(function(){var a=c(this),b=a.find(".count");b.text(x-z)}),c("#js-search-results").find(".sFALSE").hide()}k()});var P=c("#snb-selection");P.each(function(){var a=c(this),b=a.find(".case"),d=a.find(".diameter"),e=a.find(".pin"),f=a.find(".ref"),g=a.find(".bref"),h=a.find(".sref");(G||E)&&(""===G&&""!==E?e.text(E.replace(/[+]/gi," ")).parent().show():""!==G&&""===E?e.text(G.replace(/[+]/gi," ")).parent().show():e.text(E.replace(/[+]/gi," ")+"-"+G.replace(/[+]/gi," ")).parent().show()),s&&g.text(s).parent().show(),x&&h.text(x).parent().show(),D&&b.text(D.replace(/[+]/gi," ")).parent().show(),F&&d.text(F.replace(/[+]/gi," ")).parent().show(),f.text(m)}),-1!==B?(u.addClass("show"),t.removeClass("show")):(u.removeClass("show"),t.addClass("show"))}function f(){c("#accFilters").find(".accFilters").each(function(){var a=c(this),b=a.find("label"),d=b.find("input[type=text]"),e=a.find("label.mandatory"),f=e.find("select"),g=a.find(".error");a.on("submit",function(a){var b=!1;f.each(function(){""===c(this).val()&&(b=!0)}),b&&(a.preventDefault(),e.addClass("has-error"),d.addClass("has-error"),g.addClass("has-error"))})})}function g(){var a=b.location.search,d=a.indexOf("checkBoutique=");if(s.each(function(){var b=c(this),e=b.find("a"),f=e.attr("href"),g=e.data("eboutique");-1!==d?e.attr("href",g+a):e.attr("href",f+a)}),b.gdt.Utils.Browser.isMobileLayout){var e=s.clone(!0);c("main").prepend(e),s.hide()}}function h(){var a=x.find(".radio-list");a.find('input[type="radio"]').click(function(){"REF"===c(this).attr("value")?(x.find(".refSection").addClass("show"),x.find(".watchDetailBox").removeClass("show")):(x.find(".watchDetailBox").addClass("show"),x.find(".refSection").removeClass("show"))})}function i(){var a=d("case"),e=d("case-diameter"),f=d("buckle-type"),g=d("buckle-size"),h=d("wid"),i=d("sid"),j=d("bid"),k=x.find(".accordion-tabs-nav"),l=b.location.search.indexOf("ref="),m=b.location.search.indexOf("found=");a=a.replace(new RegExp("%7C","g"),"|"),e=e.replace(new RegExp("%7C","g"),"|"),f=f.replace(new RegExp("%7C","g"),"|"),g=g.replace(new RegExp("%7C","g"),"|"),a=a.replace(/[+]/gi," "),e=e.replace(/[+]/gi," "),f=f.replace(/[+]/gi," "),g=g.replace(/[+]/gi," "),(1===l||m>0||i||j)&&(k.find("input").attr("checked",!1),k.find("input.refbutton").trigger("click"),h&&c(".accFilters input[type=text]:first").val(h),c(".accFilters input[type=text]:last").val(i?i:j),m>0&&x.find(".refSection").find("form").find("label:last input, span.error").addClass("has-error")),a&&e&&x.find(".watchDetailBox").find(".accFilters").each(function(){var b=c(this),d=b.find("select:first"),h=b.find("select:eq(1)"),i=b.find("select:eq(2)"),j=b.find("select:eq(3)");d.val(a),h.val(e),i.val(f),j.val(g)})}function j(a){var b,d,e=c("#tpl-product-overlay").html(),f=/{{ prodCode }}/gi,g=/{{ prodPathValue }}/gi,h=/{{ prodFamily }}/gi,i=/{{ prodImgUrl }}/gi,j=/{{ prodTitle }}/gi,k=/{{ prodSubTitle }}/gi,m=/{{ prodDetailUrl }}/gi,n=/{{ prodPrice }}/gi,o=/{{ prodComparable }}/gi,p=/{{ prodPurchasable }}/gi,q=/{{ addTocartAllowed }}/gi,r=/{{ productPath }}/gi,s=/{{ prodTitleEnglish }}/gi;return b=e.replace(f,a["global-reference"]).replace(h,a["product-family"]).replace(i,a["image-path"]).replace(j,a.title).replace(k,a.subtitle).replace(m,a.url).replace(n,a.price).replace(g,a.productPath).replace(o,a.isComparable).replace(p,a.isPurchasable).replace(q,a.isAddToCartAllowed).replace(r,a.url).replace(s,a["product-title-english"]),d=c(b),d.addClass("s"+a["sold-online"]),l(d),d.prop("outerHTML")}function k(){b.gdt.ProdComparator.toggleProdInfo(),b.gdt.ComparatorUtil.setComparatorItem(),b.gdt.BasketAndWishlist.setWishlistOverlay(c("#mulipleWishList")),b.gdt.ProdComparator.overlayPositionHandler()}function l(a){var b=a.data("prod-purchaseable"),c=a.data("prod-comparable"),d=a.data("prod-addtocart");"FALSE"===c&&a.find(".product-list-item-compare-btn").addClass("hide-prod-detail"),"FALSE"===b&&a.find(".price-tag").addClass("hide-prod-detail"),"FALSE"===d&&a.find(".save-product").addClass("hide-prod-detail")}function m(){1===c("#accMoreFilters").length&&e(),1===s.length&&g(),1===c("#accFilters").length&&(f(),h(),i())}b.gdt=b.gdt||{},b.gdt.snbFilteredResultsData={};var n="undefined"==typeof window.ontouchstart?"click":"touchend",o=c("#accMoreFilters"),p=c("#showHideFiltersBtn"),q=c("#openFiltersM"),r=o.find(".resetBtn"),s=c("#snb-selection"),t=s.find(".normSelection"),u=s.find(".refSelection"),v=b.location.search.indexOf("checkBoutique="),w=b.location.search.indexOf("wid="),x=c("#accFilters"),y=c("#soldOnlnie"),z=c("html");b.gdt.Utils.Browser.isMobileLayout||o.find(".showHideFilters .fColumn").mCustomScrollbar({scrollInertia:0}),c(".soldOnlnie").each(function(){var a=c(this),d=a.find(".soldOnline"),e=a.find(".viewAll"),f=c("#resultsummary .count");d.on(n,function(a){a.preventDefault();var g=c("#js-search-results"),h=g.find(".sTRUE").length;d.addClass("active"),e.removeClass("active"),c("#js-search-results").find(".sFALSE").hide(),f.text(h),b.gdt.ProdComparator.overlayPositionHandler()}),e.on(n,function(a){a.preventDefault();var g=c("#js-search-results"),h=g.find("div.list-item-detail-wrapper").length;e.addClass("active"),d.removeClass("active"),c("#js-search-results").find(".sFALSE").show(),f.text(h),b.gdt.ProdComparator.overlayPositionHandler()})}),m()}(document,window,window.jQuery||window.Zepto),function(a,b,c){function d(){function a(){for(var a=this,d=c("body"),e=0,f=g.length;f>e;e++)g[e].name===a.getTitle()&&(b.location=g[e].pagePath);d.trigger("boutique:pin:clicked")}function d(){var a=this,d=c("body"),e=a.getTitle();console.log(a.getTitle()),b.gdt.dealerData.mapData.places[e]&&(window.location.href=b.gdt.dealerData.mapData.places[e]),d.trigger("boutique:pin:clicked")}var e=new i.Map("coverMap"),k=new i.Point(104.195397,35.86166);e.enableScrollWheelZoom(),e.centerAndZoom(k,4);var l={features:["road","building","water","land"],style:"dark"};e.setMapStyle(l),e.addControl(new i.NavigationControl),e.addControl(new i.ScaleControl),e.addControl(new i.OverviewMapControl),e.addControl(new i.MapTypeControl);var m=(new i.Icon(f,new i.Size(36,36),{anchor:new i.Size(36,36),infoWindowAnchor:new i.Size(18,35)}),[]),n=null,o=null;if(g){for(var p=0,q=g.length;q>p;p++)o=new i.Point(g[p].location.longitude,g[p].location.latitude),n=new i.Marker(o,{title:g[p].name}),m.push(n),n.addEventListener("click",a);new j.MarkerClusterer(e,{markers:m})}if(h){var r=[];for(var s in b.gdt.dealerData.mapData.places)b.gdt.dealerData.mapData.places.hasOwnProperty(s)&&r.push(s);for(var t=0;t<r.length;t++)for(var u=0;u<b.countriesWithCapitals.length;u++)r[t]===b.countriesWithCapitals[u].CountryName.toUpperCase()&&(o=new i.Point(b.countriesWithCapitals[u].CapitalLongitude,b.countriesWithCapitals[u].CapitalLatitude),n=new i.Marker(o,{title:r[t]}),e.addOverlay(n),n.addEventListener("click",d))}}var e=b.gdt.Utils.PubSub.UI_EVENTS,f=b.gdt.Utils.google.mapIcon,g=(b.gdt.boutiqueData||{}).storeData,h=(b.gdt.dealerData||{}).mapData,i=b.BMap,j=b.BMapLib;c.pubsub("subscribe",e.baiduMaps,function(){c("#coverMap").length&&d()})}(document,window,window.jQuery),function(a,b,c){b.gdt=b.gdt||{},b.gdt.BasketAndWishlist=b.gdt.BasketAndWishlist||{};var d=function(){function d(a,d,e){var f=c(a).find("button[clicked=true]")[0],g=c(a).serialize();return f&&(g+="&"+f.name+"="+f.value),F={productCollection:c(a).find("input[name=productCollection]").val(),productCategory:c(a).find("input[name=productCategory]").val(),productSKU:c(a).find("input[name=productSKU]").val(),refillSKU:c(a).find("input[name=refillsku]").val(),event:c(a).find("input[name=event]").val(),shoppingBagValue:c(a).find("input[name=shoppingbagvalue]").val()},b.gdt.Utils.ajaxCall({type:c(a).attr("method"),url:c(a).attr("action"),data:g,callback:d,error:e})}function e(a){c(".newWishList").modal();var b=a,d=b.find("form"),e=d.find("#wishlistName"),f=d.find("#defaultLabel"),g=f.find("input"),h=f.find("span.label-text"),i=d.find(".cta-wishlist");c(".newWishList").modal(),c(document).on("click",".newWishList",function(a){a.preventDefault();var f=c(this).data("path"),j=c(this).data("id");b.find("[name=product-path]").val(f),0===E.wishlist.count?(g.val(E.wishlist.newWishlistName),e.val(E.wishlist.newWishlistName),h.text(E.wishlist.messages.addto.label.replace("{0}"," ")+E.wishlist.newWishlistName),i.find("span").text(E.wishlist.messages.save.label)):d.each(function(){var a=d.find("fieldset");c("#wishlistName").val(E.wishlist.newWishlistName),i.find("span").text(E.wishlist.messages.addto.label.replace("{0}"," ")+E.wishlist.newWishlistName);var b="";c.each(E.wishlist.wishlists,function(a,d){var e=E.wishlist.messages.addto.label,f="",g="";c.each(this.items,function(a,b){b.id===j&&(f=" disabled",g=" checked disabled")}),b+="<label class='checkbox"+f+"'><input type='checkbox' "+g+" value='"+d.name+"'><span class='label-text'>"+e.replace("{0}","<span>"+d.name)+"</span></span></label>"}),a.find("#newContent").html(b)})})}function f(){b.gdt.CommerceContent.update()}function g(){E=b.gdt.CommerceContent.data();var a=E.wishlist&&E.wishlist.items?E.wishlist.items:[];E.wishlist.itemsArray=c.map(a,function(a){return a.id}),h(),e(c("#mulipleWishList"))}function h(){E.wishlist.count>0?(c(".ecom .wishlist span").addClass("show").text("("+E.wishlist.count+")"),c(".noEComm .wishlist span").addClass("show").text("("+E.wishlist.count+")")):(c(".ecom .wishlist span").removeClass("show"),c(".noEComm .wishlist span").removeClass("show")),E.shoppingbag.count>0?(c(".ecom .sbag").addClass("show").find("span").text("("+E.shoppingbag.count+")"),c("#shopping-bag-overlay").find("h1:first span").text(E.shoppingbag.count),c(".sBMicon sup").text(E.shoppingbag.count).addClass("show")):(c(".ecom .sbag").removeClass("show"),c("#mobileCartCount").text("").removeClass("show")),b.gdt.Utils.Browser.isMobileLayout&&c.pubsub("subscribe",z.basketUpdated,function(){var a=c("#shoppingBagMobile").find(".sBMicon").clone(!0),b=a.addClass("blink");c("#top").before(b),b.on("click",function(){c("html, body").animate({scrollTop:0},300)}),setTimeout(function(){a.remove()},5e3)})}function i(a){var b=c("<div>"+a+"</div>");B.empty().html(b.find("#wishlist").html())}function j(a){var b=c("<div>"+a+"</div>");C.empty().html(b.find("#shoppingbag").html())}function k(a){var b=c("<div>"+a+"</div>");D.find(".basket-overlay-content").empty().removeClass("loading").html(b.find("#shoppingbag").html()),D.find(".basket-overlay-content .mcItems").mCustomScrollbar({scrollInertia:0})}function l(a){var d=c(".shopping-nav .wishlist a").data("href");d&&x&&b.gdt.Utils.ajaxCall({type:"GET",url:d+"?cachebust="+(new Date).getTime(),callback:a})}function m(a){var c;c=C.length?b.gdt.shoppingBagFragment:b.gdt.shoppingMiniBagFragment,c&&x&&b.gdt.Utils.ajaxCall({type:"GET",url:c+"?cachebust="+(new Date).getTime(),callback:a})}function n(a){a&&k(a),D.addClass("show")}function o(){D.removeClass("show")}function p(a,b){c("#js-wishlist-caro li.slide").each(function(){var a=c(this),d=a.find(".product-list-item"),e=d.length;1===e?location.reload():d.each(function(){var a=c(this),d=a.find("input[value="+b+"]");d.parents(".product-list-item.noPlacement").remove()})})}function q(a){return a.replace(/\s/g,"")}function r(){document.getElementById("card-number").value=q(document.getElementById("card-number").value),w=c("#card-types option:selected").val(),H.contents().find("#Paymetric_CreditCardType").val(t(w)),H.contents().find("#Paymetric_CreditCardNumber").val(document.getElementById("card-number").value),H.contents().find("#Paymetric_Exp_Month").val(document.getElementById("card-expiration-month").value),H.contents().find("#Paymetric_Exp_Year").val(document.getElementById("card-expiration-year").value),H.contents().find("#Paymetric_CVV").val(document.getElementById("card-cvv").value),c("#sendCounter").val(parseInt(c("#sendCounter").val(),null)+1)}function s(){if(c("#sendCounter").val()>0){var a=c.parseJSON(c("#ifrm").contents().find("#responseJson").text());("0"===a.binRangeType||0===a.binRangeType)&&(c(".card-number.creditcard").addClass("has-error").find("input").addClass("has-error"),c(".card-number.creditcard").find("span.creditcard").removeAttr("hidden"),document.getElementById("ifrm").contentDocument.location.reload(!0)),"true"===a.backendStatus?(w=c("#card-types option:selected").val(),document.getElementById("parsepaymreqdata[0]").value="true",document.getElementById("paytypekey[0]").value="paytype1",document.getElementById("paytype[0]").value="3",document.getElementById("nolog_cardtype[0]").value=a.binRangeType,document.getElementById("nolog_cardno[0]").value=a.responseToken,document.getElementById("CCToken").value=a.responseToken,document.getElementById("nolog_cardholder[0]").value="{dynamic from server}",document.getElementById("nolog_cardmonth[0]").value=a.expirationMonth,document.getElementById("nolog_cardyear[0]").value=a.expirationYear,document.getElementById("cc_bin").value=document.getElementById("card-number").value.substring(0,6),document.getElementById("ECO_CreditCardText").value=u(w),c.trim(document.getElementById("nolog_cardtype[0]").value).length>0&&u(w)===document.getElementById("nolog_cardtype[0]").value&&(c("#card-number").attr("disabled",!0),document.getElementById("nolog_cardtype[0]").value=w,
document.getElementById("checkout-payment").submit())):c("#checkout-payment").prepend('<div class="form-errors"><h2>'+a.errorHeading+"</h2><p>"+a.errorMessage+"</p></div>")}else if(-1!==c("#ifrm").contents().find("body").text().indexOf("Status")){var b=document.getElementById("ifrm");b.src=b.src}}function t(a){return"VISA"===a?"4000":"DISC"===a?"6000":"MAST"===a?"5000":"AMEX"===a?"3000":"DINE"===a?"PM_Cust_Card_Type_Header1000":"JCB"===a?"PM_Cust_Card_Type_Header7000":void 0}function u(a){return"VISA"===a?"4000":"DISC"===a?"6000":"MAST"===a?"5000":"AMEX"===a?"3000":"DINE"===a?"1000":"JCB"===a?"7000":void 0}function v(){return b.gdt.CommerceContent&&b.gdt.CommerceContent.update(),a.getElementById("shoppingbag")||m(k),{contents:function(){return E},showOverlay:n,hideOverlay:o}}var w,x=b.gdt.Utils.noWCM,y="undefined"==typeof window.ontouchstart?"click":"touchend",z=b.gdt.Utils.PubSub.UI_EVENTS,A=c("body"),B=c("#wishlist"),C=c("#shoppingbag"),D=c("#shopping-bag-overlay"),E={},F={},G=c("#checkout-payment"),H=c("#ifrm"),I=c("#checkout-payment button.form_button_submit"),J=c("#checkout-payment label.card-cvv input");J.on(y,function(){J.select()}),c("#shoppingBagMobile").each(function(){var a=c(this),b=a.find(".sBMicon");b.on(y,function(){a.toggleClass("openIt")})}),c(".editWishlist").modal(),c("#js-wishlist-caro li.slide").each(function(){var a=c(this),b=a.find(".product-list-item"),d=a.find("h2").text();b.each(function(){c(this).find("input[name=wishlist-name]").val(d)})}),A.on(y,".editWishlist",function(){var a=c(this).parents(".slide:first").addClass("active").find("h2.editWishlist"),b=c("#renameWishList"),d=a.text(),e=b.find("[name=old-wishlist-name]"),f=b.find(".currentName");e.val(d),f.val(d)}),c("#js-wishlist-caro").each(function(){var a=c(this),b=a.find("li.slide");1===b.length&&b.addClass("active")}),c("#mulipleWishList").each(function(){var a=c(this).find("form"),b=a.find(".cta-wishlist"),d=a.find("[name=wishlist-name]");a.parents(".slide:first").addClass("active"),A.on(y,"#mulipleWishList .checkbox:not(.disabled)",function(){var a=c(this).find("input:first").val();d.val(a),b.trigger("click")})}),c(".topnav .sbag").on(y,function(b){E.shoppingbag.count>0&&b.preventDefault(),!E.shoppingbag||!E.shoppingbag.count||D.hasClass("show")||a.getElementById("shoppingbag")||a.getElementById("checkout")?D.removeClass("show"):""===D.find(".basket-overlay-content").html()?m(function(a){n(a),D.find(".basket-overlay-content .mcItems").mCustomScrollbar({scrollInertia:0})}):D.addClass("show")}),A.on(y,"button[name]",function(){c("button[clicked=true]").removeAttr("clicked"),c(this).attr("clicked","true")}),A.on("submit",".save-product",function(a){a.preventDefault();var e=c(this),f=c(".currentName").val(),g=e.find("button[clicked=true]"),h=g.length?g.val():this.elements["op:"].value,i=h===E.shoppingbag.actions.add.value,j=h===E.wishlist.actions.add.value,k=h===E.wishlist.actions.remove.value,l="rename-wishlist"===h;g.addClass("loading"),d(e,function(a,d,e){e.getResponseHeader("x-error-message")?(c("#js-basket-error").find(".error-message").html(e.getResponseHeader("x-error-message")),c.pubsub("publish",z.basketError)):i?(b.gdt.Utils.Browser.isMobileLayout||m(function(a){n(a)}),c.pubsub("publish",z.basketUpdated)):j||k?(c.pubsub("publish",z.wishlistUpdated),c.pubsub("publish",z.modal.close),c(".newWishList").removeClass("loading"),c(".mySelection").addClass("opened")):l&&(c(".slide.active").find("h2.editWishlist").text(f),c(".slide.active").find(".product-list-item").each(function(){c(this).find("input[name=wishlist-name]").val(f)}),c.pubsub("publish",z.modal.close)),g.removeClass("loading")},function(a){var b,d;g.removeClass("loading"),409===a.status&&(b=c("<div/>").html(a.responseText),d=b.find("h1").html(),c("#js-basket-error").find(".error-message").html(d),c.pubsub("publish",z.basketError))})}),A.on("submit",".basket-remove",function(a){a.preventDefault();var b=c(this);b.find("button").addClass("loading"),d(b,function(){b.find("button").removeClass("loading"),o(),c.pubsub("publish",z.basketUpdated),1===E.shoppingbag.count?(E.shoppingbag.count=0,F.event="removeFromShoppingBag",A.trigger("basketUpdated",F)):(F.event="removeFromShoppingBag",A.trigger("basketUpdated",F),E.shoppingbag.count=E.shoppingbag.count-1),h(),g()})}),A.on("submit",".addAnother",function(a){a.preventDefault();var b=c(this);b.find("button").addClass("loading"),d(b,function(a,d,e){e.getResponseHeader("x-error-message")?(c("#js-basket-error").find(".error-message").html(e.getResponseHeader("x-error-message")),c.pubsub("publish",z.basketError),b.find("button").removeClass("loading")):(o(),c.pubsub("publish",z.basketUpdated),1===E.shoppingbag.count&&(E.shoppingbag.count=0,A.trigger("basketUpdated",F)),h(),g())})}),A.on("submit",".wishlist-remove",function(a){a.preventDefault();var b=c(this),e=b.find("[name=product-id]").val(),f=b.find("[name=wishlist-name]").val();b.find("button").addClass("loading"),d(b,function(){c.pubsub("publish",z.wishlistUpdated),g(),p(f,e),A.trigger("wishlistUpdated",F),b.find("button").removeClass("loading")})}),A.on(y,function(a){c(a.target).parents("#shopping-bag-overlay").length||D.removeClass("show")}),c("body").on(y,".sbag",function(a){a.stopPropagation()}),I.on(y,function(a){a.preventDefault(),b.gdt.Validate.form(document.forms["checkout-payment"].name)===!0&&(c("#creditCard").is(":checked")?(r(),c("#sendCounter").val(parseInt(c("#sendCounter").val(),null)+1),c("#PayNowButton",document.getElementById("ifrm").contentWindow.document).click()):c("form[name=checkout-payment]").submit())}),G.length&&(H.on("load",s),c("#checkout-payment").on("click",".radio",function(){var a=c(this),b=c("#ccFormFieldset");a.on("click",function(){a.hasClass("paypal")?b.attr("disabled",!0):b.attr("disabled",!1)})})),c.pubsub("subscribe",z.commerceContentJSON,function(){g()}),c.pubsub("subscribe",z.basketUpdated,function(){m(a.getElementById("shoppingbag")?j:k),f()}),c.pubsub("subscribe",z.wishlistUpdated,function(){a.getElementById("wishlist")?l(i):f()});var K=c(".press-header");return K?{setWishlistOverlay:e}:v()};b.gdt.BasketAndWishlist=new d}(document,window,window.jQuery||window.Zepto),function(a,b,c){b.gdt=b.gdt||{};var d=function(){function a(){n.removeAttr("disabled").prop("disabled",!1).removeAttr("hidden").addClass("show")}function d(){n.attr("disabled","disabled").prop("disabled",!0).attr("hidden","hidden").removeClass("show")}function e(){p.removeAttr("disabled").prop("disabled",!1).removeAttr("hidden").addClass("show")}function f(){p.attr("disabled","disabled").prop("disabled",!0).attr("hidden","hidden").removeClass("show")}function g(a){var b=t.prev(".label-text"),c=b.text();"IE"===a||"HK"===a||"MO"===a||"AE"===a||"QA"===a?(s.find("option:eq(0)").prop("selected",!0),s.prop("disabled",!0),s.parents("label").addClass("disabled"),t.prop("required",!1),q.prop("checked",!1),q.prop("disabled",!0),e(),b.text(c.replace("*",""))):""!==a&&"US"!==a?(s.find("option:eq(0)").prop("selected",!0),s.prop("disabled",!0),s.parents("label").addClass("disabled"),t.prop("required",!0),q.prop("checked",!1),q.prop("disabled",!0),e(),b.text(u)):(s.prop("disabled",!1),s.parents("label").removeClass("disabled"),t.prop("required",!0),q.prop("checked",!0),q.prop("disabled",!1),f(),b.text(u))}function h(){var a=!0;return n.find("input, select, textarea").each(function(){if("hidden"!==this.getAttribute("type")){var b,d=c(this),e=this.name.replace("billing","shipping");"radio"===this.type?(b=o.find('[name="'+e+'"][value="'+this.value+'"]').first(),d.prop("checked")!==b.prop("checked")&&(a=!1)):(b=o.find('[name="'+e+'"]').first(),d.val()!==b.val()&&(a=!1))}}),""===c("#shippingAddress input[type=text]:first").val()&&(a=!0),a}function i(){q.on("change",function(){q.prop("checked")&&b.gdt.Utils.noWCM?f():e()})}function j(){var a=c("#order-review .component-orderreview .personalise .checkbox"),b=c("#order-review .component-orderreview .personalise .resourcePath").val(),d=c("#order-review .component-orderreview .personalise .entryIndexValue").val();a.find('input[type="checkbox"]').change(function(){this.checked&&c.ajax({url:b+".gift-wrap.html",type:"POST",data:{strID:d,strState:"checked"}})})}function k(a,b){a.change(function(){var a=c(this).val();a?(c(b).find(".city:not(:contains("+a+"))").parents("li").slideUp(),c(b).find(".city:contains("+a+")").parents("li").slideDown()):c(b).find("li").slideDown()}).keyup(function(){c(this).change()})}function l(){var a=h();i(),j(),q.prop("checked",a),a?f():(e(),b.gdt.Utils.Browser.isMobileLayout&&v.find("div.form").addClass("openNewShippingOptions")),k(c("#filterResults"),c("#boutiquePick ul"))}var m=b.gdt.Utils.PubSub.UI_EVENTS,n=c("#billingAddress"),o=c("#shippingAddress"),p=c("#shippingAddress").find("fieldset"),q=c('[name="sameBillingAddress"]'),r=c('[name="billing.country"]'),s=c('[name="billing.state"]'),t=c('[name="billing.zipcode"]'),u=t.prev(".label-text").text(),v=c("#checkout.billing-shipping");b.gdt.Utils.Browser.isMobileLayout&&v.on("click",".editable-richtext h2, h2.noLine, #contactInfo h2",function(){var a=c(this);void 0!==a.parents(".editable-richtext").next().prop("id")&&"billingAddress"===a.parents(".editable-richtext").next().prop("id")&&a.parents("div.form").hasClass("openBillingAddress")?a.parents("div.form").removeClass("openNewShippingOptions openContactInfo openBillingAddress").addClass("nothingOpened"):void 0!==a.parents(".editable-richtext").next().prop("id")&&"billingAddress"===a.parents(".editable-richtext").next().prop("id")?a.parents("div.form").removeClass("openNewShippingOptions openContactInfo nothingOpened").addClass("openBillingAddress"):""!==a.prop("class")&&"noLine"===a.prop("class")&&a.parents("div.form").hasClass("openNewShippingOptions")?a.parents("div.form").removeClass("openBillingAddress openContactInfo openNewShippingOptions").addClass("nothingOpened"):""!==a.prop("class")&&"noLine"===a.prop("class")?a.parents("div.form").removeClass("openBillingAddress openContactInfo nothingOpened").addClass("openNewShippingOptions"):void 0!==a.parents("#contactInfo").prop("id")&&"contactInfo"===a.parents("#contactInfo").prop("id")&&a.parents("div.form").hasClass("openContactInfo")?a.parents("div.form").removeClass("openBillingAddress openNewShippingOptions openContactInfo").addClass("nothingOpened"):void 0!==a.parents("#contactInfo").prop("id")&&"contactInfo"===a.parents("#contactInfo").prop("id")&&a.parents("div.form").removeClass("openBillingAddress openNewShippingOptions nothingOpened").addClass("openContactInfo")});var w=r.val();return c("#checkout").length&&g(w),r.on("change",function(a){var b=this.options[a.target.selectedIndex].value;g(b)}),c.pubsub("subscribe",m.shippingTabClicked,function(){"US"!==r.val()&&(e(),q.prop("checked",!1),q.prop("disabled",!0))}),l(),{show:a,hide:d}};b.gdt.billingAddress=new d}(document,window,window.jQuery||window.Zepto),function(a,b,c){b.gdt=b.gdt||{};var d=function(){function a(){n.on(j,function(a){a.preventDefault(),a.stopPropagation();var b="promo-open",d=m.hasClass(b)?w:x,e=m.hasClass(b)?0:m.find("ul").outerHeight();m.hasClass(b)?m.hasClass(b)&&m.removeClass(b):m.addClass(b),m.toggleClass(b).css("max-height",e+"px"),n.text(d),v={event:"specialEditionClicked",boutique:c(this).data("tracking-boutique")},s.trigger("specialEditionClick",v)})}function d(){o.on("change",function(){0!==this.selectedIndex&&b.location.replace(c(this).val())})}function e(){c.pubsub("subscribe",k.mapApiLoaded,function(){p.mapWithMarker(),p.show(),t.addClass("visible")}),c.pubsub("subscribe",k.baiduMaps,function(){p.bmapWithMarker(),p.show(),u.addClass("visible")})}function f(){q.tabAccordion({trigger:"h4"})}function g(){l.akcarousel({delay:6e3,horizontal:!0,scrollNode:!0,autoSwitch:!0,scrollSpeed:5,easing:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",navarrows:!1})}function h(){c(b).smartresize(function(){b.matchMedia("only screen and (min-width: 668px)").matches?p.insertBefore(r):p.insertAfter(r)}),c(b).trigger("resize")}function i(){l.length&&(b.matchMedia("only screen and (min-width: 668px)").matches||q.find(".accordion-tabs-content-active").removeClass("accordion-tabs-content-active"),g(),a(),e(),f(),d(),h())}var j="click touchend",k=b.gdt.Utils.PubSub.UI_EVENTS,l=c("#js-carousel-boutique"),m=c("#js-splash-promo"),n=c("#js-show-promo"),o=c("#js-boutique-select").find("select"),p=c("#js-boutique-map"),q=c("#js-boutique-details"),r=c("#js-boutique-hours"),s=c("body"),t=c(".boutique-info > .boutique-maplink"),u=c(".boutique-info .china-maplinks .boutique-maplink"),v={},w=n.text(),x=n.data("closetext");i()};b.gdt.Boutique=new d}(document,window,window.jQuery||window.Zepto),function(a,b,c){b.gdt=b.gdt||{};var d=function(){function a(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var b="[\\?&]"+a+"=([^&#]*)",c=new RegExp(b),d=c.exec(window.location.href);return null===d?"":d[1]}function d(){var b=a("case"),d=a("case-diameter");b=b.replace(new RegExp("%7C","g"),"|"),d=d.replace(new RegExp("%7C","g"),"|"),b=b.substring(0,b.indexOf("|")),d=d.substring(0,d.indexOf("|"));var e=window.location.protocol,f=window.location.host,g=window.location.pathname;g=g.substring(0,g.indexOf("."));var h=c("input.strapsVariantsPath").data("path"),i=c("input.bucklesVariantsPath").data("path");c("input.strapsVariantsPath").val(e+"//"+f+g+h+b+"."+d+".html"),c("input.bucklesVariantsPath").val(e+"//"+f+g+i+b+"."+d+".html")}function e(){var b=c("input.strapsVariantsPath").val();if(i>0&&j>0){var d=a("ref");b=b.slice(0,-6),b=b+"REF-"+d+".html"}c.ajax({type:"GET",url:b,dataType:"html",success:function(a){var b=c("div.related-straps");b.html(a),c("main div.related-straps ul li").length<1&&c("div.related-straps").remove(),c("div.related-straps a").attr("href",function(a,b){return b+"?"+h});var d,e=b.find("a.view-all").attr("href");void 0!==e&&(d=e.replace("BOUCLE_","")),b.find("a.view-all").attr("href",d)}})}function f(){var b=c("input.bucklesVariantsPath").val();if(i>0&&j>0){var d=a("ref");b=b.slice(0,-6),b=b+"REF-"+d+".html"}c.ajax({type:"GET",url:b,dataType:"html",success:function(a){c("div.related-buckle").html(a),c("div.related-buckle a").attr("href",function(a,b){return b+"?"+h}),c("main div.related-buckle ul li").length<1&&c("div.related-buckle").remove()}})}function g(){if(c("main #bucklesDetailPage").length>0){d(),1!==k&&(e(),f()),c("nav.product-crumb span a").attr("href",function(a,b){return b+"?"+h});var a=document.URL.split("?")[1];void 0!==a?(c("#snb-selection .selectionView").show(),c("#snb-selection .selectionView p a").attr("href",function(a,b){return b+"?"+h})):c("#snb-selection .selectionView").hide()}}var h=window.location.href.slice(window.location.href.indexOf("?")+1),i=b.location.search.indexOf("ref="),j=b.location.search.indexOf("wid="),k=b.location.search.indexOf("bid=");g()};b.gdt.Buckles=new d}(document,window,window.jQuery||window.Zepto),function(a,b,c){function d(){function a(){function a(a,b,d,e){d=d.toUpperCase(),c.each(a,function(a,f){var g=f.value.toUpperCase();if(d===g){var h="";c.each(f.values,function(a,b){h+="<option value='"+b.value+"'>"+b.label+"</option>"}),b.html("<option value=''>"+e+"</option>"+h)}})}function b(){i.hide().prop({disabled:"disabled",hidden:"hidden"})}function e(){i.show().prop({disabled:!1,hidden:!1})}var h=c.cookie("catalogs_catalogRequested");if(null===h||""===h){if(o){var m=c(".dynamic-dropdown[name="+o.field+"]"),n=c(".dynamic-dropdown[name="+o.field+"] option:first").text();d(o.values,m,n)}}else{var q=c("#catalogs_catalogRequested option:first").text();d(o.values,l,q),p()}if(o&&1===f.length){var r=c("#paper_catalog_catalogLanguage"),s=c("#paper_catalog_catalogLanguage option:first").text();a(o.values,r,k,s),j.on("click",function(){var b=c(this).val();a(o.values,r,b,s)})}b(),g.on("change",function(){"paper"===c(this).val()?e():b()})}function d(a,b,e){if(b){var f="";c.each(a,function(a,b){var c=b["cookie-name"]?'data-cookie-name="'+b["cookie-name"]+'"':"";f+="<option value='"+b.value+"' "+c+">"+b.label+"</option>"}),b.html("<option value=''>"+e+"</option>"+f)}b&&void 0!==b.val()&&""!==b.val()&&c.each(a,function(a,e){if(b.val()===e.value&&void 0!==e.field){var f=c(".dynamic-dropdown[name="+e.field+"]"),g=c(".dynamic-dropdown[name="+e.field+"] option:first").text();d(e.values,f,g)}}),b.on("change",function(){void 0!==b.val()&&""!==b.val()&&c.each(a,function(a,e){if(b.val()===e.value&&void 0!==e.field){var f=c(".dynamic-dropdown[name="+e.field+"]"),g=c(".dynamic-dropdown[name="+e.field+"] option:first").text();d(e.values,f,g)}})})}function p(){var a=c("#catalogs_catalogRequested option:first").text(),b=c.cookie("catalogs_catalogRequested"),d=c("#catalogs_catalogType option:first").text(),e=c.cookie("catalogs_catalogType"),f=c("#catalogs_catalogLanguage option:first").text(),g=c.cookie("catalogs_catalogLanguage");if(o){var h="",i="",j="";c.each(o.values,function(a,d){var f=d["cookie-name"]?'data-cookie-name="'+d["cookie-name"]+'"':"";h+="<option value='"+d.value+"' "+f+">"+d.label+"</option>",b===d.value&&c.each(d.values,function(a,b){i+="<option value='"+b.value+"'>"+b.label+"</option>",e===b.value&&c.each(b.values,function(a,b){j+="<option value='"+b.value+"'>"+b.label+"</option>"})})}),l.html("<option value=''>"+a+"</option>"+h),m.html("<option value=''>"+d+"</option>"+i),n.html("<option value=''>"+f+"</option>"+j)}l.val(b),m.val(e),n.val(g)}(1===e.length||1===f.length&&Object.keys(o).length)&&a(),c("#my-account section.lazy").on("click",function(){c(document).ajaxComplete(function(){e=c("#catalogs"),f=c("#paper_catalog"),g=c("#catalogs_catalogType"),h=e.find("label.streetNumber"),i=h.parent(),j=c('[name="catalogRequested"]'),k=c('[name="catalogRequested"]:checked').val(),l=c("#catalogs_catalogRequested"),m=c("#catalogs_catalogType"),n=c("#catalogs_catalogLanguage"),o=b.gdt.catalogJson,a()})})}b.gdt=b.gdt||{},b.gdt.Utils=b.gdt.Utils||{};var e=c("#catalogs"),f=c("#paper_catalog"),g=c("#catalogs_catalogType"),h=e.find("label.streetNumber"),i=h.parent(),j=c('[name="catalogRequested"]'),k=c('[name="catalogRequested"]:checked').val(),l=c("#catalogs_catalogRequested"),m=c("#catalogs_catalogType"),n=c("#catalogs_catalogLanguage"),o=b.gdt.catalogJson;c("#catalogs").submit(function(){c.cookie("catalogs_catalogRequested","",{path:"/"}),c.cookie("catalogs_catalogType","",{path:"/"}),c.cookie("catalogs_catalogLanguage","",{path:"/"}),c.cookie("catalogs_catalogRequested",l.val(),{path:"/"}),c.cookie("catalogs_catalogType",m.val(),{path:"/"}),c.cookie("catalogs_catalogLanguage",n.val(),{path:"/"})}),b.gdt.CatalogueConfig=new d}(document,window,window.jQuery||window.Zepto),function(a,b,c){function d(){c("#boutiquePick").find(".checkoutBoutiques").addClass("fullView");for(var a=0;a<window.gdt.btqpData.boutiqueData.boutiques.length;a++){var d,e,f=window.gdt.btqpData.boutiqueData.boutiques[a];d=""!==f.imageURL&&void 0!==f.imageURL?'<img src="'+f.imageURL+'">':"",e=""!==f.storeURL&&void 0!==f.storeURL?'<a href="'+f.storeURL+'" target="_blank">'+f.moreInfoLabel+"</a>":"";var g='<li data-details=\'{"name":"'+f.name+'", "streetNumber": "'+f.streetNumber+'", "streetName": "'+f.streetName+'", "city": "'+f.city+'", "state": "'+f.state+'", "country": "'+f.country+'", "countryName": "'+f.countryName+'", "zipcode": "'+f.zipcode+'"}\' id="'+f.deliveryBoutiqueCode+'"><label class="radio">'+d;g+='<input type="radio" name="btqpCode">',g+='<span class="name">'+f.name+'</span> <span class="firstLine">'+f.streetNumber+", "+f.streetName+"</br>"+f.state+", "+f.zipcode+"<br />"+f.countryName+"</span></label>",g+=e+"</li>",P.push(g)}t.find("ul").html(P),b.gdt.Utils.Browser.isMobileLayout||t.mCustomScrollbar(),p.find(".count").text(window.gdt.btqpData.boutiqueData.boutiques.length),1===window.gdt.btqpData.boutiqueData.boutiques.length?(p.find(".boutiques").addClass("hide"),p.find(".boutique").removeClass("hide")):(p.find(".boutiques").removeClass("hide"),p.find(".boutique").addClass("hide")),t.find("li").on("click",function(a){a.preventDefault();var b=c(this),d=b.prop("id"),e=b.data("details");v.val(d),w.val(e.name),x.val(e.name),y.val(e.streetNumber),z.val(e.streetName),A.val(e.zipcode),B.val(e.state),C.val(e.city),D.val(e.country),b.find("input").prop("checked",!0)}),t.find("li:first").trigger("click"),jQuery.expr[":"].Contains=function(a,b,c){return(a.textContent||a.innerText||"").toUpperCase().indexOf(c[3].toUpperCase())>=0},o.on("click",function(a){a.preventDefault();var b=s.val();if(b){m.addClass("visible"),c(t).find("li").addClass("opacityZero"),""!==b?(c(t).find("label.radio:Contains("+b+")").parents("li").removeClass("opacityZero"),l.find(".errorMsg").removeClass("visible")):(c(t).find("li").removeClass("opacityZero"),l.find(".errorMsg").removeClass("visible")),0===c(t).find("li:not(.opacityZero)").length&&l.find(".errorMsg").addClass("visible");var d=(t.find("ul").find("li:not(.opacityZero):first").index(),t.find("ul").find("li:not(.opacityZero)").length);p.find(".count").html(d),1===d?(p.find(".boutiques").addClass("hide"),p.find(".boutique").removeClass("hide")):(p.find(".boutiques").removeClass("hide"),p.find(".boutique").addClass("hide"))}}),m.on("click",function(){c("#searchInput").focus(),m.removeClass("visible"),l.find(".errorMsg").removeClass("visible"),t.find("li").each(function(){var a=c(this);a.removeClass("opacityZero")});var a=(t.find("ul").find("li:not(.opacityZero):first").index(),t.find("ul").find("li:not(.opacityZero)").length);p.find(".count").html(a),1===a?(p.find(".boutiques").addClass("hide"),p.find(".boutique").removeClass("hide")):(p.find(".boutiques").removeClass("hide"),p.find(".boutique").addClass("hide"))})}function e(){function a(){t.find("ul").find("#"+this.deliveryBoutiqueCode).find("input").prop("checked",!0);var a=c("#"+this.deliveryBoutiqueCode).position().top;t.mCustomScrollbar("scrollTo",a),v.val(this.deliveryBoutiqueCode),w.val(this.name),x.val(this.name),y.val(this.streetNumber),z.val(this.streetName),A.val(this.zipcode),B.val(this.state),C.val(this.city),D.val(this.country)}var d=new google.maps.LatLng(37.09024,-95.712891),e=[[{url:r,height:36,width:36,anchor:[0,0],textColor:"#FFFFFF",textSize:12},{url:r,height:36,width:36,anchor:[0,0],textColor:"#FFFFFF",textSize:12},{url:r,width:36,height:36,anchor:[0,0],textColor:"#FFFFFF",textSize:12}]];i=new google.maps.Map(document.getElementById("checkoutMap"),{zoom:3,center:d,styles:R,mapTypeId:google.maps.MapTypeId.ROADMAP});for(var h=0;h<window.gdt.btqpData.boutiqueData.boutiques.length;h++){var j,k,o=window.gdt.btqpData.boutiqueData.boutiques[h],s=new google.maps.LatLng(o.latitude,o.longitude),u=new google.maps.Marker({position:s,icon:q,deliveryBoutiqueCode:o.deliveryBoutiqueCode,name:o.name,streetNumber:o.streetNumber,streetName:o.streetName,city:o.city,state:o.state,country:o.country,countryName:o.countryName,zipcode:o.zipcode});j=""!==o.imageURL&&void 0!==o.imageURL?'<img src="'+o.imageURL+'">':"",k=""!==o.storeURL&&void 0!==o.storeURL?'<a href="'+o.storeURL+'" target="_blank">'+o.moreInfoLabel+"</a>":"";var S='<li id="'+o.deliveryBoutiqueCode+'" class="getIndex'+h+'"><label class="radio">'+j;S+='<input type="radio" name="btqpCode">',S+='<span class="name">'+o.name+'</span> <span class="firstLine">'+o.streetNumber+", "+o.streetName+"</br>"+o.state+", "+o.zipcode+"<br />"+o.countryName+"</span></label>",S+=k+"</li>",O.push(u),Q.push(u),P.push(S),google.maps.event.addListener(u,"click",a)}t.find("ul").html(P),b.gdt.Utils.Browser.isMobileLayout||t.mCustomScrollbar(),p.find(".count").text(window.gdt.btqpData.boutiqueData.boutiques.length),1===window.gdt.btqpData.boutiqueData.boutiques.length?(p.find(".boutiques").addClass("hide"),p.find(".boutique").removeClass("hide")):(p.find(".boutiques").removeClass("hide"),p.find(".boutique").addClass("hide"));var T=new MarkerClusterer(i,O,{gridSize:20,styles:e[0]});if(t.find("li").on("click",function(){var a=c(this),b=a.index();google.maps.event.trigger(Q[b],"click")}),N.length){c("#shippingAddress").attr("disabled",!0),n.attr("disabled",!0),c("#submitBoutique").removeAttr("disabled"),c("#newShippingOptions").find(".accordion-tabs-nav li").removeClass("accordion-tabs-nav-active"),c("#newShippingOptions").find(".accordion-tabs-content > section").removeClass("accordion-tabs-content-active"),c("#boutiquePickTab").addClass("accordion-tabs-nav-active"),c("#boutiquePick").addClass("accordion-tabs-content-active"),F.val(""),G.val(""),H.val(""),I.val(""),J.val(""),K.val(""),L.val(""),E.find("select").val(""),c('input[name="sameBillingAddress"]').prop("checked",!0),c("#shippingAddress").find("fieldset").prop({hidden:!0,disabled:!0});var U=t.find("ul").find("li#"+N).index();google.maps.event.trigger(O[U],"click")}else google.maps.event.trigger(O[0],"click");m.on("click",function(a){a.preventDefault(),i.setZoom(3),i.setCenter(new google.maps.LatLng(37.09024,-95.712891)),c("#searchInput").val(""),c("#searchInput").focus(),m.removeClass("visible"),l.find(".errorMsg").removeClass("visible"),O=[],T.clearMarkers(),t.find("li").each(function(){var a=c(this),b=a.index();a.removeClass("opacityZero"),O.push(Q[b])}),T=new MarkerClusterer(i,O,{gridSize:20,styles:e[0]});var b=(t.find("ul").find("li:not(.opacityZero):first").index(),t.find("ul").find("li:not(.opacityZero)").length);p.find(".count").html(b),1===b?(p.find(".boutiques").addClass("hide"),p.find(".boutique").removeClass("hide")):(p.find(".boutiques").removeClass("hide"),p.find(".boutique").addClass("hide")),google.maps.event.trigger(O[0],"click")}),google.maps.event.addListener(i,"idle",function(){f()}),M.on("click",".showMapIcon",function(a){a.preventDefault();var b=c(this);b.hasClass("hideMapIcon")?(M.removeClass("showMap"),b.removeClass("hideMapIcon")):(M.addClass("showMap"),b.addClass("hideMapIcon"))}),M.on("click",".viewMore a",function(a){a.preventDefault();var b,d=c(this),e=M.find("div.list"),f=e.data("count"),g=M.find("div.list li:not(.opacityZero)"),h=g.length;h>=f&&(e.data("count",f+2),b=e.data("count")),h>=b?M.find("div.list li:not(.opacityZero):lt("+b+")").removeClass("tempHidden"):b>=h&&(M.find("div.list li:not(.opacityZero):lt("+b+")").removeClass("tempHidden"),d.hide()),b>=h?(M.find("div.list li:not(.opacityZero):lt("+b+")").removeClass("tempHidden"),d.hide()):M.find("div.list li:not(.opacityZero):lt("+b+")").removeClass("tempHidden")});var V=new google.maps.Geocoder;document.getElementById("searchInputButtonPins").addEventListener("click",function(a){a.preventDefault(),g(V,i)})}function f(){for(var a=i.getBounds(),d=0,e=0;e<O.length;e++){var f=O[e],g=c(".getIndex"+e);a.contains(f.getPosition())===!0?(g.removeClass("opacityZero"),d++):g.addClass("opacityZero")}if(p.find(".count").html(d),0===d)l.find(".errorMsg").addClass("visible"),l.find(".results").addClass("noBoutiqueError");else{var h=t.find("li:not(.opacityZero):first").prop("id");S?c("#"+h).find("input").trigger("click"):S=!0,l.find(".errorMsg").removeClass("visible"),l.find(".results").removeClass("noBoutiqueError")}b.gdt.Utils.Browser.isMobileLayout&&(2>=d?M.find(".viewMore a").hide():d>2&&M.find(".viewMore a").show(),M.find("div.list").data("count",2),M.find("div.list li").removeClass("tempHidden"),M.find("div.list li:not(.opacityZero):gt(1)").addClass("tempHidden"))}function g(a,b){m.addClass("visible");var c=document.getElementById("searchInput").value;a.geocode({address:c},function(a,c){c===google.maps.GeocoderStatus.OK?(b.setZoom(10),b.setCenter(a[0].geometry.location)):l.find(".errorMsg").addClass("visible")})}var h,i,j=b.gdt.Utils.PubSub.UI_EVENTS,k=c("#newShippingOptions"),l=c("#boutiquePick"),m=l.find('[type="reset"]'),n=k.find(".component-shippinginfo"),o=c(".search"),p=l.find(".numBoutiques"),q=b.gdt.Utils.google.mapIcon,r=b.gdt.Utils.google.clusterIcon,s=c("#searchInput"),t=c(".list"),u=c("#submitBoutique"),v=u.find('input[name="shipping.deliveryBoutiqueCode"]'),w=u.find('input[name="shipping.firstname"]'),x=u.find('input[name="shipping.lastname"]'),y=u.find('input[name="shipping.streetNumber"]'),z=u.find('input[name="shipping.streetName"]'),A=u.find('input[name="shipping.zipcode"]'),B=u.find('input[name="shipping.state"]'),C=u.find('input[name="shipping.city"]'),D=u.find('input[name="shipping.country"]'),E=c("#shippingAddress"),F=E.find('input[name="shipping.firstname"]'),G=E.find('input[name="shipping.lastname"]'),H=E.find('input[name="shipping.streetNumber"]'),I=E.find('input[name="shipping.streetName"]'),J=E.find('input[name="shipping.zipcode"]'),K=E.find('input[name="shipping.state"]'),L=E.find('input[name="shipping.city"]'),M=l.find(".checkoutBoutiques"),N=v.val(),O=[],P=[],Q=[],R=[{elementType:"geometry",stylers:[{invert_lightness:!0},{visibility:"simplified"},{saturation:-100},{lightness:-40}]},{featureType:"poi.park",stylers:[{lightness:-100}]},{featureType:"administrative.country",stylers:[{visibility:"on"},{color:"#fff0d2"},{weight:"0.5"}]},{featureType:"administrative.locality",stylers:[{visibility:"off"}]},{featureType:"water"},{featureType:"road.highway.controlled_access",stylers:[{visibility:"off"}]},{featureType:"transit",stylers:[{visibility:"off"}]},{featureType:"administrative",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"geometry",stylers:[{visibility:"off"},{color:"#454545"}]},{stylers:[{visibility:"simplified"}]},{elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"landscape",elementType:"labels.icon",stylers:[{visibility:"simplified"}]},{featureType:"administrative.country",stylers:[{visibility:"on"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#ffffff"},{visibility:"off"}]},{featureType:"administrative.country",elementType:"labels.text.stroke",stylers:[{visibility:"off"}]},{featureType:"administrative.country",elementType:"labels.text.fill",stylers:[{visibility:"on"},{color:"#ffffff"}]},{featureType:"water",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"administrative.province",elementType:"labels.text.fill",stylers:[{visibility:"off"}]},{featureType:"landscape.natural",stylers:[{color:"#000000"}]},{featureType:"road.highway.controlled_access",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"transit.station",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"transit.line",elementType:"labels.text.fill",stylers:[{color:"#ffffff"}]},{featureType:"transit.station",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"transit.station",elementType:"labels.text.fill",stylers:[{color:"#ffffff"}]},{featureType:"administrative.land_parcel",stylers:[{visibility:"off"}]},{featureType:"administrative.neighborhood",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"road.arterial",stylers:[{visibility:"on"},{color:"#333333"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"road.arterial",elementType:"labels.text",stylers:[{color:"#FFFFFF"},{weight:.1}]},{featureType:"road.arterial",elementType:"labels.text.fill",stylers:[{weight:.1},{visibility:"off"}]},{featureType:"road.local",elementType:"labels.text",stylers:[{color:"#808080"},{weight:.1}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{visibility:"off"}]},{featureType:"landscape",elementType:"labels.text.fill",stylers:[{weight:.1},{visibility:"off"}]},{featureType:"road",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",stylers:[{visibility:"off"}]},{elementType:"labels.text",stylers:[{visibility:"on"},{color:"#808080"},{weight:.1}]},{featureType:"road",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"geometry",stylers:[{weight:.8},{color:"#343435"}]}],S=!1;c.pubsub("subscribe",j.mapApiLoaded,function(){h||(h=!0,l.length&&e())}),c.pubsub("subscribe",j.mapApiNotLoaded,function(){l.length&&d()}),c.pubsub("subscribe",j.baiduMaps,function(){l.length&&d()}),c.pubsub("subscribe",j.boutiqueTabClicked,function(){c("#shippingAddress").attr("disabled",!0),c("#newShippingOptions .component-shippinginfo").prop("disabled",!0),
c("#submitBoutique").removeAttr("disabled")}),c.pubsub("subscribe",j.shippingTabClicked,function(){c("#shippingAddress").removeAttr("disabled"),c("#newShippingOptions .component-shippinginfo").removeAttr("disabled"),c("#submitBoutique").attr("disabled",!0),c("#chooseBoutiqueId").find("input").val("")})}(document,window,window.jQuery),function(a,b,c){function d(){var a=b.gdt.Utils.ajaxCall({type:"GET",url:b.gdt.commerceContenUrl+"?cachebust="+(new Date).getTime(),callback:function(a){f=a,h&&j&&!i&&0!==f.wishlist.count&&(c("#loginOverlay").modal(),c.pubsub("publish",g.loginOverlay)),h=!1,c.pubsub("publish",g.commerceContentJSON)}});return a}function e(){return 0===c(".press-header").length?(d(),{update:d,data:function(){return f}}):void 0}var f,g=b.gdt.Utils.PubSub.UI_EVENTS,h=!0,i=c("html").hasClass("logged-in"),j=c("#js-wishlist-caro").length;b.gdt=b.gdt||{},b.gdt.CommerceContent=new e}(document,window,window.jQuery||window.Zepto),function(a,b,c){b.gdt=b.gdt||{};var d=function(){function a(a,d){var e=s[d],f=c("html").hasClass("logged-in");if(e&&j(e,d,a)){if(e.itemList.push(a),e.listName||(e.listName=t[d]),f){var h=m(a,d,r.OPADDTOCOMPARE);h.success(function(){i(o),c.pubsub("publish",p.prodAdded,e.itemList.length)})}else i(o),c.pubsub("publish",p.prodAdded,e.itemList.length);g(a,d),b.console.log("product added")}}function d(a,d,e){if(s[d]){var f=s[d].itemList,g=c.inArray(a,f),h=c("html").hasClass("logged-in"),j={tdIndex:e,prodType:d};if(-1!==g){if(h){var k=m(a,d,r.OPREMOVEFROMCOMPARE);k.success(function(){s[d].itemList.splice(g,1),i(o),c.pubsub("publish",p.prodRemoved,j)})}else s[d].itemList.splice(g,1),i(o),c.pubsub("publish",p.prodRemoved,j);l(),b.console.log("product removed")}}}function e(){return o}function f(){c.each(o,function(a,b){var d=a;c.each(b.itemList,function(a,b){g(b,d)})})}function g(a,b){if(c(".product-detail").length>0){var d=c(".product-detail").find(".cta-primary .comparator-btn"),e=d.data("prod-code"),f=d.data("prod-family");e===a&&f===b&&(c(".product-detail").find(".cta-primary .comparator-btn").hide(),c(".product-detail").find(".cta-primary .view-comparator-btn").css("display","inline-block"),l())}else c(".product-list").each(function(){c(this).find("li").each(function(){var d=c(this),e=d.closest(q.productCard).data("prod-code"),f=d.closest(q.productCard).data("product-family");return e===a&&f===b?(c.pubsub("subscribe",p.prodAdded,function(a,b){h(d,b),l(),c(".mySelection").addClass("opened")}),d.find(".prod-item-right-content").addClass("list-item-added").delay(r.TIMEDELAY).queue(function(){c(this).removeClass("list-item-added").dequeue(),c(this).find(".view-comparison").css("display","inline-block"),c(this).find(".product-list-item-compare-btn").css("display","none")}),!1):void 0})})}function h(a,b){var c,d=a.find(".product-list-show-comparison .comparator-msg"),e=d.text();c=e.replace("{}",b),d.text(c)}function i(a){u=JSON.stringify(a),c.cookie(r.COMPARECOOKIE,u,{path:"/",domain:b.gdt.Utils.getCookieDomain()})}function j(a,d,e){var f=s[d].itemList,g=c.inArray(e,f);return f.length===r.MAXPRODCOMPARESIZE?(c.pubsub("publish",p.comparatorFull,e),b.console.log("Comparator already full for "+d),!1):!(g>=0)||(c.pubsub("publish",p.prodExist+"."+d),b.console.log("Product "+e+" already exist in "+d+" comparator"),!1)}function k(a){c(".product-list li").each(function(){var b=c(this),d=b.data("prod-code");return d===a?(b.find(".prod-item-right-content").addClass("comparator-full").delay(r.TIMEDELAY).queue(function(){c(this).removeClass("comparator-full").dequeue()}),!1):void 0})}function l(){var a=0;for(var b in o)if(o.hasOwnProperty(b)){var d=o[b].itemList.length;a+=d}return a>0&&c(".mySelection .comparelist").find("span").text("("+a+")"),a}function m(a,b,d){var e=location.pathname.split("."),f=location.pathname.split(".").pop(-1),g=e[0]+".commerce-op."+f;return c.post(g,{"op:":d,"product-category":b,product:a,"comparelist-name":"Name 1"})}function n(){c.cookie(r.COMPARECOOKIE)&&(o=c.parseJSON(c.cookie(r.COMPARECOOKIE))),o||(o={WMF:{listName:"",itemList:[]},WBR:{listName:"",itemList:[]},WBU:{listName:"",itemList:[]}}),s={WMF:o.WMF,WBU:o.WBU,WBR:o.WBR},t={WMF:"Name #1",WBU:"Name #1",WBR:"Name #1"},(c(".product-list").length>0||c(".product-detail").length>0)&&f(),l()}var o,p={comparatorFull:"comparator.full",prodExist:"comparator.prod.exist",prodAdded:"comparator.prod.added",prodRemoved:"comparator.prod.removed"},q={productCard:"li.product-list-item",compareBtn:".product-list-item-compare-btn",showResultBtn:".product-list-show-comparison"},r={COMPARECOOKIE:"compare-product",MAXPRODCOMPARESIZE:3,TIMEDELAY:4e3,OPADDTOCOMPARE:"add-to-comparelist",OPREMOVEFROMCOMPARE:"delete-from-comparelist"},s={},t={},u="{}";return n(),{getItems:e,addItems:a,removeItems:d,setComparatorItem:f,showComparatorFullMsg:k,getTotalCount:l,updateCompareCookie:i}};b.gdt.ComparatorUtil=new d}(document,window,window.jQuery||window.Zepto),function(a,b,c){b.gdt=b.gdt||{};var d=function(){function a(){k.prepend('<div class="next">Next</div><div class="prev">Previous</div>'),l.find("td:first").addClass(p.activeClass),e()}function d(a,b,c){var d,e,f=c,g=a.parents(".compareSlide").find(".translate"),h=g.find(".product td").length;b===q.next&&f!==h?(f+=1,f!==h?(d=g.find(".product td:eq("+f+")"),g.removeClass("show-"+(f-1)).addClass("show-"+f),g.find(".product td").removeClass(p.activeClass).eq(f).addClass(p.activeClass),e=d.find(o.sticky).length?d.find(o.sticky).clone(!0):d.find("a").clone(!0),n.html(e)):f===h&&(d=g.find(".product td:eq(0)"),g.removeClass("show-"+(f-1)),g.find(".product td").removeClass(p.activeClass).eq(0).addClass(p.activeClass),e=d.find(o.sticky).length?d.find(o.sticky).clone(!0):d.find("a").clone(!0),n.html(e))):b===q.prev&&(0!==f?(d=g.find(".product td").eq(f-1),g.removeClass("show-"+f).addClass("show-"+(f-1)),g.find(".product td").removeClass(p.activeClass).eq(f-1).addClass(p.activeClass),e=d.find(o.sticky).length?d.find(o.sticky).clone(!0):d.find("a").clone(!0),n.html(e)):0===f&&(d=g.find(".product td").eq(h-1),g.removeClass("show-"+f).addClass("show-"+(h-1)),g.find(".product td").removeClass(p.activeClass).eq(f-1).addClass(p.activeClass),e=d.find(o.sticky).length?d.find(o.sticky).clone(!0):d.find("a").clone(!0),n.html(e)))}function e(){c(document).on(i,o.next,function(){var a=c(this),b=q.next,e=j.find(".compareSlide.active").find("td.active").index();d(a,b,e)}),c(document).on(i,o.prev,function(){var a=c(this),b=q.prev,e=j.find(".compareSlide.active").find("td.active").index();d(a,b,e)})}function f(){c(".compareSlide.active .translate, #stickyHeader").on("swipeleft",function(a){a.stopImmediatePropagation();var b=j.find(".compareSlide.active").find(o.next),c=q.next,e=j.find(".compareSlide.active").find("td.active").index();d(b,c,e)}),c(".compareSlide.active .translate, #stickyHeader").on("swiperight",function(a){a.stopImmediatePropagation();var b=j.find(".compareSlide.active").find(o.next),c=q.prev,e=j.find(".compareSlide.active").find("td.active").index();d(b,c,e)})}function g(a){var b=j.find(".compareSlide.active").find(".product:first .active .title"),d=b.length?b.offset().top:0,e=d-20,f=e+a,g=c(".compareSlide.active .product:first").find(".active .sticky").clone(!0);n.html(g),c(window).scroll(function(){c(window).scrollTop()>f?m.addClass("stickyTitle"):m.removeClass("stickyTitle")})}function h(){b.gdt.Utils.Browser.isMobileLayout&&j.length&&a()}var i="undefined"==typeof window.ontouchstart?"click":"touchend",j=c("#compareListTableWrapper"),k=j.find(".compareSlide"),l=k.find("tr:first"),m=c("html"),n=c("#stickyHeader"),o={sticky:".sticky",next:".next",prev:".prev"},p={activeClass:"active"},q={next:"next",prev:"prev"};return h(),{stickyHeader:g,swipeFunction:f}};b.gdt.ComparelistCarousel=new d}(document,window,window.jQuery||window.Zepto),function(a,b,c){b.gdt=b.gdt||{};var d=function(){function a(a){var b=a.split("||"),d=c("main div.country-telephone");b[1].length?(d.find("span").text(b[1]),d.addClass("icon-telephone")):(d.find("span").text(""),d.removeClass("icon-telephone"))}function b(){if(c("#contact-us").length){var b=c("#contact-us").find("#contact-us_country"),d=c("#contact-us_country option:selected").val();a(d),b.on("change",function(){d=c("#contact-us_country option:selected").val(),a(d)})}}b()};b.gdt.ContactUs=new d}(document,window,window.jQuery||window.Zepto),function(a,b,c){function d(){var a,b,d=c("#selectedCountry").val(),e=c("main div.country-telephone"),f=c("div.countryBtn:first select option[value^='"+d+"||']").val();""!==d&&i.val(f),a=c("div.countryBtn:first select option:selected").val(),a&&(b=a.split("||"),b[1].length&&e.addClass("visible").find("a").text(b[1]).attr("href","tel:"+b[1]),b[0].length&&c("#contact-concierge-form_country").val(b[0]),b[2].length&&c("#contact-concierge-form_country-email").val(b[2])),i.on("change",function(){var a=c("div.countryBtn:first select option:selected").val(),b=a.split("||");""===a?e.removeClass("visible").find("a").text("").attr("href","#"):b[1].length?(h.removeClass("has-error").find(".error").prop("hidden",!0),e.addClass("visible").find("a").text(b[1]).attr("href","tel:"+b[1])):(h.removeClass("has-error").find(".error").prop("hidden",!0),e.removeClass("visible").find("a").text("").attr("href","#")),b.length&&b.length>0&&c("#contact-concierge-form_country").val(b[0]),b.length&&b.length>2&&c("#contact-concierge-form_country-email").val(b[2])})}function e(a){c("#contact-concierge-form").find(".form_button_submit").addClass("loading"),c("#contact-concierge-form_share-url").val(b.location);var d=c("div.countryBtn:first select option:selected").val();return""===d?(a.preventDefault(),h.addClass("has-error").find(".error").removeAttr("hidden"),c("#contact-concierge-form").find(".form_button_submit").removeClass("loading"),c("#gdt .modal-wrap.modal-wrap-scroll").animate({scrollTop:0},300),!1):(c.ajax({type:"post",url:c("#contact-concierge-form").attr("action"),data:c("#contact-concierge-form").serialize(),dataType:"json",success:function(a){var d=c("#contact-concierge-form");a.status===!0?(d.parents(".gdt-form").hide().after("<div class='gdt-message'>"+a.message+"</div>"),b.Recaptcha.reload(),d.find("[type=reset]").trigger("click"),d.find(".captchaDiv").removeClass("captchaError")):a.status===!1&&void 0!==a.validCaptcha&&a.validCaptcha===!1?(d.find(".captchaDiv").addClass("captchaError"),b.Recaptcha.reload()):(d.parents(".gdt-form").after("<div class='gdt-message'>"+a.message+"</div>"),b.Recaptcha.reload(),d.find("[type=reset]").trigger("click"),d.find(".captchaDiv").removeClass("captchaError")),c("#contact-concierge-form").find(".form_button_submit").removeClass("loading")},error:function(a,b,d){c("#js-contact-concierge").find(".gdt-form").hide().after("<div class='gdt-message'>"+d+"</div>"),c("#contact-concierge-form").find(".form_button_submit").removeClass("loading")}}),void a.preventDefault())}b.gdt=b.gdt||{};var f="undefined"==typeof b.ontouchstart?"click":"touchend",g=c("div.countryBtn:first"),h=g.find("label.select"),i=h.find("select");c(".js-contact-concierge-btn").modal(),c("body").on(f,".js-contact-concierge-btn",function(){var a=c("#js-contact-concierge"),b=a.find(".captchaID"),e=b.prop("id"),f=b.data("sitekey");a.find(".gdt-message").hide().prev(".gdt-form").show(),d(),c("#recaptcha_challenge_field_holder").remove(),c("#recaptcha_response_field").remove(),a.find(".captchaID").append('<input type="text" id="recaptcha_response_field" required name="recaptcha_response_field" />'),c.getScript("//www.google.com/recaptcha/api/js/recaptcha_ajax.js",function(){c("#recaptcha_image").remove(),c('<div id="recaptcha_image"></div>').insertBefore(c("#"+e+" .recaptcha_only_if_incorrect_sol")),window.Recaptcha.create(f,e,window.RecaptchaOptions)})}),c("#contact-concierge-form").submit(e)}(document,window,window.jQuery||window.Zepto),function(a,b,c){b.gdt=b.gdt||{};var d=function(){function a(){var a=b.getComputedStyle?parseInt(b.getComputedStyle(k[0],":after").getPropertyValue("height"),10):0;k.css("max-height",l.height()+a+"px"),b.gdt.Utils.Browser.isMobileLayout&&j.css("margin-top",l.height()+a+"px")}function d(){k.show(),j.addClass(n),a()}function e(){k.css({"max-height":0,"margin-bottom":0}),b.gdt.Utils.Browser.isMobileLayout&&j.css("margin-top",0),setTimeout(function(){j.removeClass(n)},500);try{b.localStorage.setItem("cookieMessage",JSON.stringify({hide:!0}))}catch(a){}}function f(){m.on(h,function(a){e(),a.preventDefault()}),c(b).smartresize(function(){j.hasClass(n)&&a()}),c('footer .cookies[href$="#cookies"]').on("click",function(a){a.preventDefault(),a.stopPropagation(),"undefined"!=typeof cookieconsent&&b.cookieconsent("show"),k.length&&d()})}function g(){k.length&&(i&&i.hide||d()),f()}var h="undefined"==typeof window.ontouchstart?"click":"touchend",i=b.localStorage.cookieMessage?JSON.parse(b.localStorage.cookieMessage):void 0,j=c("body"),k=c("#js-cookies-bar"),l=k.find(".cookies-bar-inner"),m=c("#js-cookies-bar-accept"),n="cookies-bar-visible";g()};b.gdt.CookiesBar=new d}(document,window,window.jQuery||window.Zepto),function(a,b){b.countriesWithCapitals=[{CountryName:"Somaliland",CapitalName:"Hargeisa",CapitalLatitude:"9.55",CapitalLongitude:"44.050000",CountryCode:"NULL",ContinentName:"Africa"},{CountryName:"South Georgia and South Sandwich Islands",CapitalName:"King Edward Point",CapitalLatitude:"-54.283333",CapitalLongitude:"-36.500000",CountryCode:"GS",ContinentName:"Antarctica"},{CountryName:"French Southern and Antarctic Lands",CapitalName:"Port-aux-FranÃƒÂ§ais",CapitalLatitude:"-49.35",CapitalLongitude:"70.216667",CountryCode:"TF",ContinentName:"Antarctica"},{CountryName:"PALESTINIAN TERRITORY, OCCUPIED",CapitalName:"Jerusalem",CapitalLatitude:"31.766666666666666",CapitalLongitude:"35.233333",CountryCode:"PS",ContinentName:"Asia"},{CountryName:"Aland Islands",CapitalName:"Mariehamn",CapitalLatitude:"60.116667",CapitalLongitude:"19.900000",CountryCode:"AX",ContinentName:"Europe"},{CountryName:"Nauru",CapitalName:"Yaren",CapitalLatitude:"-0.5477",CapitalLongitude:"166.920867",CountryCode:"NR",ContinentName:"Australia"},{CountryName:"Saint Martin",CapitalName:"Marigot",CapitalLatitude:"18.0731",CapitalLongitude:"-63.082200",CountryCode:"MF",ContinentName:"North America"},{CountryName:"Tokelau",CapitalName:"Atafu",CapitalLatitude:"-9.166667",CapitalLongitude:"-171.833333",CountryCode:"TK",ContinentName:"Australia"},{CountryName:"Western Sahara",CapitalName:"El-AaiÃƒÂºn",CapitalLatitude:"27.153611",CapitalLongitude:"-13.203333",CountryCode:"EH",ContinentName:"Africa"},{CountryName:"Afghanistan",CapitalName:"Kabul",CapitalLatitude:"34.516666666666666",CapitalLongitude:"69.183333",CountryCode:"AF",ContinentName:"Asia"},{CountryName:"Albania",CapitalName:"Tirana",CapitalLatitude:"41.31666666666667",CapitalLongitude:"19.816667",CountryCode:"AL",ContinentName:"Europe"},{CountryName:"Algeria",CapitalName:"Algiers",CapitalLatitude:"36.75",CapitalLongitude:"3.050000",CountryCode:"DZ",ContinentName:"Africa"},{CountryName:"American Samoa",CapitalName:"Pago Pago",CapitalLatitude:"-14.266666666666667",CapitalLongitude:"-170.700000",CountryCode:"AS",ContinentName:"Australia"},{CountryName:"Andorra",CapitalName:"Andorra la Vella",CapitalLatitude:"42.5",CapitalLongitude:"1.516667",CountryCode:"AD",ContinentName:"Europe"},{CountryName:"Angola",CapitalName:"Luanda",CapitalLatitude:"-8.833333333333334",CapitalLongitude:"13.216667",CountryCode:"AO",ContinentName:"Africa"},{CountryName:"Anguilla",CapitalName:"The Valley",CapitalLatitude:"18.216666666666665",CapitalLongitude:"-63.050000",CountryCode:"AI",ContinentName:"North America"},{CountryName:"ANTIGUA AND BARBUDA",CapitalName:"Saint John's",CapitalLatitude:"17.116666666666667",CapitalLongitude:"-61.850000",CountryCode:"AG",ContinentName:"North America"},{CountryName:"ARGENTINA",CapitalName:"Buenos Aires",CapitalLatitude:"-34.583333333333336",CapitalLongitude:"-58.666667",CountryCode:"AR",ContinentName:"South America"},{CountryName:"ARMENIA",CapitalName:"Yerevan",CapitalLatitude:"40.166666666666664",CapitalLongitude:"44.500000",CountryCode:"AM",ContinentName:"Europe"},{CountryName:"ARUBA",CapitalName:"Oranjestad",CapitalLatitude:"12.516666666666667",CapitalLongitude:"-70.033333",CountryCode:"AW",ContinentName:"North America"},{CountryName:"AUSTRALIA",CapitalName:"Canberra",CapitalLatitude:"-35.266666666666666",CapitalLongitude:"149.133333",CountryCode:"AU",ContinentName:"Australia"},{CountryName:"AUSTRIA",CapitalName:"Vienna",CapitalLatitude:"48.2",CapitalLongitude:"16.366667",CountryCode:"AT",ContinentName:"Europe"},{CountryName:"Azerbaijan",CapitalName:"Baku",CapitalLatitude:"40.38333333333333",CapitalLongitude:"49.866667",CountryCode:"AZ",ContinentName:"Europe"},{CountryName:"Bahamas",CapitalName:"Nassau",CapitalLatitude:"25.083333333333332",CapitalLongitude:"-77.350000",CountryCode:"BS",ContinentName:"North America"},{CountryName:"Bahrain",CapitalName:"Manama",CapitalLatitude:"26.233333333333334",CapitalLongitude:"50.566667",CountryCode:"BH",ContinentName:"Asia"},{CountryName:"Bangladesh",CapitalName:"Dhaka",CapitalLatitude:"23.716666666666665",CapitalLongitude:"90.400000",CountryCode:"BD",ContinentName:"Asia"},{CountryName:"Barbados",CapitalName:"Bridgetown",CapitalLatitude:"13.1",CapitalLongitude:"-59.616667",CountryCode:"BB",ContinentName:"North America"},{CountryName:"Belarus",CapitalName:"Minsk",CapitalLatitude:"53.9",CapitalLongitude:"27.566667",CountryCode:"BY",ContinentName:"Europe"},{CountryName:"Belgium",CapitalName:"Brussels",CapitalLatitude:"50.833333333333336",CapitalLongitude:"4.333333",CountryCode:"BE",ContinentName:"Europe"},{CountryName:"Belize",CapitalName:"Belmopan",CapitalLatitude:"17.25",CapitalLongitude:"-88.766667",CountryCode:"BZ",ContinentName:"Central America"},{CountryName:"Benin",CapitalName:"Porto-Novo",CapitalLatitude:"6.483333333333333",CapitalLongitude:"2.616667",CountryCode:"BJ",ContinentName:"Africa"},{CountryName:"Bermuda",CapitalName:"Hamilton",CapitalLatitude:"32.28333333333333",CapitalLongitude:"-64.783333",CountryCode:"BM",ContinentName:"North America"},{CountryName:"Bhutan",CapitalName:"Thimphu",CapitalLatitude:"27.466666666666665",CapitalLongitude:"89.633333",CountryCode:"BT",ContinentName:"Asia"},{CountryName:"BOLIVIA, PLURINATIONAL STATE OF",CapitalName:"La Paz",CapitalLatitude:"-16.5",CapitalLongitude:"-68.150000",CountryCode:"BO",ContinentName:"South America"},{CountryName:"Bosnia and Herzegovina",CapitalName:"Sarajevo",CapitalLatitude:"43.86666666666667",CapitalLongitude:"18.416667",CountryCode:"BA",ContinentName:"Europe"},{CountryName:"Botswana",CapitalName:"Gaborone",CapitalLatitude:"-24.633333333333333",CapitalLongitude:"25.900000",CountryCode:"BW",ContinentName:"Africa"},{CountryName:"Brazil",CapitalName:"Brasilia",CapitalLatitude:"-15.783333333333333",CapitalLongitude:"-47.916667",CountryCode:"BR",ContinentName:"South America"},{CountryName:"VIRGIN ISLANDS-BRITISH",CapitalName:"Road Town",CapitalLatitude:"18.416666666666668",CapitalLongitude:"-64.616667",CountryCode:"VG",ContinentName:"North America"},{CountryName:"Brunei Darussalam",CapitalName:"Bandar Seri Begawan",CapitalLatitude:"4.883333333333333",CapitalLongitude:"114.933333",CountryCode:"BN",ContinentName:"Asia"},{CountryName:"Bulgaria",CapitalName:"Sofia",CapitalLatitude:"42.68333333333333",CapitalLongitude:"23.316667",CountryCode:"BG",ContinentName:"Europe"},{CountryName:"Burkina Faso",CapitalName:"Ouagadougou",CapitalLatitude:"12.366666666666667",CapitalLongitude:"-1.516667",CountryCode:"BF",ContinentName:"Africa"},{CountryName:"Myanmar",CapitalName:"Rangoon",CapitalLatitude:"16.8",CapitalLongitude:"96.150000",CountryCode:"MM",ContinentName:"Asia"},{CountryName:"Burundi",CapitalName:"Bujumbura",CapitalLatitude:"-3.3666666666666667",CapitalLongitude:"29.350000",CountryCode:"BI",ContinentName:"Africa"},{CountryName:"Cambodia",CapitalName:"Phnom Penh",CapitalLatitude:"11.55",CapitalLongitude:"104.916667",CountryCode:"KH",ContinentName:"Asia"},{CountryName:"Cameroon",CapitalName:"Yaounde",CapitalLatitude:"3.8666666666666667",CapitalLongitude:"11.516667",CountryCode:"CM",ContinentName:"Africa"},{CountryName:"Canada",CapitalName:"Ottawa",CapitalLatitude:"45.416666666666664",CapitalLongitude:"-75.700000",CountryCode:"CA",ContinentName:"Central America"},{CountryName:"Cape Verde",CapitalName:"Praia",CapitalLatitude:"14.916666666666666",CapitalLongitude:"-23.516667",CountryCode:"CV",ContinentName:"Africa"},{CountryName:"Cayman Islands",CapitalName:"George Town",CapitalLatitude:"19.3",CapitalLongitude:"-81.383333",CountryCode:"KY",ContinentName:"North America"},{CountryName:"Central African Republic",CapitalName:"Bangui",CapitalLatitude:"4.366666666666666",CapitalLongitude:"18.583333",CountryCode:"CF",ContinentName:"Africa"},{CountryName:"Chad",CapitalName:"N'Djamena",CapitalLatitude:"12.1",CapitalLongitude:"15.033333",CountryCode:"TD",ContinentName:"Africa"},{CountryName:"Chile",CapitalName:"Santiago",CapitalLatitude:"-33.45",CapitalLongitude:"-70.666667",CountryCode:"CL",ContinentName:"South America"},{CountryName:"China",CapitalName:"Beijing",CapitalLatitude:"39.916666666666664",CapitalLongitude:"116.383333",CountryCode:"CN",ContinentName:"Asia"},{CountryName:"Christmas Island",CapitalName:"The Settlement",CapitalLatitude:"-10.416666666666666",CapitalLongitude:"105.716667",CountryCode:"CX",ContinentName:"Australia"},{CountryName:"Cocos Islands",CapitalName:"West Island",CapitalLatitude:"-12.166666666666666",CapitalLongitude:"96.833333",CountryCode:"CC",ContinentName:"Australia"},{CountryName:"Colombia",CapitalName:"Bogota",CapitalLatitude:"4.6",CapitalLongitude:"-74.083333",CountryCode:"CO",ContinentName:"South America"},{CountryName:"Comoros",CapitalName:"Moroni",CapitalLatitude:"-11.7",CapitalLongitude:"43.233333",CountryCode:"KM",ContinentName:"Africa"},{CountryName:"CONGO, THE DEMOCRATIC REPUBLIC OF THE",CapitalName:"Kinshasa",CapitalLatitude:"-4.316666666666666",CapitalLongitude:"15.300000",CountryCode:"CD",ContinentName:"Africa"},{CountryName:"Republic of Congo",CapitalName:"Brazzaville",CapitalLatitude:"-4.25",CapitalLongitude:"15.283333",CountryCode:"CG",ContinentName:"Africa"},{CountryName:"Cook Islands",CapitalName:"Avarua",CapitalLatitude:"-21.2",CapitalLongitude:"-159.766667",CountryCode:"CK",ContinentName:"Australia"},{CountryName:"Costa Rica",CapitalName:"San Jose",CapitalLatitude:"9.933333333333334",CapitalLongitude:"-84.083333",CountryCode:"CR",ContinentName:"Central America"},{CountryName:"Cote d'Ivoire",CapitalName:"Yamoussoukro",CapitalLatitude:"6.816666666666666",CapitalLongitude:"-5.266667",CountryCode:"CI",ContinentName:"Africa"},{CountryName:"Croatia",CapitalName:"Zagreb",CapitalLatitude:"45.8",CapitalLongitude:"16.000000",CountryCode:"HR",ContinentName:"Europe"},{CountryName:"Cuba",CapitalName:"Havana",CapitalLatitude:"23.116666666666667",CapitalLongitude:"-82.350000",CountryCode:"CU",ContinentName:"North America"},{CountryName:"CURACAO",CapitalName:"Willemstad",CapitalLatitude:"12.1",CapitalLongitude:"-68.916667",CountryCode:"CW",ContinentName:"North America"},{CountryName:"Cyprus",CapitalName:"Nicosia",CapitalLatitude:"35.166666666666664",CapitalLongitude:"33.366667",CountryCode:"CY",ContinentName:"Europe"},{CountryName:"Czech Republic",CapitalName:"Prague",CapitalLatitude:"50.083333333333336",CapitalLongitude:"14.466667",CountryCode:"CZ",ContinentName:"Europe"},{CountryName:"Denmark",CapitalName:"Copenhagen",CapitalLatitude:"55.666666666666664",CapitalLongitude:"12.583333",CountryCode:"DK",ContinentName:"Europe"},{CountryName:"Djibouti",CapitalName:"Djibouti",CapitalLatitude:"11.583333333333334",CapitalLongitude:"43.150000",CountryCode:"DJ",ContinentName:"Africa"},{CountryName:"Dominica",CapitalName:"Roseau",CapitalLatitude:"15.3",CapitalLongitude:"-61.400000",CountryCode:"DM",ContinentName:"North America"},{CountryName:"Dominican Republic",CapitalName:"Santo Domingo",CapitalLatitude:"18.466666666666665",CapitalLongitude:"-69.900000",CountryCode:"DO",ContinentName:"North America"},{CountryName:"Ecuador",CapitalName:"Quito",CapitalLatitude:"-0.21666666666666667",CapitalLongitude:"-78.500000",CountryCode:"EC",ContinentName:"South America"},{CountryName:"Egypt",CapitalName:"Cairo",CapitalLatitude:"30.05",CapitalLongitude:"31.250000",CountryCode:"EG",ContinentName:"Africa"},{CountryName:"El Salvador",CapitalName:"San Salvador",CapitalLatitude:"13.7",CapitalLongitude:"-89.200000",CountryCode:"SV",ContinentName:"Central America"},{CountryName:"Equatorial Guinea",CapitalName:"Malabo",CapitalLatitude:"3.75",CapitalLongitude:"8.783333",CountryCode:"GQ",ContinentName:"Africa"},{CountryName:"Eritrea",CapitalName:"Asmara",CapitalLatitude:"15.333333333333334",CapitalLongitude:"38.933333",CountryCode:"ER",ContinentName:"Africa"},{CountryName:"Estonia",CapitalName:"Tallinn",CapitalLatitude:"59.43333333333333",CapitalLongitude:"24.716667",CountryCode:"EE",ContinentName:"Europe"},{CountryName:"Ethiopia",CapitalName:"Addis Ababa",CapitalLatitude:"9.033333333333333",CapitalLongitude:"38.700000",CountryCode:"ET",ContinentName:"Africa"},{CountryName:"Falkland Islands",CapitalName:"Stanley",CapitalLatitude:"-51.7",CapitalLongitude:"-57.850000",CountryCode:"FK",ContinentName:"South America"},{CountryName:"Faroe Islands",CapitalName:"Torshavn",CapitalLatitude:"62",CapitalLongitude:"-6.766667",CountryCode:"FO",ContinentName:"Europe"},{CountryName:"Fiji",CapitalName:"Suva",CapitalLatitude:"-18.133333333333333",CapitalLongitude:"178.416667",CountryCode:"FJ",ContinentName:"Australia"},{CountryName:"Finland",CapitalName:"Helsinki",CapitalLatitude:"60.166666666666664",CapitalLongitude:"24.933333",CountryCode:"FI",ContinentName:"Europe"},{CountryName:"France",CapitalName:"Paris",CapitalLatitude:"48.86666666666667",CapitalLongitude:"2.333333",CountryCode:"FR",ContinentName:"Europe"},{CountryName:"French Polynesia",CapitalName:"Papeete",CapitalLatitude:"-17.533333333333335",CapitalLongitude:"-149.566667",CountryCode:"PF",ContinentName:"Australia"},{CountryName:"Gabon",CapitalName:"Libreville",CapitalLatitude:"0.38333333333333336",CapitalLongitude:"9.450000",CountryCode:"GA",ContinentName:"Africa"},{CountryName:"The Gambia",CapitalName:"Banjul",CapitalLatitude:"13.45",CapitalLongitude:"-16.566667",CountryCode:"GM",ContinentName:"Africa"},{CountryName:"Georgia",CapitalName:"Tbilisi",CapitalLatitude:"41.68333333333333",CapitalLongitude:"44.833333",CountryCode:"GE",ContinentName:"Europe"},{CountryName:"Germany",CapitalName:"Berlin",CapitalLatitude:"52.516666666666666",CapitalLongitude:"13.400000",CountryCode:"DE",ContinentName:"Europe"},{CountryName:"Ghana",CapitalName:"Accra",CapitalLatitude:"5.55",CapitalLongitude:"-0.216667",CountryCode:"GH",ContinentName:"Africa"},{CountryName:"Gibraltar",CapitalName:"Gibraltar",CapitalLatitude:"36.13333333333333",CapitalLongitude:"-5.350000",CountryCode:"GI",ContinentName:"Europe"},{CountryName:"Greece",CapitalName:"Athens",CapitalLatitude:"37.983333333333334",CapitalLongitude:"23.733333",CountryCode:"GR",ContinentName:"Europe"},{CountryName:"Greenland",CapitalName:"Nuuk",CapitalLatitude:"64.18333333333334",CapitalLongitude:"-51.750000",CountryCode:"GL",ContinentName:"Central America"},{CountryName:"Grenada",CapitalName:"Saint George's",CapitalLatitude:"12.05",CapitalLongitude:"-61.750000",CountryCode:"GD",ContinentName:"North America"},{CountryName:"Guam",CapitalName:"Hagatna",CapitalLatitude:"13.466666666666667",CapitalLongitude:"144.733333",CountryCode:"GU",ContinentName:"Australia"},{CountryName:"Guatemala",CapitalName:"Guatemala City",CapitalLatitude:"14.616666666666667",CapitalLongitude:"-90.516667",CountryCode:"GT",ContinentName:"Central America"},{CountryName:"Guernsey",CapitalName:"Saint Peter Port",CapitalLatitude:"49.45",CapitalLongitude:"-2.533333",CountryCode:"GG",ContinentName:"Europe"},{CountryName:"Guinea",CapitalName:"Conakry",CapitalLatitude:"9.5",CapitalLongitude:"-13.700000",CountryCode:"GN",ContinentName:"Africa"},{CountryName:"Guinea-Bissau",CapitalName:"Bissau",CapitalLatitude:"11.85",CapitalLongitude:"-15.583333",CountryCode:"GW",ContinentName:"Africa"},{CountryName:"Guyana",CapitalName:"Georgetown",CapitalLatitude:"6.8",CapitalLongitude:"-58.150000",CountryCode:"GY",ContinentName:"South America"},{CountryName:"Haiti",CapitalName:"Port-au-Prince",CapitalLatitude:"18.533333333333335",CapitalLongitude:"-72.333333",CountryCode:"HT",ContinentName:"North America"},{CountryName:"Vatican City",CapitalName:"Vatican City",CapitalLatitude:"41.9",CapitalLongitude:"12.450000",CountryCode:"VA",ContinentName:"Europe"},{CountryName:"Honduras",CapitalName:"Tegucigalpa",CapitalLatitude:"14.1",CapitalLongitude:"-87.216667",CountryCode:"HN",ContinentName:"Central America"},{CountryName:"Hungary",CapitalName:"Budapest",CapitalLatitude:"47.5",CapitalLongitude:"19.083333",CountryCode:"HU",ContinentName:"Europe"},{CountryName:"Iceland",CapitalName:"Reykjavik",CapitalLatitude:"64.15",CapitalLongitude:"-21.950000",CountryCode:"IS",ContinentName:"Europe"},{CountryName:"India",CapitalName:"New Delhi",CapitalLatitude:"28.6",CapitalLongitude:"77.200000",CountryCode:"IN",ContinentName:"Asia"},{CountryName:"Indonesia",CapitalName:"Jakarta",CapitalLatitude:"-6.166666666666667",CapitalLongitude:"106.816667",CountryCode:"ID",ContinentName:"Asia"},{CountryName:"IRAN. ISLAMIC REPUBLIC OF",CapitalName:"Tehran",CapitalLatitude:"35.7",CapitalLongitude:"51.416667",CountryCode:"IR",ContinentName:"Asia"},{CountryName:"Iraq",CapitalName:"Baghdad",CapitalLatitude:"33.333333333333336",CapitalLongitude:"44.400000",CountryCode:"IQ",ContinentName:"Asia"},{CountryName:"Ireland",CapitalName:"Dublin",CapitalLatitude:"53.31666666666667",CapitalLongitude:"-6.233333",CountryCode:"IE",ContinentName:"Europe"},{CountryName:"Isle of Man",CapitalName:"Douglas",CapitalLatitude:"54.15",CapitalLongitude:"-4.483333",CountryCode:"IM",ContinentName:"Europe"},{CountryName:"Israel",CapitalName:"Jerusalem",CapitalLatitude:"31.766666666666666",CapitalLongitude:"35.233333",CountryCode:"IL",ContinentName:"Asia"},{CountryName:"Italy",CapitalName:"Rome",CapitalLatitude:"41.9",CapitalLongitude:"12.483333",CountryCode:"IT",ContinentName:"Europe"},{CountryName:"Jamaica",CapitalName:"Kingston",CapitalLatitude:"18",CapitalLongitude:"-76.800000",CountryCode:"JM",ContinentName:"North America"},{CountryName:"Japan",CapitalName:"Tokyo",CapitalLatitude:"35.68333333333333",CapitalLongitude:"139.750000",CountryCode:"JP",ContinentName:"Asia"},{CountryName:"Jersey",CapitalName:"Saint Helier",CapitalLatitude:"49.18333333333333",CapitalLongitude:"-2.100000",CountryCode:"JE",ContinentName:"Europe"},{CountryName:"Jordan",CapitalName:"Amman",CapitalLatitude:"31.95",CapitalLongitude:"35.933333",CountryCode:"JO",ContinentName:"Asia"},{CountryName:"Kazakhstan",CapitalName:"Astana",CapitalLatitude:"51.166666666666664",CapitalLongitude:"71.416667",CountryCode:"KZ",ContinentName:"Asia"},{CountryName:"Kenya",CapitalName:"Nairobi",CapitalLatitude:"-1.2833333333333332",CapitalLongitude:"36.816667",CountryCode:"KE",ContinentName:"Africa"},{CountryName:"Kiribati",CapitalName:"Tarawa",CapitalLatitude:"-0.8833333333333333",CapitalLongitude:"169.533333",CountryCode:"KI",ContinentName:"Australia"},{CountryName:"KOREA, DEMOCRATIC PEOPLE'S REPUBLIC OF",CapitalName:"Pyongyang",CapitalLatitude:"39.016666666666666",CapitalLongitude:"125.750000",CountryCode:"KP",ContinentName:"Asia"},{CountryName:"KOREA. REPUBLIC OF",CapitalName:"Seoul",CapitalLatitude:"37.55",CapitalLongitude:"126.983333",CountryCode:"KR",ContinentName:"Asia"},{CountryName:"Kosovo",CapitalName:"Pristina",CapitalLatitude:"42.666666666666664",CapitalLongitude:"21.166667",CountryCode:"KO",ContinentName:"Europe"},{CountryName:"Kuwait",CapitalName:"Kuwait City",CapitalLatitude:"29.366666666666667",CapitalLongitude:"47.966667",CountryCode:"KW",ContinentName:"Asia"},{CountryName:"Kyrgyzstan",CapitalName:"Bishkek",CapitalLatitude:"42.86666666666667",CapitalLongitude:"74.600000",CountryCode:"KG",ContinentName:"Asia"},{CountryName:"LAO PEOPLE'S DEMOCRATIC REPUBLIC",CapitalName:"Vientiane",
CapitalLatitude:"17.966666666666665",CapitalLongitude:"102.600000",CountryCode:"LA",ContinentName:"Asia"},{CountryName:"Latvia",CapitalName:"Riga",CapitalLatitude:"56.95",CapitalLongitude:"24.100000",CountryCode:"LV",ContinentName:"Europe"},{CountryName:"Lebanon",CapitalName:"Beirut",CapitalLatitude:"33.86666666666667",CapitalLongitude:"35.500000",CountryCode:"LB",ContinentName:"Asia"},{CountryName:"Lesotho",CapitalName:"Maseru",CapitalLatitude:"-29.316666666666666",CapitalLongitude:"27.483333",CountryCode:"LS",ContinentName:"Africa"},{CountryName:"Liberia",CapitalName:"Monrovia",CapitalLatitude:"6.3",CapitalLongitude:"-10.800000",CountryCode:"LR",ContinentName:"Africa"},{CountryName:"Libya",CapitalName:"Tripoli",CapitalLatitude:"32.88333333333333",CapitalLongitude:"13.166667",CountryCode:"LY",ContinentName:"Africa"},{CountryName:"Liechtenstein",CapitalName:"Vaduz",CapitalLatitude:"47.13333333333333",CapitalLongitude:"9.516667",CountryCode:"LI",ContinentName:"Europe"},{CountryName:"Lithuania",CapitalName:"Vilnius",CapitalLatitude:"54.68333333333333",CapitalLongitude:"25.316667",CountryCode:"LT",ContinentName:"Europe"},{CountryName:"Luxembourg",CapitalName:"Luxembourg",CapitalLatitude:"49.6",CapitalLongitude:"6.116667",CountryCode:"LU",ContinentName:"Europe"},{CountryName:"MACEDONIA, THE FORMER YUGOSLAV REPUBLIC OF",CapitalName:"Skopje",CapitalLatitude:"42",CapitalLongitude:"21.433333",CountryCode:"MK",ContinentName:"Europe"},{CountryName:"Madagascar",CapitalName:"Antananarivo",CapitalLatitude:"-18.916666666666668",CapitalLongitude:"47.516667",CountryCode:"MG",ContinentName:"Africa"},{CountryName:"Malawi",CapitalName:"Lilongwe",CapitalLatitude:"-13.966666666666667",CapitalLongitude:"33.783333",CountryCode:"MW",ContinentName:"Africa"},{CountryName:"Malaysia",CapitalName:"Kuala Lumpur",CapitalLatitude:"3.1666666666666665",CapitalLongitude:"101.700000",CountryCode:"MY",ContinentName:"Asia"},{CountryName:"Maldives",CapitalName:"Male",CapitalLatitude:"4.166666666666667",CapitalLongitude:"73.500000",CountryCode:"MV",ContinentName:"Asia"},{CountryName:"Mali",CapitalName:"Bamako",CapitalLatitude:"12.65",CapitalLongitude:"-8.000000",CountryCode:"ML",ContinentName:"Africa"},{CountryName:"Malta",CapitalName:"Valletta",CapitalLatitude:"35.88333333333333",CapitalLongitude:"14.500000",CountryCode:"MT",ContinentName:"Europe"},{CountryName:"Marshall Islands",CapitalName:"Majuro",CapitalLatitude:"7.1",CapitalLongitude:"171.383333",CountryCode:"MH",ContinentName:"Australia"},{CountryName:"Mauritania",CapitalName:"Nouakchott",CapitalLatitude:"18.066666666666666",CapitalLongitude:"-15.966667",CountryCode:"MR",ContinentName:"Africa"},{CountryName:"Mauritius",CapitalName:"Port Louis",CapitalLatitude:"-20.15",CapitalLongitude:"57.483333",CountryCode:"MU",ContinentName:"Africa"},{CountryName:"Mexico",CapitalName:"Mexico City",CapitalLatitude:"19.433333333333334",CapitalLongitude:"-99.133333",CountryCode:"MX",ContinentName:"Central America"},{CountryName:"Federated States of Micronesia",CapitalName:"Palikir",CapitalLatitude:"6.916666666666667",CapitalLongitude:"158.150000",CountryCode:"FM",ContinentName:"Australia"},{CountryName:"MOLDOVA, REPUBLIC OF",CapitalName:"Chisinau",CapitalLatitude:"47",CapitalLongitude:"28.850000",CountryCode:"MD",ContinentName:"Europe"},{CountryName:"Monaco",CapitalName:"Monaco",CapitalLatitude:"43.733333333333334",CapitalLongitude:"7.416667",CountryCode:"MC",ContinentName:"Europe"},{CountryName:"Mongolia",CapitalName:"Ulaanbaatar",CapitalLatitude:"47.916666666666664",CapitalLongitude:"106.916667",CountryCode:"MN",ContinentName:"Asia"},{CountryName:"Montenegro",CapitalName:"Podgorica",CapitalLatitude:"42.43333333333333",CapitalLongitude:"19.266667",CountryCode:"ME",ContinentName:"Europe"},{CountryName:"Montserrat",CapitalName:"Plymouth",CapitalLatitude:"16.7",CapitalLongitude:"-62.216667",CountryCode:"MS",ContinentName:"North America"},{CountryName:"Morocco",CapitalName:"Rabat",CapitalLatitude:"34.016666666666666",CapitalLongitude:"-6.816667",CountryCode:"MA",ContinentName:"Africa"},{CountryName:"Mozambique",CapitalName:"Maputo",CapitalLatitude:"-25.95",CapitalLongitude:"32.583333",CountryCode:"MZ",ContinentName:"Africa"},{CountryName:"Namibia",CapitalName:"Windhoek",CapitalLatitude:"-22.566666666666666",CapitalLongitude:"17.083333",CountryCode:"NA",ContinentName:"Africa"},{CountryName:"Nepal",CapitalName:"Kathmandu",CapitalLatitude:"27.716666666666665",CapitalLongitude:"85.316667",CountryCode:"NP",ContinentName:"Asia"},{CountryName:"Netherlands",CapitalName:"Amsterdam",CapitalLatitude:"52.35",CapitalLongitude:"4.916667",CountryCode:"NL",ContinentName:"Europe"},{CountryName:"New Caledonia",CapitalName:"Noumea",CapitalLatitude:"-22.266666666666666",CapitalLongitude:"166.450000",CountryCode:"NC",ContinentName:"Australia"},{CountryName:"New Zealand",CapitalName:"Wellington",CapitalLatitude:"-41.3",CapitalLongitude:"174.783333",CountryCode:"NZ",ContinentName:"Australia"},{CountryName:"Nicaragua",CapitalName:"Managua",CapitalLatitude:"12.133333333333333",CapitalLongitude:"-86.250000",CountryCode:"NI",ContinentName:"Central America"},{CountryName:"Niger",CapitalName:"Niamey",CapitalLatitude:"13.516666666666667",CapitalLongitude:"2.116667",CountryCode:"NE",ContinentName:"Africa"},{CountryName:"Nigeria",CapitalName:"Abuja",CapitalLatitude:"9.083333333333334",CapitalLongitude:"7.533333",CountryCode:"NG",ContinentName:"Africa"},{CountryName:"Niue",CapitalName:"Alofi",CapitalLatitude:"-19.016666666666666",CapitalLongitude:"-169.916667",CountryCode:"NU",ContinentName:"Australia"},{CountryName:"Norfolk Island",CapitalName:"Kingston",CapitalLatitude:"-29.05",CapitalLongitude:"167.966667",CountryCode:"NF",ContinentName:"Australia"},{CountryName:"Northern Mariana Islands",CapitalName:"Saipan",CapitalLatitude:"15.2",CapitalLongitude:"145.750000",CountryCode:"MP",ContinentName:"Australia"},{CountryName:"Norway",CapitalName:"Oslo",CapitalLatitude:"59.916666666666664",CapitalLongitude:"10.750000",CountryCode:"NO",ContinentName:"Europe"},{CountryName:"Oman",CapitalName:"Muscat",CapitalLatitude:"23.616666666666667",CapitalLongitude:"58.583333",CountryCode:"OM",ContinentName:"Asia"},{CountryName:"Pakistan",CapitalName:"Islamabad",CapitalLatitude:"33.68333333333333",CapitalLongitude:"73.050000",CountryCode:"PK",ContinentName:"Asia"},{CountryName:"Palau",CapitalName:"Melekeok",CapitalLatitude:"7.483333333333333",CapitalLongitude:"134.633333",CountryCode:"PW",ContinentName:"Australia"},{CountryName:"Panama",CapitalName:"Panama City",CapitalLatitude:"8.966666666666667",CapitalLongitude:"-79.533333",CountryCode:"PA",ContinentName:"Central America"},{CountryName:"Papua New Guinea",CapitalName:"Port Moresby",CapitalLatitude:"-9.45",CapitalLongitude:"147.183333",CountryCode:"PG",ContinentName:"Australia"},{CountryName:"Paraguay",CapitalName:"Asuncion",CapitalLatitude:"-25.266666666666666",CapitalLongitude:"-57.666667",CountryCode:"PY",ContinentName:"South America"},{CountryName:"Peru",CapitalName:"Lima",CapitalLatitude:"-12.05",CapitalLongitude:"-77.050000",CountryCode:"PE",ContinentName:"South America"},{CountryName:"Philippines",CapitalName:"Manila",CapitalLatitude:"14.6",CapitalLongitude:"120.966667",CountryCode:"PH",ContinentName:"Asia"},{CountryName:"Pitcairn Islands",CapitalName:"Adamstown",CapitalLatitude:"-25.066666666666666",CapitalLongitude:"-130.083333",CountryCode:"PN",ContinentName:"Australia"},{CountryName:"Poland",CapitalName:"Warsaw",CapitalLatitude:"52.25",CapitalLongitude:"21.000000",CountryCode:"PL",ContinentName:"Europe"},{CountryName:"Portugal",CapitalName:"Lisbon",CapitalLatitude:"38.71666666666667",CapitalLongitude:"-9.133333",CountryCode:"PT",ContinentName:"Europe"},{CountryName:"Puerto Rico",CapitalName:"San Juan",CapitalLatitude:"18.466666666666665",CapitalLongitude:"-66.116667",CountryCode:"PR",ContinentName:"North America"},{CountryName:"Qatar",CapitalName:"Doha",CapitalLatitude:"25.283333333333335",CapitalLongitude:"51.533333",CountryCode:"QA",ContinentName:"Asia"},{CountryName:"Romania",CapitalName:"Bucharest",CapitalLatitude:"44.43333333333333",CapitalLongitude:"26.100000",CountryCode:"RO",ContinentName:"Europe"},{CountryName:"Russia",CapitalName:"Moscow",CapitalLatitude:"55.75",CapitalLongitude:"37.600000",CountryCode:"RU",ContinentName:"Europe"},{CountryName:"RUSSIAN FEDERATION",CapitalName:"Moscow",CapitalLatitude:"55.75",CapitalLongitude:"37.600000",CountryCode:"RU",ContinentName:"Europe"},{CountryName:"Rwanda",CapitalName:"Kigali",CapitalLatitude:"-1.95",CapitalLongitude:"30.050000",CountryCode:"RW",ContinentName:"Africa"},{CountryName:"Saint Barthelemy",CapitalName:"Gustavia",CapitalLatitude:"17.883333333333333",CapitalLongitude:"-62.850000",CountryCode:"BL",ContinentName:"North America"},{CountryName:"Saint Helena",CapitalName:"Jamestown",CapitalLatitude:"-15.933333333333334",CapitalLongitude:"-5.716667",CountryCode:"SH",ContinentName:"Africa"},{CountryName:"Saint Kitts and Nevis",CapitalName:"Basseterre",CapitalLatitude:"17.3",CapitalLongitude:"-62.716667",CountryCode:"KN",ContinentName:"North America"},{CountryName:"Saint Lucia",CapitalName:"Castries",CapitalLatitude:"14",CapitalLongitude:"-61.000000",CountryCode:"LC",ContinentName:"North America"},{CountryName:"Saint Pierre and Miquelon",CapitalName:"Saint-Pierre",CapitalLatitude:"46.766666666666666",CapitalLongitude:"-56.183333",CountryCode:"PM",ContinentName:"Central America"},{CountryName:"Saint Vincent and the Grenadines",CapitalName:"Kingstown",CapitalLatitude:"13.133333333333333",CapitalLongitude:"-61.216667",CountryCode:"VC",ContinentName:"Central America"},{CountryName:"Samoa",CapitalName:"Apia",CapitalLatitude:"-13.816666666666666",CapitalLongitude:"-171.766667",CountryCode:"WS",ContinentName:"Australia"},{CountryName:"San Marino",CapitalName:"San Marino",CapitalLatitude:"43.93333333333333",CapitalLongitude:"12.416667",CountryCode:"SM",ContinentName:"Europe"},{CountryName:"Sao Tome and Principe",CapitalName:"Sao Tome",CapitalLatitude:"0.3333333333333333",CapitalLongitude:"6.733333",CountryCode:"ST",ContinentName:"Africa"},{CountryName:"Saudi Arabia",CapitalName:"Riyadh",CapitalLatitude:"24.65",CapitalLongitude:"46.700000",CountryCode:"SA",ContinentName:"Asia"},{CountryName:"Senegal",CapitalName:"Dakar",CapitalLatitude:"14.733333333333333",CapitalLongitude:"-17.633333",CountryCode:"SN",ContinentName:"Africa"},{CountryName:"Serbia",CapitalName:"Belgrade",CapitalLatitude:"44.833333333333336",CapitalLongitude:"20.500000",CountryCode:"RS",ContinentName:"Europe"},{CountryName:"Seychelles",CapitalName:"Victoria",CapitalLatitude:"-4.616666666666667",CapitalLongitude:"55.450000",CountryCode:"SC",ContinentName:"Africa"},{CountryName:"Sierra Leone",CapitalName:"Freetown",CapitalLatitude:"8.483333333333333",CapitalLongitude:"-13.233333",CountryCode:"SL",ContinentName:"Africa"},{CountryName:"Singapore",CapitalName:"Singapore",CapitalLatitude:"1.2833333333333332",CapitalLongitude:"103.850000",CountryCode:"SG",ContinentName:"Asia"},{CountryName:"SINT MAARTEN (DUTCH PART)",CapitalName:"Philipsburg",CapitalLatitude:"18.016666666666666",CapitalLongitude:"-63.033333",CountryCode:"SX",ContinentName:"North America"},{CountryName:"Slovakia",CapitalName:"Bratislava",CapitalLatitude:"48.15",CapitalLongitude:"17.116667",CountryCode:"SK",ContinentName:"Europe"},{CountryName:"Slovenia",CapitalName:"Ljubljana",CapitalLatitude:"46.05",CapitalLongitude:"14.516667",CountryCode:"SI",ContinentName:"Europe"},{CountryName:"Solomon Islands",CapitalName:"Honiara",CapitalLatitude:"-9.433333333333334",CapitalLongitude:"159.950000",CountryCode:"SB",ContinentName:"Australia"},{CountryName:"Somalia",CapitalName:"Mogadishu",CapitalLatitude:"2.066666666666667",CapitalLongitude:"45.333333",CountryCode:"SO",ContinentName:"Africa"},{CountryName:"South Africa",CapitalName:"Pretoria",CapitalLatitude:"-25.7",CapitalLongitude:"28.216667",CountryCode:"ZA",ContinentName:"Africa"},{CountryName:"South Sudan",CapitalName:"Juba",CapitalLatitude:"4.85",CapitalLongitude:"31.616667",CountryCode:"SS",ContinentName:"Africa"},{CountryName:"Spain",CapitalName:"Madrid",CapitalLatitude:"40.4",CapitalLongitude:"-3.683333",CountryCode:"ES",ContinentName:"Europe"},{CountryName:"Sri Lanka",CapitalName:"Colombo",CapitalLatitude:"6.916666666666667",CapitalLongitude:"79.833333",CountryCode:"LK",ContinentName:"Asia"},{CountryName:"Sudan",CapitalName:"Khartoum",CapitalLatitude:"15.6",CapitalLongitude:"32.533333",CountryCode:"SD",ContinentName:"Africa"},{CountryName:"Suriname",CapitalName:"Paramaribo",CapitalLatitude:"5.833333333333333",CapitalLongitude:"-55.166667",CountryCode:"SR",ContinentName:"South America"},{CountryName:"Svalbard",CapitalName:"Longyearbyen",CapitalLatitude:"78.21666666666667",CapitalLongitude:"15.633333",CountryCode:"SJ",ContinentName:"Europe"},{CountryName:"Swaziland",CapitalName:"Mbabane",CapitalLatitude:"-26.316666666666666",CapitalLongitude:"31.133333",CountryCode:"SZ",ContinentName:"Africa"},{CountryName:"Sweden",CapitalName:"Stockholm",CapitalLatitude:"59.333333333333336",CapitalLongitude:"18.050000",CountryCode:"SE",ContinentName:"Europe"},{CountryName:"Switzerland",CapitalName:"Bern",CapitalLatitude:"46.916666666666664",CapitalLongitude:"7.466667",CountryCode:"CH",ContinentName:"Europe"},{CountryName:"SYRIAN ARAB REPUBLIC",CapitalName:"Damascus",CapitalLatitude:"33.5",CapitalLongitude:"36.300000",CountryCode:"SY",ContinentName:"Asia"},{CountryName:"Taiwan",CapitalName:"Taipei",CapitalLatitude:"25.033333333333335",CapitalLongitude:"121.516667",CountryCode:"TW",ContinentName:"Asia"},{CountryName:" TAIWAN, PROVINCE OF CHINA",CapitalName:"Taipei",CapitalLatitude:"25.033333333333335",CapitalLongitude:"121.516667",CountryCode:"TW",ContinentName:"Asia"},{CountryName:"Tajikistan",CapitalName:"Dushanbe",CapitalLatitude:"38.55",CapitalLongitude:"68.766667",CountryCode:"TJ",ContinentName:"Asia"},{CountryName:"TANZANIA, UNITED REPUBLIC OF",CapitalName:"Dar es Salaam",CapitalLatitude:"-6.8",CapitalLongitude:"39.283333",CountryCode:"TZ",ContinentName:"Africa"},{CountryName:"Thailand",CapitalName:"Bangkok",CapitalLatitude:"13.75",CapitalLongitude:"100.516667",CountryCode:"TH",ContinentName:"Asia"},{CountryName:"Timor-Leste",CapitalName:"Dili",CapitalLatitude:"-8.583333333333334",CapitalLongitude:"125.600000",CountryCode:"TL",ContinentName:"Asia"},{CountryName:"Togo",CapitalName:"Lome",CapitalLatitude:"6.116666666666666",CapitalLongitude:"1.216667",CountryCode:"TG",ContinentName:"Africa"},{CountryName:"Tonga",CapitalName:"Nuku'alofa",CapitalLatitude:"-21.133333333333333",CapitalLongitude:"-175.200000",CountryCode:"TO",ContinentName:"Australia"},{CountryName:"Trinidad and Tobago",CapitalName:"Port of Spain",CapitalLatitude:"10.65",CapitalLongitude:"-61.516667",CountryCode:"TT",ContinentName:"North America"},{CountryName:"Tunisia",CapitalName:"Tunis",CapitalLatitude:"36.8",CapitalLongitude:"10.183333",CountryCode:"TN",ContinentName:"Africa"},{CountryName:"Turkey",CapitalName:"Ankara",CapitalLatitude:"39.93333333333333",CapitalLongitude:"32.866667",CountryCode:"TR",ContinentName:"Europe"},{CountryName:"Turkmenistan",CapitalName:"Ashgabat",CapitalLatitude:"37.95",CapitalLongitude:"58.383333",CountryCode:"TM",ContinentName:"Asia"},{CountryName:"Turks and Caicos Islands",CapitalName:"Grand Turk",CapitalLatitude:"21.466666666666665",CapitalLongitude:"-71.133333",CountryCode:"TC",ContinentName:"North America"},{CountryName:"Tuvalu",CapitalName:"Funafuti",CapitalLatitude:"-8.516666666666667",CapitalLongitude:"179.216667",CountryCode:"TV",ContinentName:"Australia"},{CountryName:"Uganda",CapitalName:"Kampala",CapitalLatitude:"0.31666666666666665",CapitalLongitude:"32.550000",CountryCode:"UG",ContinentName:"Africa"},{CountryName:"Ukraine",CapitalName:"Kyiv",CapitalLatitude:"50.43333333333333",CapitalLongitude:"30.516667",CountryCode:"UA",ContinentName:"Europe"},{CountryName:"United Arab Emirates",CapitalName:"Abu Dhabi",CapitalLatitude:"24.466666666666665",CapitalLongitude:"54.366667",CountryCode:"AE",ContinentName:"Asia"},{CountryName:"United Kingdom",CapitalName:"London",CapitalLatitude:"51.5",CapitalLongitude:"-0.083333",CountryCode:"GB",ContinentName:"Europe"},{CountryName:"United States",CapitalName:"Washington",CapitalLatitude:" D.C.",CapitalLongitude:"38.883333",CountryCode:"-77.000000",ContinentName:"US"},{CountryName:"USA",CapitalName:"Washington",CapitalLatitude:" D.C.",CapitalLongitude:"38.883333",CountryCode:"-77.000000",ContinentName:"US"},{CountryName:"Uruguay",CapitalName:"Montevideo",CapitalLatitude:"-34.85",CapitalLongitude:"-56.166667",CountryCode:"UY",ContinentName:"South America"},{CountryName:"Uzbekistan",CapitalName:"Tashkent",CapitalLatitude:"41.31666666666667",CapitalLongitude:"69.250000",CountryCode:"UZ",ContinentName:"Asia"},{CountryName:"Vanuatu",CapitalName:"Port-Vila",CapitalLatitude:"-17.733333333333334",CapitalLongitude:"168.316667",CountryCode:"VU",ContinentName:"Australia"},{CountryName:"Venezuela",CapitalName:"Caracas",CapitalLatitude:"10.483333333333333",CapitalLongitude:"-66.866667",CountryCode:"VE",ContinentName:"South America"},{CountryName:"Vietnam",CapitalName:"Hanoi",CapitalLatitude:"21.033333333333335",CapitalLongitude:"105.850000",CountryCode:"VN",ContinentName:"Asia"},{CountryName:"VIRGIN ISLANDS, U.S.",CapitalName:"Charlotte Amalie",CapitalLatitude:"18.35",CapitalLongitude:"-64.933333",CountryCode:"VI",ContinentName:"North America"},{CountryName:"Wallis and Futuna",CapitalName:"Mata-Utu",CapitalLatitude:"-13.95",CapitalLongitude:"-171.933333",CountryCode:"WF",ContinentName:"Australia"},{CountryName:"Yemen",CapitalName:"Sanaa",CapitalLatitude:"15.35",CapitalLongitude:"44.200000",CountryCode:"YE",ContinentName:"Asia"},{CountryName:"Zambia",CapitalName:"Lusaka",CapitalLatitude:"-15.416666666666666",CapitalLongitude:"28.283333",CountryCode:"ZM",ContinentName:"Africa"},{CountryName:"Zimbabwe",CapitalName:"Harare",CapitalLatitude:"-17.816666666666666",CapitalLongitude:"31.033333",CountryCode:"ZW",ContinentName:"Africa"},{CountryName:"US Minor Outlying Islands",CapitalName:"Washington",CapitalLatitude:" D.C.",CapitalLongitude:"38.883333",CountryCode:"-77.000000",ContinentName:"UM"},{CountryName:"Antarctica",CapitalName:"N/A",CapitalLatitude:"0",CapitalLongitude:"0.000000",CountryCode:"AQ",ContinentName:"Antarctica"},{CountryName:"Northern Cyprus",CapitalName:"North Nicosia",CapitalLatitude:"35.183333",CapitalLongitude:"33.366667",CountryCode:"NULL",ContinentName:"Europe"},{CountryName:"Hong Kong",CapitalName:"N/A",CapitalLatitude:"0",CapitalLongitude:"0.000000",CountryCode:"HK",ContinentName:"Asia"},{CountryName:"Heard Island and McDonald Islands",CapitalName:"N/A",CapitalLatitude:"0",CapitalLongitude:"0.000000",CountryCode:"HM",ContinentName:"Antarctica"},{CountryName:"British Indian Ocean Territory",CapitalName:"Diego Garcia",CapitalLatitude:"-7.3",CapitalLongitude:"72.400000",CountryCode:"IO",ContinentName:"Africa"},{CountryName:"Macau",CapitalName:"N/A",CapitalLatitude:"0",CapitalLongitude:"0.000000",CountryCode:"MO",ContinentName:"Asia"}]}(document,window,window.jQuery),function(a,b,c){var d=b.gdt.Utils.PubSub.UI_EVENTS,e="undefined"==typeof b.ontouchstart?"click":"touchend";c("div.captchaDiv").each(function(){if(!c(this).parents(".modal").length){var a=c(this).find(".captchaID"),b=a.prop("id"),d=a.data("sitekey");c("#recaptcha_challenge_field_holder").remove(),c("#recaptcha_response_field").remove(),c(this).find(".captchaID").append('<input type="text" id="recaptcha_response_field" required name="recaptcha_response_field" autocomplete="off"/>'),c.getScript("//www.google.com/recaptcha/api/js/recaptcha_ajax.js",function(){c("#recaptcha_image").remove(),c('<div id="recaptcha_image"></div>').insertBefore(c("#"+b+" .recaptcha_only_if_incorrect_sol")),window.Recaptcha.create(d,b,window.RecaptchaOptions)})}}),c("#js-contact-concierge").parent().on(e,function(a){"modal-wrap"===a.target.className&&c.pubsub("publish",d.createCaptchaOnPage)}),c("#js-contact-concierge .modal-close").on(e,function(){c.pubsub("publish",d.createCaptchaOnPage)}),c.pubsub("subscribe",d.createCaptchaOnPage,function(){c("div.captchaDiv").each(function(){if(!c(this).parents(".modal").length){var a=c(this).find(".captchaID"),b=a.prop("id"),d=a.data("sitekey");c("#recaptcha_challenge_field_holder").remove(),c("#recaptcha_response_field").remove(),c(this).find(".captchaID").append('<input type="text" id="recaptcha_response_field" required name="recaptcha_response_field" autocomplete="off"/>'),c.getScript("//www.google.com/recaptcha/api/js/recaptcha_ajax.js",function(){c("#recaptcha_image").remove(),c('<div id="recaptcha_image"></div>').insertBefore(c("#"+b+" .recaptcha_only_if_incorrect_sol")),window.Recaptcha.create(d,b,window.RecaptchaOptions)})}})})}(document,window,window.jQuery||window.Zepto),function(a,b,c){b.gdt=b.gdt||{};var d=function(){function a(a,d,f,g){this.$submitBtn=g,g.parents("form").on("submit",function(g){g.preventDefault(),g.stopPropagation();var h={$listEl:a},i=f.val(),j=c("<ol></ol>");j.append(""!==i?d.find("li").filter('[data-name*="'+i.toLowerCase()+'"], [data-city*="'+i.toLowerCase()+'"]').clone():d.find("li").clone()),s&&j.find("li").find(".multiMaps").addClass("show-china-links"),j.find("li").length?c(".dealers h4.nope").hide():c(".dealers h4.nope").show(),h.$newList=j,b.matchMedia("only screen and (max-width: 668px)").matches&&e(),c.pubsub("publish",u.paginatedList.reinitialise,h)}),this.resetSearch=function(){var b={$listEl:a,$newList:d};c.pubsub("publish",u.paginatedList.reinitialise,b),s&&b.$newList.find("li").find(".multiMaps").addClass("show-china-links")}}function d(){o=new a(y,A,C,E),p=new a(z,B,D,F)}function e(){I.show(),w.hide()}function f(){I.hide(),w.show()}function g(){var a=o;return J.parent().hasClass("accordion-tabs-nav-active")&&(a=p),a}function h(){G.on("keyup",function(){var a=C;g()===p&&(a=D),a.val(c(this).val()),I.find("input").val(c(this).val())}),H.parents("form").on("submit",function(a){a.preventDefault(),a.stopPropagation();var b=g();b.$submitBtn.trigger("click")}),I.find("span").on(t,function(){var a=g();a.resetSearch(),f()})}function i(){x.each(function(a){c(this).paginatedList({eventGroup:"dealerList"},a)})}function j(a,b){var d=b.parents(".js-dealer-list:first").data("ordernumber");c.pubsub("subscribe",u.baiduMaps,function(){r=!0,b.find(".js-dealer-map").each(function(a){var b=c(this);b.prop("id","js-dealer-map"+d+a);var e=b.prop("id");k(b,e)})}),r&&r===!0&&(c("#js-authorised-dealers").find(".js-dealer-map").prop("id",""),b.find(".js-dealer-map").each(function(a){var b=c(this);b.prop("id","js-dealer-map"+a);var d=b.prop("id");k(b,d)})),q&&q===!0&&b.each(function(){l(c(this))}),c.pubsub("subscribe",u.mapApiLoaded,function(){q=!0,b.each(function(){l(c(this))})})}function k(a){var b=a.prop("id");a.show(),a.siblings(".dealer-info").find(".multiMaps").addClass("show-china-links"),new L.Map(b),a.bmapWithMarker()}function l(a){var b=a.find("."+K);b.show(),b.mapWithMarker()}function m(){v.tabAccordion()}function n(){if(v.length&&(c.pubsub("subscribe",u.paginatedList.dealerList.navigate,j),m(),i(),d(),h()),((b.gdt.dealerData||{}).mapData||{}).places){var a=c(".dealer-mobile-nav #js-dealer-select .places"),e=[];for(var f in b.gdt.dealerData.mapData.places)if(b.gdt.dealerData.mapData.places.hasOwnProperty(f)){var g=b.gdt.dealerData.mapData.places[f],k=c("#js-dealers h2.dealer-heading").text().toLowerCase()===f.toLowerCase()?' selected="selected"':"";e.push("<option"+k+' value="'+g+'">'+f+"</option>")}a.append(e),a.on("change",function(){location.href=c(this).val()})}}var o,p,q,r,s,t="undefined"==typeof window.ontouchstart?"click":"touchend",u=b.gdt.Utils.PubSub.UI_EVENTS,v=c("#js-dealers"),w=v.find(".accordion-tabs-nav"),x=c(".js-dealer-list"),y=c("#js-authorised-dealers"),z=c("#js-service-centres"),A=y.clone(),B=z.clone(),C=c("#js-authorised-dealers-input"),D=c("#js-service-centres-input"),E=c("#js-authorised-dealers-submit"),F=c("#js-service-centres-submit"),G=c("#js-mobile-dealersearch-input"),H=c("#js-mobile-dealersearch-submit"),I=c("#js-dealer-search-mobileheader"),J=c('[href="#service"]'),K="js-dealer-map",L=b.BMap;c.pubsub("subscribe",u.baiduMaps,function(){v.length&&b.gdt.Utils.Browser.isMobileLayout&&(s=!0,c("#js-authorised-dealers li, #js-service-centres li").each(function(){c(this).find(".multiMaps").addClass("show-china-links")}))}),n()};b.gdt.Dealers=new d}(document,window,window.jQuery||window.Zepto),function(a,b){a("#find, #findfilter").each(function(c,d){function e(){o.on(m,function(){var a="find-open",c=n.hasClass(a)?p:q,d=n.hasClass(a)?0:n.find("div").outerHeight()+30;b.gdt.Utils.Browser.isMobileLayout||(n.toggleClass(a).css("max-height",d+"px"),o.text(c))})}function f(){a("html").hasClass("pageFilterOpen")?y&&!b.localStorage.getItem("cookieMessage")&&a("body").addClass("cookies-bar-visible"):(y=a("body").hasClass("cookies-bar-visible"),a("body").removeClass("cookies-bar-visible")),a(".topnav .find").toggleClass("open"),a("html").toggleClass("pageFilterOpen"),j=a("html").hasClass("pageFilterOpen"),v||a(".topnav nav.main").animate(j?{"margin-top":550}:{"margin-top":0})}function g(){b.gdt.Utils.Browser.isMobileLayout?(r.add(s).find("fieldset").parent(".mCustomScrollbar").mCustomScrollbar("destroy"),u.off().on("click",function(){var b,c,d,e,f,g=a(this),h=g.parent(),i=u.parent();h.hasClass("open")?(b=h.height(),i.removeClass("open"),c=h.height(),h.css("height",b).animate({height:c},function(){h.removeAttr("style")})):(f=i.filter(".open"),b=f.height(),f.removeClass("open"),b&&(c=f.height(),f.css("height",b).animate({height:c},function(){f.removeAttr("style")})),d=h.height(),h.addClass("open"),e=h.height(),h.css("height",d).animate({height:e},function(){h.removeAttr("style")}))})):(r.add(s).find("form > div:not(.btm, .search), form .btm > div").mCustomScrollbar({scrollInertia:0}).off(),u.off(),r.find('form input[type="submit"]').off("click.mob"))}function h(a,c){for(var d=c||b.location.search.substring(1),e=d.split(/&|\?/),f=[],g=new RegExp("^"+a+"="),h=0,i=e.length;i>h;h++)g.test(e[h])&&f.push(decodeURIComponent(e[h].replace(g,"").replace(/\+/gi,"%20")));return f}function i(){if(a(r,s).find('input[type="search"]').placeholder(),a(r,s).find('input[type="search"]').on("keyup",function(){a(this).val()?r.find(".clear").addClass("visible"):r.find(".clear").removeClass("visible")}),b.gdt.Utils.Browser.isMobileLayout&&(a("#js-splash-find").removeAttr("style"),a("#js-show-find-mobile").modal()),b.gdt.filterData||b.gdt.eboutiqueData){!b.gdt.Utils.Browser.isMobileLayout&&r.is("#findfilter")&&b.gdt.filterData&&(a("html").addClass("results"),b.gdt.filterData||f());var c={},d={};b.gdt.Utils.Browser.isMobileLayout&&!a("#eboutiqueFinder")?a("#findfilter").find("input[name]").each(function(){var b=a(this).attr("name"),e=t.find(".wmf-"+b),f=[];if(!c[b]){c[b]=!0,d[b]=h(b);for(var g=0,i=d[b].length;i>g;g++)"0"!==d[b][g]&&(f.push(a("#findfilter").find('input[name="'+b+'"][value="'+d[b][g]+'"]').next().text()),a("#find").find('input[name="'+b+'"][value="'+d[b][g]+'"]').click());f.length?e.addClass("sh").find("span").html(f.join(", ")):e.removeClass("sh")}}):a("#find").find("input[name]").each(function(){var b=a(this).attr("name"),e=t.find("."+b),f=[];if(!c[b]){c[b]=!0,d[b]=h(b);for(var g=0,i=d[b].length;i>g;g++)"0"!==d[b][g]&&(f.push(r.find('input[name="'+b+'"][value="'+d[b][g]+'"]').next().text()),a("#find").find('input[name="'+b+'"][value="'+d[b][g]+'"]').click());f.length?e.addClass("sh").find("span").html(f.join(", ")):e.removeClass("sh")}}),r.find("form").on("change",function(){w=!0}),r.find('input[name="search"]').on("keyup search",function(){(!a(this).val()||a(this).val().length>1)&&(w=!0),a(this).val()?r.find(".clear").addClass("visible"):r.find(".clear").removeClass("visible")});var e=r.find('input[name="search"]');e.val(h("search")),e.val()?(r.find(".clear").addClass("visible"),t.find(".search").addClass("sh").find("span").html(e.val())):t.find(".search").removeClass("sh"),x=!0,r.is("#find")&&t.find("li.sh").last().addClass("last")}a("body").on("submit",".filter",function(){if(a(this).data("search-path-alternate")){var b=a(this).data("search-path-alternate");a(this).attr("action",b),a(this).submit()}})}var j,k=b.gdt.Utils.PubSub.UI_EVENTS,l="undefined"==typeof b.ontouchstart?"mouseup":"touchend",m="undefined"==typeof window.ontouchstart?"click":"touchend",n=a("#find"),o=a("#js-show-find"),p=o.text(),q=o.data("closetext"),r=a(d),s=a("#find"),t=a("#resultsummary"),u=r.add(s).find("form > div:not(.btm, .search) h4, form .btm > div h4"),v=b.gdt.Utils.Browser.hasTransforms,w=!1,x=!1;b.gdt.Utils.Browser.isMobileLayout&&a(".fyp").modal(),r.is("#findfilter")?a(".topnav .find, #findfilter .close").on(l,function(c){c.preventDefault(),c.stopPropagation(),j?b.gdt.filterData||b.gdt.Utils.Browser.isMobileLayout||a.pubsub("publish",k.shade.open,{clsname:"findopen"}):a.pubsub("publish",k.shade.close)}).on("click",function(a){a.preventDefault(),a.stopPropagation()}):e(),r.find(".clear").on("click",function(b){b.preventDefault(),b.stopPropagation(),r.find("form").trigger("reset"),r.find("form").trigger("change"),a(this).removeClass("visible")});var y;r.find("fieldset").each(function(){var b=a(this),c=b.find('input[type="checkbox"]');c.off().on("change",function(){a(this).is('[id$="-all"]')?(c.filter(':not([id$="-all"]):checked').prop("checked",!1),r.find(".clear").removeClass("visible")):c.filter(':not([id$="-all"]):checked').val()?b.find('input[type="checkbox"][id$="-all"]').prop("checked",!1):(b.find('input[type="checkbox"][id$="-all"]').prop("checked",!0),r.find(".clear").removeClass("visible")),r.find('input[type="checkbox"]').not('input[value="0"]').each(function(){return a(this).prop("checked")?(r.find(".clear").addClass("visible"),!1):void 0})})}),g(),a(b).smartresize(g),r.is("#find")&&i()})}(window.jQuery,window),function(a,b,c){function d(){function a(){var a=c(".gdt-form").find("form");a.attr("novalidate","novalidate")}function d(){c(".gdt-form").each(function(a,d){var e=c(d).find("form");e.find("input, select, textarea").on("change",function(){c(this).hasClass("has-error")&&b.gdt.Validate.field(this,e[0])})})}function f(){var a;a=c(".gdt-form").each(function(a,d){var f=c(d).find("form"),g=f.find(".form_button_reset");g.on(e,function(){b.gdt.Validate.clear(f[0])})})}c("select").on("focus",function(){c(this).closest(".moz-select").addClass("focus")}).on("blur",function(){c(this).closest(".moz-select").removeClass("focus")}),a(),f(),d();var g=c("button.form_button_submit");g.on(e,function(a){var b=c(this).parents("form:first").find("input.recaptchaTextbox"),d=c.trim(b.val()),e=c("#gdt form label.captcha span.required");1===b.length&&(""===d?(e.removeAttr("hidden"),e.addClass("captcha-error"),a.preventDefault()):(e.attr("hidden","hidden"),e.removeClass("captcha-error")))})}b.gdt=b.gdt||{},b.gdt.Utils=b.gdt.Utils||{};var e="undefined"==typeof window.ontouchstart?"click":"touchend";b.gdt.Forms=new d,c("#forgot_password .form label.email input[type=email]").placeholder()}(document,window,window.jQuery||window.Zepto),function(a,b,c){b.gdt=b.gdt||{};var d=function(){function a(a,d){a.css("background-image","url("+d+")"),b.gdt.Utils.Browser.isMobileLayout&&(a.css("height",c(window).height()),h.css("height",c(window).height()))}function d(c){var d=b.gdt.Utils.Picture.getImgSrcFromTemplate(c);c.removeClass(k),a(c,d)}function e(){h.akcarousel({delay:5e3,horizontal:!0,scrollNode:!0,autoSwitch:!0,scrollSpeed:5,easing:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",callback:function(a){var b=c(this.node).find(".slide").size(),e=a===b?0:a+1,f=c(this.node).find(".slide").eq(e);f.hasClass(k)&&d(f)}}),d(i.eq(0)),d(i.eq(1))}function f(){j.on("click","a",function(){var a=c(this),b=a.index();d(h.find(".slide:eq("+b+")")),h.akcarousel("move",a.index())})}function g(){h.length&&(e(),f())}var h=c("#js-carousel-hero"),i=c("#js-carousel-hero").find("li"),j=c(".pager"),k="carousel-hero-image-lazyload";b.gdt.Utils.Browser.isMobileLayout&&c("main.home").parent().css("min-height","135%"),
g()};b.gdt.HomeSlider=new d}(document,window,window.jQuery||window.Zepto),function(a,b,c){function d(){j.each(function(){var a=c(this).get(0);b.videojs(a,{nativeControlsForTouch:!1}).ready(function(){i=this,this.nativeControlsForTouch=!1,f(i),k=this.techName})})}function e(){m.find("li").each(function(){var a=c(this),b=a.find("video").length;b&&a.find(".carousel-hero-link a").on("click",function(a){a.preventDefault();var b=c(this),d=b.attr("href"),e=b.parents("li:first").find("video").clone(!0);g(e,d)})})}function f(a){for(var b=a.controlBar,d=b.addChild("button").addClass("pan-volume"),e=0;4>e;e++)d.addChild("button").addClass("volumelevel level"+(e+1)+" active");c(d.el_).on("click",".volumelevel",function(){var b=c(this),d=".volumelevel",e=b.parent().find(d),f=b.index(d)+1/e.size();a.volume(f),e.removeClass("active").filter(":lt("+parseInt(b.index(d)+1,10)+")").addClass("active")})}function g(a,b){n.append(a);var e=c("#homeVideoSlide"),f=e.find(".overlapClose");f.attr("href",b),j=e.find("video"),d(),n.modal(),c.pubsub("publish",l.homeVideo),c("#homeVideoSlide video")[0].play(),c("#homeVideoSlide").find("video").on("ended",function(){window.location.assign(b)})}function h(){e()}var i,j,k,l=b.gdt.Utils.PubSub.UI_EVENTS,m=c("#js-carousel-hero"),n=c("#homeVideoSlide");m.length&&h()}(document,window,window.jQuery||window.Zepto),function(a,b,c){function d(){c.getJSON(window.gdt.multisiteURL,function(a,d,e){var g="",h="",i=e.getResponseHeader("X-geoip-country-code"),j="";c.pubsub("publish",f.checkCountry,i),c.each(a.siteDetails[0],function(a,b){g=b["popup-url"],h=b.countryCode}),c.each(a.siteDetails,function(a,b){for(var c in b)b[c].countryCode===i&&(j=b[c].url)}),i!==h&&"US"===i?c.cookie("eboutique-pan")||""===g||c.ajax({url:g,cache:!1}).done(function(a){c("#ipDetection").append(a),c("#ipDetection").modal(),c.pubsub("publish",f.ipDetectionPopup);var d=new Date;d.setTime(d.getTime()+2592e6),c.cookie("eboutique-pan","true",{path:"/",domain:b.gdt.Utils.getCookieDomain(),expires:d})}):i!==h&&"US"===h&&(c.cookie("eboutique-pan")||""===g||c.ajax({url:g,cache:!1}).done(function(a){c("#ipDetection").append(a),c("#ipDetection").modal(),c.pubsub("publish",f.ipDetectionPopup);var d=new Date;d.setTime(d.getTime()+2592e6),c.cookie("eboutique-pan","true",{path:"/",domain:b.gdt.Utils.getCookieDomain(),expires:d})}))})}function e(){var a=c(".press-header");a.length||d()}var f=b.gdt.Utils.PubSub.UI_EVENTS;e()}(document,window,window.jQuery||window.Zepto),function(a,b,c){function d(a){c.ajax({type:"post",url:a.attr("action"),data:a.serialize(),dataType:"json",success:function(d){h.removeClass("loading"),d.status===!0?(g.addClass("formSubmitted"),c(".gdt-message").remove(),a.after("<div class='gdt-message'>"+d.message+"</div>"),b.Recaptcha.reload(),a.find("[type=reset]").trigger("click"),a.find(".captchaDiv").removeClass("captchaError"),a.find("span.error.captcha").attr("hidden","hidden")):d.status===!1&&void 0!==d.validCaptcha&&d.validCaptcha===!1?(a.find(".captchaDiv").addClass("captchaError"),a.find("span.error.captcha").removeAttr("hidden"),b.Recaptcha.reload()):(g.addClass("formSubmitted"),c(".gdt-message").remove(),a.after("<div class='gdt-message'>"+d.message+"</div>"),b.Recaptcha.reload(),a.find("[type=reset]").trigger("click"),a.find(".captchaDiv").removeClass("captchaError"),a.find("span.error.captcha").attr("hidden","hidden"))},error:function(b,d,e){c(".gdt-message").remove(),a.hide().after("<div class='gdt-message'>"+e+"</div>")}})}b.gdt=b.gdt||{},b.gdt.Utils=b.gdt.Utils||{};var e="undefined"==typeof window.ontouchstart?"click":"touchend",f=b.gdt.Utils.PubSub.UI_EVENTS,g=c("#languageSelectorOverlay"),h=c("#language-selector div.send-request .form_button_submit");c.pubsub("subscribe",f.languageSelectorPopupClose,function(){c(".topnav nav.main .inner > a").each(function(){c(this).hasClass("active")&&(c("body").addClass("hideMain"),c("#js-modal-bg").addClass("navopen"))})}),g.find(".bottomText a").on(e,function(a){a.preventDefault(),g.addClass("modifiedState"),g.removeClass("firstState"),g.parent().addClass("modal-wrap-scroll")}),h.on(e,function(a){a.preventDefault(),window.gdt.Validate.form("language-selector")&&(d(c("#language-selector")),h.addClass("loading"))})}(document,window,window.jQuery||window.Zepto),function(a,b,c){function d(){c.each(w,function(a,b){b.paused()||b.pause()})}function e(a){a.target&&(a=c(a.target)),clearTimeout(q),q=setTimeout(function(){var b=a.parents(".slide"),c=b.attr("id");"string"==typeof c&&(c=c.replace("#","")),b.hasClass("active")||(s.find(".slide").removeClass("active"),b.addClass("active"),d(),b.find("video[autoplay]").each(function(){videojs(this).play()}),v.find("a").removeClass("active"),v.find("a."+c).addClass("active"))},50)}function f(){s.find(".library-intro, .mobileNav").one("touchstart mousedown scroll mousewheel",function(){var a=s.find(".library-intro");a.removeClass("show"),setTimeout(function(){a.addClass("back")},250),""===window.location.hash&&e(c("#overview .box1"))}),s.find("nav.library").on("click touchend",function(a){a.preventDefault(),a.stopPropagation(),c(this).removeClass("open");var b=c(c(a.target).attr("href"));s.find(".slider").akscroller("scrollto",{x:b.position().left,y:0}),setTimeout(function(){e(b.find("section").eq(0)),window.location.hash="lib-"+a.target.href.split("#")[1]},250)}),s.on("touchmove",function(){r=!0}).on("touchend",function(){r=!1}),s.on("click touchend",".libbutton",function(a){if(a.preventDefault(),a.stopPropagation(),!r){var b=c(a.target).parent(".content");b.hasClass("open")?g(b):j(b)}}),s.on("click",".mobileNav",function(a){a.preventDefault(),a.stopPropagation(),r||(s.find("nav.library").hasClass("open")?l():k())})}function g(a){a.removeClass("open"),t.removeClass("show"),setTimeout(function(){t.removeClass("open").find(".clone").empty(),c("html").removeClass("lib-open"),a.parent(".slide").find("video[autoplay]").each(function(){videojs(this).play()})},250)}function h(a){a.addClass("infoopen").on("click touchend",function(a){a.preventDefault(),a.stopPropagation(),a.stopImmediatePropagation()})}function i(a){a.removeClass("infoopen").off()}function j(a){c("html").addClass("lib-open");var b=a.find(".overlay").clone(!0),e=b.find("[id^=video_]"),f=e.data("config")||"",j=e.data("poster")?'poster="'+e.data("poster")+'"':"",k=e.data("mp4")?'<source src="'+e.data("mp4")+'" type="video/mp4" />':"",l=e.data("webm")?'<source src="'+e.data("webm")+'" type="video/webm" />':"",m=e.data("ogg")?'<source src="'+e.data("ogg")+'" type="video/ogg" />':"",p='<video id="'+e.attr("id")+'_active"'+f+' data-setup="{}" width="100%" height="100%" webkit-playsinline '+j+' class="video-js vjs-default-skin vjs-big-play-button">';p+=k+l+m+"</video>",a.addClass("open"),d(),b.find(".back").on("click touchend",function(b){b.preventDefault(),b.stopPropagation(),g(a)}),b.children(".info").on("click touchend",function(a){a.preventDefault(),a.stopPropagation(),h(b)}),b.children(".close").on("click touchend",function(a){a.preventDefault(),a.stopPropagation(),i(b)}),b.find("[id^=video_]").replaceWith(p),t.addClass("open").find(".clone").append(b);var q=b.find("[id^=video_]").get(0);q&&videojs(q).on("play",n).on("pause",o),setTimeout(function(){t.addClass("show"),b.on("click",".vjs-big-play-button",function(){b.find(">p").hide()})},5)}function k(){clearTimeout(q),q=setTimeout(function(){s.find("nav.library, .mobileNav").addClass("open").off("click").one("click",function(){l()}),setTimeout(function(){s.find("nav.library").addClass("show")},5)},10)}function l(){clearTimeout(q),q=setTimeout(function(){s.find("nav.library").removeClass("show"),setTimeout(function(){s.find("nav.library, .mobileNav").removeClass("open")},200)},10)}function m(){var a=window.location.hash;""!==a&&(a=a.replace("lib-",""),s.find(".slider").akscroller("scrollto",{x:c(a).position().left,y:0}),setTimeout(function(){e(c(a).find("section").eq(0)),v.find("a").removeClass("active"),v.find("a."+a.replace("#","")).addClass("active"),b.console.log("my nav is",v.find("a."+a.replace("#","")))},1e3))}function n(){var a=c(this.tag).parents(".overlay");a.hasClass("infoopen")?this.pause():a.find(".info, .social-button, p").css({opacity:0})}function o(){var a=this.tag,b=c(a).parents(".overlay");b.hasClass("infoopen")||setTimeout(function(){c(a).parents(".overlay").find(".info, .social-button, p").attr("style","")},200)}function p(){for(var a=0,g=u.length;g>a;a++){var h=videojs(u[a]);w.push(h)}s.find("nav.library a").each(function(){var a=c(this);a.attr("style","background-image: url("+s.find(a.attr("href")).find("img").get(0).src+")")}),s.find(".slider").akscroller({horizontal:!0,inertia:!0,mousewheel:!0,lockscroll:!1,callback:e}).on("mouseenter",".slide",e),setTimeout(function(){d(),setTimeout(function(){b.gdt.Utils.Browser.isMobileLayout?m():(c("html,body").animate({scrollTop:s.find("h1").offset().top-20},1e3),setTimeout(function(){m()},1e3))})},500),f()}var q,r,s=c("#library"),t=s.find(".mainOverlay"),u=s.find("video"),v=s.find("nav"),w=[];s.length&&p()}(document,window,window.jQuery),function(a,b,c){b.gdt=b.gdt||{};var d=function(){function a(a,b,c){this.src=b,this.poster=a,this.title=c}function d(){var d=!1;b.gdt.Utils.Browser.isHighDPR&&b.matchMedia("only screen and (min-width: 669px)").matches&&(d=!0),n.find("li").each(function(){for(var b,e=c(this),f=e.attr(d?"data-poster-2x":"data-poster"),g=e.attr("title"),h=e.attr("data-src").split(","),i=0;i<h.length;i++)h[i]=c.trim(h[i]);b=new a(f,h,g),s.push(b)})}function e(a){for(var b=a.controlBar,d=b.addChild("button").addClass("pan-volume"),e=0;4>e;e++)d.addChild("button").addClass("volumelevel level"+(e+1)+" active");c(d.el_).on(l,".volumelevel",function(){var b=c(this),d=".volumelevel",e=b.parent().find(d),f=b.index(d)+1/e.size();a.volume(f),e.removeClass("active").filter(":lt("+parseInt(b.index(d)+1,10)+")").addClass("active")}),a.on("play",function(){c(a.el_).parent().addClass("video-playing"),b.show()}),a.on("ended",function(){c(a.el_).parent().removeClass("video-playing"),b.hide()})}function f(a){n.find("li").removeClass("active").eq(a).addClass("active"),m.parent().find("figcaption").text(n.find("li").eq(a).find("figcaption").text())}function g(){b.videojs(m[0],{nativeControlsForTouch:!1,autoplay:!1}).ready(function(){k=this,e(k),k.playList(s,{getVideoSource:function(a,b){b(a.src,a.poster)}}),j=m.parent().find(".vjs-big-play-button"),j.attr("aria-label",m.attr("data-playtext"))}).on("play",function(){f(this.pl.current)}),m=c("#js-splash-video")}function h(){n.find("li").on(l,function(){k.playList(c(this).index()),m.find(".vjs-play-progress").width(0),f(c(this).index())}),p.on(l,function(){var a="playlist-open",b=n.hasClass(a)?q:r,c=n.hasClass(a)?0:n.find("ul").outerHeight();n.toggleClass(a).css("max-height",c+"px"),p.text(b)}),o.on(l,"a",function(a){switch(k.poster(""),c(this).attr("rel")){case"next":k.next(),f(k.pl.current);break;case"prev":k.prev(),f(k.pl.current)}a.preventDefault(),o.find("a").show(),0===k.pl.current?o.find('a[rel="prev"]').hide():k.pl.current===s.length-1&&o.find('a[rel="next"]').hide()}),c(b).smartresize(function(){b.matchMedia("only screen and (min-width: 669px)").matches?c(".thumbs").appendTo(c(".title-text-thumbs")):(b.console.log("do it now"),c(".thumbs").insertBefore(c(".link-list")))}),c(b).trigger("resize")}function i(){m.length&&(d(),g(),h(),o.find('a[rel="prev"]').hide())}var j,k,l="undefined"==typeof window.ontouchstart?"click":"touchend",m=c("#js-splash-video"),n=c("#js-splash-video-playlist"),o=c("#js-video-playlist-nav"),p=c("#js-show-playlist"),q=p.text(),r=p.data("closetext"),s=[];i()};b.gdt.Manufacture=new d}(document,window,window.jQuery||window.Zepto),function(a,b,c){function d(){c.pubsub("subscribe",f.checkCountry,function(a,b){c("#googleMapsAPI")&&e(b)})}function e(a){var b="//maps.google.com/maps/api/js?callback=initialize";if("CN"===a&&g===!0)c.pubsub("publish",f.baiduMaps);else{if("CN"===a&&g===!1)return void c.pubsub("publish",f.mapApiNotLoaded);var d=document.createElement("script");d.type="text/javascript",d.src=b,c("#googleMapsAPI").after(d)}}var f=b.gdt.Utils.PubSub.UI_EVENTS,g=c("#googleMapsAPI").data("setchinamap");window.initialize=function(){var a=b.google;void 0!==a&&c.pubsub("publish",f.mapApiLoaded)},d()}(document,window,window.jQuery),function(a,b,c){b.gdt=b.gdt||{};var d=function(){function a(){d()}var d=function(){function a(){var a=c("input[name=havepanerai]:checked","form").val(),b=c("form label.model");"false"===a?b.css("display","none"):b.css("display","block")}var d=c("#my-account > .accordion-tabs.accordion-tabs-content > section");d.each(function(a,d){var e=c(d),f=e.children("h2"),g=e.data("href"),h=location.protocol+"//"+location.host+g;f.on("click",function(){b.history.pushState({},"",h),c("#my-account > .accordion-tabs-nav li.active").removeClass("active"),c('#my-account > .accordion-tabs-nav a[href="'+g+'"]').parent().addClass("active"),c("#my-account > .accordion-tabs > .accordion-tabs-content > .accordion-tabs-content-active").removeClass("accordion-tabs-content-active"),e.addClass("accordion-tabs-content-active")})}),c("form .havepanerai input").on("change",function(){a()}),a(),b.gdt.Utils.Browser.isMobileLayout&&c("#my-account > .accordion-tabs .accordion-tabs-content .moreInfoHide").removeClass("accordion-tabs-content-active")};return a(),{addListeners:d}};b.gdt.MyAccount=new d}(document,window,window.jQuery||window.Zepto),function(a,b,c){b.gdt=b.gdt||{};var d=function(){function a(){h()}var d,e,f,g,h=function(){d=c("#my-account .accordion-tabs .accordion-tabs-inner .component-orderreview .orderHead"),e=c("#my-account .accordion-tabs .accordion-tabs-inner .component-orderreview .orderDetail"),f=c("#my-account .accordion-tabs .accordion-tabs-inner .component-orderreview .orderHead .orderPlus"),g=c("#my-account .accordion-tabs .accordion-tabs-inner .component-orderreview .orderHead .orderMin"),d.length>1?(b.gdt.Utils.Browser.isMobileLayout||e.hide(),g.hide(),d.off().on("click",function(){c(this).next(".orderDetail").slideToggle(200),"none"===c(this).find(".orderPlus").css("display")?(c(this).find(".orderPlus").show(),c(this).find(".orderMin").hide()):(c(this).find(".orderPlus").hide(),c(this).find(".orderMin").show())})):(e.show(),f.hide(),g.hide())};return a(),{addListeners:h}};b.gdt.MyOrderHistory=new d}(document,window,window.jQuery||window.Zepto),function(a,b){function c(a){a.preventDefault(),a.stopPropagation()}function d(d,e,f){var g,n;d.on("click",function(a){c(a),m=!1}).on(k,function(){m=!0}).off(h).on(h,function(b){c(b),"undefined"!=typeof b&&(g=b),m||e(a(this),g),m=!1}),f&&l&&(d.off(i).on(i,function(d){if(b.gdt.Utils.Browser.isMobileLayout===!1){var f=a(this);c(d),clearTimeout(n),"undefined"!=typeof d&&(g=d),n=setTimeout(function(){e(f,g,!0)},200)}}),f.off(j).on(j,function(d){if(b.gdt.Utils.Browser.isMobileLayout===!1){var f=a(this);c(d),clearTimeout(n),"undefined"!=typeof d&&(g=d),n=setTimeout(function(){e(f,g,!1)},200)}}))}function e(){var b=a(".navp h1.logo a").prop("href");a(".container").find("h1.logo:first a").prop("href",b)}function f(c,d,e){var f,g=c.hasClass("active"),h="navopen";if(e===!0&&(g=!1),e===!1&&(g=!0),b.gdt.Utils.Browser.isMobileLayout===!0&&(g=c.hasClass("active")),c.parents(".hassub").length&&b.gdt.Utils.Browser.isMobileLayout&&(b.location.href=c.data("href")||c.href),!(c.parents(".hassub").length&&g||c.hasClass("active")&&e)){if(b.gdt.Utils.Browser.isMobileLayout||a.pubsub("publish",n.shade.close),a("body").removeClass("hideMain"),o)if(b.gdt.Utils.Browser.isMobileLayout){f=c.parent().find(".sub.open, .subsub.open");var i=f.height();c.parent().find("a.active, .sub.open, .subsub.open").removeClass("active open"),f.next().css("margin-top",i).animate({"margin-top":0})}else c.parent().find(".sub.open, .subsub.open").css({height:400}),setTimeout(function(){c.parent().find(".sub, .subsub").removeAttr("style")},400),c.parent().find("a.active, .sub.open, .subsub.open").removeClass("active open");else f=c.parent().find(".sub.open, .subsub.open"),c.parent().find("a.active").removeClass("active"),f.removeClass("open"),f.css({display:"block","min-height":400,opacity:1,"margin-top":0}).animate({opacity:0,"margin-top":-50},function(){f.removeAttr("style")});if(0===c.next(".sub, .subsub").length){var j=c.prop("target");"_blank"===j?b.open(c.prop("href"),"_blank"):b.location.href=c.prop("href")}else if(!g){c.addClass("active");var k=c.next();(k.hasClass("sub")||k.hasClass("subsub"))&&(o||k.css({"min-height":400,"margin-top":-50,opacity:0}).animate({"margin-top":0,opacity:1},function(){k.removeAttr("style")}),k.addClass("open").removeClass("hideimage").find("a").eq(0).addClass("active").next().addClass("open"),k.parents("subsub").find(".hideimage").removeClass("hideimage"),k.find(".hideimage").removeClass("hideimage"),b.gdt.Utils.Browser.isMobileLayout&&k.next().css("margin-top",-k.height()).animate({"margin-top":0})),b.gdt.Utils.Browser.isMobileLayout||(a.pubsub("publish",n.shade.open,{clsname:h,clicktoclose:l}),a("body").addClass("hideMain").removeClass("navOpened"),a(".navtab").removeClass("open"),setTimeout(function(){a("body").addClass("openSubSection")},300))}}}var g="undefined"==typeof b.ontouchstart?"click":"touchend",h="touchend.bce click.bce",i="mouseenter.bce",j="mouseleave.bce",k="touchmove.bce",l=!1,m=!1,n=b.gdt.Utils.PubSub.UI_EVENTS,o=b.gdt.Utils.Browser.hasTransforms;/iPad|iPhone/i.test(navigator.appVersion)&&a(document).on("blur","input, textarea",function(){a(".navp header, .footerContainer").show()}).on("focus","input, textarea",function(){a(".navp header, .footerContainer").hide()}),a(".navp .topnav nav.main .inner > a").each(function(){var b=a(this);0===b.next(".sub").length&&b.addClass("noIcon")}),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&e(),a(".navp header .inner ul > li a").on("click",function(b){b.stopPropagation();var c=a(this),d=c.parent("li"),e=d.find("ul");a(".navp header .inner ul > li").removeClass("opened"),e.length&&d.hasClass("opened")?(b.preventDefault(),d.removeClass("opened"),a("#shopping-bag-overlay").removeClass("show")):e.length&&(d.addClass("opened"),a("#shopping-bag-overlay").removeClass("show"))}),a("html").click(function(){a(".navp header .inner ul > li").removeClass("opened")}),a(".navp header .inner ul > li .back").on("click",function(){var b=a(this),c=b.parents(".opened");c.removeClass("opened")}),d(a(".navtab"),function(b){a("body").hasClass("navOpened")?(a("body").removeClass("navOpened hideMain openSubSection"),b.removeClass("open"),b.next(".navp").removeClass("open")):(a("body").addClass("navOpened").removeClass("openSubSection"),a(".navp .head .inner > a").removeClass("active"),setTimeout(function(){a("body").removeClass("hideMain"),a("#js-modal-bg").removeClass("open navopen")},300),b.addClass("open"),b.next(".navp").addClass("open")),b.next(".navp").hasClass("open")&&a("header .find:not(.mobile)").one(h,function(a){c(a),b.next(".navp").removeClass("open")}),o||b.next(".navp").animate(b.next(".navp").hasClass("open")?{left:"100%"}:{left:"0%"})});var p;if(d(a("nav.main>.head>.inner>a, nav.main>.head>.inner>.hassub>a"),function(a,b,c){clearTimeout(p),p=setTimeout(function(){f(a,b,c)},250)},a("nav.main>.head, nav.main .sub")),a("#languageSelectorOverlayBtn").length){a("#languageSelectorOverlayBtn").modal();var q=a("#languageSelectorOverlay"),r=q.find("li");b.gdt.Utils.Browser.isMobileLayout&&r.find("select").on("change",function(){var c=a(this).val();""!==c&&(b.location.href=c)}),a("#languageSelectorOverlayBtn").on(g,function(){q.addClass("firstState"),q.removeClass("modifiedState"),q.removeClass("formSubmitted"),a("body").removeClass("hideMain"),a("#js-modal-bg").removeClass("navopen");var b=a("#language-selector"),c=b.find(".captchaID"),d=c.prop("id"),e=c.data("sitekey");q.find(".gdt-message").remove(),a("#recaptcha_challenge_field_holder").remove(),a("#recaptcha_response_field").remove(),b.find(".captchaID").append('<input type="text" id="recaptcha_response_field" required name="recaptcha_response_field" />'),a.getScript("//www.google.com/recaptcha/api/js/recaptcha_ajax.js",function(){a("#recaptcha_image").remove(),a('<div id="recaptcha_image"></div>').insertBefore(a("#"+d+" .recaptcha_only_if_incorrect_sol")),window.Recaptcha.create(e,d,window.RecaptchaOptions)})})}else a("header .lang").on("click",function(b){b.preventDefault();var c=a(this);c.hasClass("active")?(c.removeClass("active"),a("html").removeClass("lang-open")):(c.addClass("active"),a("html").addClass("lang-open"))}),a("header .lang a").on("click",function(c){a(c.target).attr("href")&&(b.location.href=a(c.target).attr("href"))}),a('header .lang a[href="#close"]').on("click",function(b){c(b),a("header .lang").removeClass("active"),a("html").removeClass("lang-open")});d(a(".navp .boutique"),function(c,d){if(a(d.target).attr("href")&&(b.location.href=a(d.target).attr("href")),a(".navp .boutique").hasClass("active")){if(a(d.target).parents(".boutique")&&!a(d.target).is("h3"))return;a(".navp .boutique").removeClass("active"),a("body").off("click.close")}else a(".navp .boutique").addClass("active"),a("body").on("click.close",function(){a(".navp .boutique").removeClass("active"),a("body").off("click.close")})}),a(".press-header").length&&(a(".footerContainer").addClass("open"),a(".footerContainer .slide").addClass("open"),a("html").is(".ie6, .ie7, .ie8, .ie9")&&a(".footerContainer .slide").css("height","250px"),a(".arrow").addClass("close")),d(a("footer.slide .arrow, footer.slide > .inner > a"),function(b){if(!a(".press-header").length){var c=b.parents("footer");c.toggleClass("open"),a(".footerContainer").hasClass("open")?setTimeout(function(){a(".footerContainer").removeClass("open")},500):a(".footerContainer").addClass("open").find(".hideimage").removeClass("hideimage"),o||c.animate(c.hasClass("open")?{bottom:20}:{bottom:-100})}});var s=a(".collectionDetail.special-editions");d(s.find(".select"),function(a){s.find(".hidden").toggleClass("open"),a.toggleClass("open")});var t=b.gdt.Utils.getNameFromCookie();t&&(a("html").addClass("logged-in"),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||a("#accountName").html(t))}(window.jQuery,window),function(a,b,c){b.gdt=b.gdt||{};var d=function(){function a(a){a.each(function(){var a,b=c(this),d=b.find('[type="text/x-tmpl"]'),e=c.trim(d.html());e=c.parseHTML(e),a=c(e),d.replaceWith(a)}),b.picturefill()}function d(){s.find("li:odd").addClass("even")}function e(){c("html,body").scrollTop(u.eq(0).position().top-20)}function f(a){u.each(function(){var b=c(this);b.find("li").removeClass("active"),b.find("li").eq(a-1).addClass("active"),b.find("li").removeClass("visible")}).find("button").prop("disabled",!1),a===n&&u.find('[rel="next"]').prop("disabled",!0),1===a&&u.find('[rel="prev"]').prop("disabled",!0),u.each(1===a||2===a||3===a?function(){c(this).find("li").slice(0,5).addClass("visible")}:a===n||a===n-1||a===n-2?function(){c(this).find("li").slice(n-5,n).addClass("visible")}:function(){c(this).find("li").eq(a-1).prev().addClass("visible").prev().addClass("visible"),c(this).find("li").eq(a-1).next().addClass("visible").next().addClass("visible")})}function g(b){var c=s.find('[data-page="'+b+'"]');s.hide().find("li").hide(),c.show().filter(function(a){return 2>a}).addClass("top"),a(c),f(b),s.fadeIn(2e3)}function h(){var a=0,b=c("<ol></ol>"),d=u.find("ol"),e=window.location;t.each(function(d){d%v===0&&(a++,b.append(c('<li data-page="'+a+'"><a href="#" data-tracking-page="'+e+"/"+a+'" data-tracking-event="virtualPageview" data-trackable="true">'+a+"</a></li>"))),c(this).attr("data-page",a)}),u.find("ol").empty().append(b.html()),n=a,g(1),d.find("li").size()||u.hide()}function i(){var b=s.find("li").not(".loaded").filter(function(a){return w>a}).addClass("loaded").hide().fadeIn(2e3);a(b),setTimeout(function(){b.addClass("active")},2e3),s.find("li").not(".loaded").length||x.hide()}function j(){b.gdt.Utils.Browser.isMobileLayout?i():h()}function k(a){b.location.href=b.location.href.split("?")[0]+"?q="+a.val()}function l(){r.on("change",function(){b.location.replace(c(this).val())}),p.keypress(function(a){13===a.keyCode&&k(c(this))}),q.on(o,function(){k(p)}),u.on(o,"a",function(a){g(parseInt(c(this).closest("li").attr("data-page"),10)),e(),a.preventDefault()}).on(o,"button:enabled",function(){var a=u.eq(0).find(".active").index()+1,b=a;switch(c(this).attr("rel")){case"next":b++;break;case"prev":b--}g(b),e()}),x.on(o,function(){i()}),y.on(o,function(){c("html,body").scrollTop(0)})}function m(){j(),l(),c(".ie8").length&&d()}var n,o="undefined"==typeof window.ontouchstart?"click":"touchend",p=c("#js-news-search"),q=c("#js-news-submit"),r=c("#js-news-filter").find("select"),s=c("#js-news-list"),t=s.find("li"),u=c(".js-news-pagination"),v=parseInt(s.attr("data-pageitems"),10),w=parseInt(s.attr("data-pageitems-mobile"),10),x=c("#js-mobile-load"),y=c(".back-to-top");return{init:m}};b.gdt.NewsList=new d}(document,window,window.jQuery||window.Zepto),function(a,b,c){b.gdt=b.gdt||{},b.gdt.ToggleNightView=b.gdt.ToggleNightView||{};var d=function(){function a(){d()}var b="undefined"==typeof window.ontouchstart?"click":"touchend",d=function(){var a=c(".js-toggle-nightview"),d=c("#js-nightview-img").closest("figure");a.on(b,function(){var a=c(this);a.hasClass("cta-nightview")?(d.addClass("product-image-nightview-visible"),a.hide().parents(".product-image-cta").find(".cta-dayview").show()):(d.removeClass("product-image-nightview-visible"),a.hide().parents(".product-image-cta").find(".cta-nightview").show())})};return a(),{addListeners:d}};b.gdt.ToggleNightView=new d}(document,window,window.jQuery||window.Zepto),function(a,b,c){b.gdt=b.gdt||{};var d=function(){function a(a){var b=c(a),d=a.personalMessage.value,e=a.entryIndex.value,f=i.eq(e);b.parents(".add-message-form").find(".modal-close").click(),d.length?(f.find(".has-message").prop("hidden",!1).removeAttr("hidden"),f.find(".add-message-cta").prop("hidden",!0).attr("hidden","hidden")):(f.find(".has-message").prop("hidden",!0).attr("hidden","hidden"),f.find(".add-message-cta").prop("hidden",!1).removeAttr("hidden"))}function d(a){b.gdt.Utils.Console.log(a)}function e(e){var f=c(e),g=f.data("form"),h=document.forms[g],i=c(h);f.addClass("loading"),h.personalMessage.value="",b.gdt.Utils.ajaxCall({type:i.attr("method"),url:i.attr("action"),data:i.serialize(),callback:function(){f.removeClass("loading"),a(h)},error:d})}function f(a){return a=a.replace(/\%0D%0A/g,"\r")}function g(){c("body").on(h,".remove-message",function(){e(this)}),c("body").on("submit",".personal-message",function(e){var g=this,h=c(g),i=h.serialize(),j=f(i);e.preventDefault(),h.find("button").addClass("loading"),b.gdt.Utils.ajaxCall({type:h.attr("method"),url:h.attr("action"),data:j,callback:function(){h.find("button").removeClass("loading"),a(g)},error:d})})}var h="undefined"==typeof b.ontouchstart?"click":"touchend",i=c(".personalise");g()};b.gdt.PersonalMessage=new d}(document,window,window.jQuery||window.Zepto),function(a,b,c){b.gdt=b.gdt||{};var d=function(){function a(){var a=c(l.productCard),d=l.productCard;b.Modernizr.touch?g.find(d).on("click",function(d){var e=c(this);(!h.length||h.length&&!b.gdt.Utils.Browser.isMobileLayout)&&(e.hasClass(m.toggleView)||(d.preventDefault(),a.removeClass(m.toggleView),e.addClass(m.toggleView)))}):g.find(d).hover(function(){var b=c(this);b.hasClass(m.toggleView)||(a.stop(!0,!0).removeClass(m.toggleView),b.stop(!0,!0).delay(o.TIME_TO_DELAY).queue(function(){c(this).addClass(m.toggleView).dequeue()}))},function(){a.removeClass(m.toggleView)}),c(document).on("click touchstart",function(b){a.is(b.target)||0!==a.has(b.target).length||a.removeClass(m.toggleView)}),c(".close-overlay").on("click touchend",function(a){a.preventDefault(),a.stopPropagation(),c(this).parents(d).stop(!0,!0).removeClass(m.toggleView)})}function d(){c(document).on("click",".product-list-item-compare-btn",function(a){a.preventDefault();var d=c(a.currentTarget).closest(l.productCard).data("prod-code"),e=c(a.currentTarget).closest(l.productCard).data("product-family");b.gdt.ComparatorUtil.addItems(d,e)}),i.length>0&&(j.on("click",function(a){var d=c(a.currentTarget).data("prod-code"),e=c(a.currentTarget).data("prod-family");a.preventDefault(),b.gdt.ComparatorUtil.addItems(d,e)}),j.modal()),c.pubsub("subscribe",n.prodAdded,function(a,b){var d,e=c(".prod-comparator-msg-wrapper .product-detail-item-added").find(".message-text"),f=e.text();d=f.replace("{}",b),e.text(d),i.length>0&&(i.find(".cta-primary .comparator-btn").hide(),i.find(".cta-primary .view-comparator-btn").css("display","inline-block"),c(".prod-comparator-msg-wrapper").find(".modal-close").on("click",function(){setTimeout(function(){c(".mySelection").addClass("opened")},500)}))}),c.pubsub("subscribe",n.comparatorFull,function(a,c){b.gdt.ComparatorUtil.showComparatorFullMsg(c)}),c.pubsub("subscribe",n.comparatorFull,function(){i.length>0&&c("#comparatorMsgWrapper").addClass("comparator-full")})}function e(){var a=c(".watch-search");c(l.productCard).removeClass(m.firstProdCard),c(l.visibleProductCard).each(function(b){k?b%2===0&&c(this).addClass(m.firstProdCard):a.length>0?b%4===0&&c(this).addClass(m.firstProdCard):b%3===0&&c(this).addClass(m.firstProdCard)})}function f(){d(),a(),e()}var g=c("#js-product-list, #js-search-results"),h=c("#js-wishlist-caro"),i=c(".product-detail"),j=c(".comparator-btn"),k=b.gdt.Utils.Browser.isMobileLayout,l={productCard:"li.product-list-item",visibleProductCard:"li.product-list-item:visible"},m={toggleView:"change-view",firstProdCard:"first-prod-card"},n={comparatorFull:"comparator.full",prodAdded:"comparator.prod.added"},o={TIME_TO_DELAY:500};return f(),{toggleProdInfo:a,overlayPositionHandler:e}};b.gdt.ProdComparator=new d}(document,window,window.jQuery||window.Zepto),function(a,b,c){b.gdt=b.gdt||{};var d=function(){function a(){var a,d,f,g=b.gdt.ComparatorUtil.getTotalCount();0===g?x.addClass("emptyComparisonList").removeClass("filledComparisonList"):(c.each(t,function(b,g){if(a=g,d=a.itemList.length,f=b,d){var h=c(".tabs."+f).index();return e(a,d,f),c(".tabs."+f).addClass("active").siblings().removeClass("active"),y.find(".compareSlide:eq("+h+")").addClass("active").siblings().removeClass("active"),!1}}),H||(c("#loginOverlay").modal(),c.pubsub("publish",C.loginOverlay)))}function d(){t&&c.each(t,function(a,b){var d=b,e=a,f=d.itemList.length;f>0&&(c(".tabs."+e+" .tabCount").html(" ("+f+")"),c(".tabs."+e).removeClass("disabled-tab"))})}function e(a,e,i){var j,k,l=i,m=[];c.each(a.itemList,function(a,b){j=b,k=f(j,l),m.push(g(k,l))}),c.when.apply(c,m).then(function(){for(var a in z)if(z.hasOwnProperty(a)&&z[a].length>0){var e,f=a,g=B[f];d(),c.each(z[a],function(a,b){e=b,h(g,e,f,a)}),c("#compareListTable-"+a).addClass("column-"+z[a].length)}y.removeClass("loading"),r(i),b.gdt.Utils.Browser.isMobileLayout&&c(".fyp").modal()})}function f(a){var c,d=b.location.pathname,e=d.split(".");return c=e[0]+".compareproduct."+a+".json"}function g(a,d){var e=c.Deferred();return b.gdt.Utils.ajaxCall({type:"GET",url:a}).done(function(a){z[d].push(a),e.resolve()}),e.promise()}function h(a,d,e,f){var g=b.location.pathname,h=g.replace(".html",".commerce-op.html"),k=a,l='<img class="dayView" src="'+d.imagePath+'" alt="'+d.title+'">',m=d.imageNightPath?'<img class="nightView" src="'+d.imageNightPath+'" alt="'+d.title+'">':"",n=d.isPurchasable?"<h4>"+d.price+'</h4><span class="content"> '+a.data("excluding-tax")+" </span>":"",o=d.isAddToCartAllowed?'<form class="save-product" method="POST" action="'+h+'"><input type="hidden" name="product-path" value="'+d.productPath+'" /><button class="cta-purchase" data-tracking-event="comparatorPageAction" data-tracking-comparatorfeature="purchase"  name="op:" value="add-to-cart" data-tracking-page="'+d.title+'">Purchase</button></form>':"",q=d.caseWatch?d.caseWatch:"",r=d.case?d.case:"",s=d.movement?d.movement:"",t=d.functions?d.functions:"",u=d.dial?d.dial:"",v=d.bezel?d.bezel:"",y=d.back?d.back:"",z=d.waterResistant?d.waterResistant:"",A=d.strap?d.strap:"",B=d.buckleType?d.buckleType:"",C=d.buckleSize?d.buckleSize:"",D=d.threadColor?d.threadColor:"",F=d.size?d.size:"",H=d.color?d.color:"",I=d.hasColorVariants,J=d.url,K=d.material?d.material:"",L=d.finishing?d.finishing:"",M=d.reference?d.reference:"",N=c(".compareListTable").data("day-view"),O=c(".compareListTable").data("night-view");
if(k.find(".product td:eq("+f+")").addClass("showTitle").removeClass("empty").html('<button data-tracking-event="comparatorPageAction" data-tracking-comparatorfeature="delete" class="removeProduct" data-prod-code="'+d.globalReference+'" data-prodcut-family="'+e+'" >Close</button><a class="image-wrapper day-view" href="'+d.url+'" data-tracking-event="comparatorPageAction" data-tracking-comparatorfeature="navigate">'+l+m+'<span class="title">'+d.title+'</span><span class="subTitle">'+d.reference+'</span><span class="sticky"><span class="title">'+d.title+'</span><span class="subTitle">'+d.reference+"</span></span></a>"),k.find(".price td:eq("+f+")").addClass("showTitle").find(".fillData").html(n+o),k.find(".product td:eq("+f+")").attr("data-reference-code",M),m&&!G&&k.find(".product td:eq("+f+")").append('<a class="toggle-image-view cta-night-view" href="#">'+O+'</a><a class="toggle-image-view cta-day-view hide-btn" href="#">'+N+"</a>"),s&&k.find(".movement td:eq("+f+")").addClass("showTitle").find(".content").text(s),t&&k.find(".functions td:eq("+f+")").addClass("showTitle").find(".content").text(t),q&&k.find(".caseWatch td:eq("+f+")").addClass("showTitle").find(".content").text(q),r){var P="";if(r){P='<ul class="case-description">';for(var Q in r)r.hasOwnProperty(Q)&&(P+="<li><span>"+Q+"</span><span>"+r[Q]+"</span></li>");P+="</ul>"}k.find(".case td:eq("+f+")").addClass("showTitle").find(".content").html(P)}if(u&&k.find(".dial td:eq("+f+")").addClass("showTitle").find(".content").text(u),v&&k.find(".bezel td:eq("+f+")").addClass("showTitle").find(".content").text(v),y&&k.find(".back td:eq("+f+")").addClass("showTitle").find(".content").text(y),z&&k.find(".waterResistant td:eq("+f+")").addClass("showTitle").find(".content").text(z),A&&k.find(".strap td:eq("+f+")").addClass("showTitle").find(".content").text(A),B&&k.find(".buckleType td:eq("+f+")").addClass("showTitle").find(".content").text(B),C&&k.find(".buckleSize td:eq("+f+")").addClass("showTitle").find(".content").text(C),H&&k.find(".color td:eq("+f+")").addClass("showTitle").find(".content").text(H),"TRUE"===I&&(k.find(".color td:eq("+f+")").find(".available-options").addClass("available"),k.find(".color td:eq("+f+")").find(".available-options").attr("href",J)),D&&k.find(".lining td:eq("+f+")").addClass("showTitle").find(".content").text(D),F&&k.find(".size td:eq("+f+")").addClass("showTitle").find(".content").text(F),K&&k.find(".material td:eq("+f+")").addClass("showTitle").find(".content").text(K),L&&k.find(".finishing td:eq("+f+")").addClass("showTitle").find(".content").text(L),G?k.find(".price td:eq("+f+")").find(".newWishList").removeClass("hide").addClass("mobileOnly").attr({"data-id":d.globalReference,"data-path":d.productPath}):k.find(".wishlist td:eq("+f+")").addClass("showThis").find(".newWishList").attr({"data-id":d.globalReference,"data-path":d.productPath}),i(k),j(k),x.addClass("filledComparisonList"),c("#compareListTable-"+e).replaceWith(k).parents(".compareSlide").addClass("prod-data-added"),E>-1){var R=p("name");R=decodeURIComponent(R),c("#compareListTable-"+e).parents(".compareSlide").find(".comparelist-suffix").text(R)}else c("#compareListTable-"+e).parents(".compareSlide").find(".comparelist-suffix").text(w[e].listName);var S=!0;b.gdt.ComparelistCarousel.stickyHeader(0,S),G&&b.gdt.ComparelistCarousel.swipeFunction(),c(".newWishList").modal()}function i(a){a.find("tr").not(".product, .wishlist").each(function(){var a=c(this),b="";a.removeClass("hide"),a.find("td").each(function(){var a=c(this).find(".content").text();b+=a}),""===b&&a.addClass("hide")})}function j(a){a.find("tr").each(function(){for(var a=c(this),b=0;3>b;b++){var d=a.find("td").eq(b).find(".content").height();d>38&&(a.find("td").eq(b).find(".large-content").length||a.find("td").eq(b).find(".content").addClass("large-content").after('<a class="toggle-content" href="#">view more</a>'))}})}function k(a,b){var d=c("#rename-comparelist-form"),e=c("#product-category"),f=c("#old-comparelist-name"),g=c("#comparelist-name"),h=location.pathname.split("."),i=location.pathname.split(".").pop(-1),j=h[0]+".commerce-op."+i;d.attr("action",j),e.val(a),f.val(b),g.val(b)}function l(a,d){var e=a.serialize(),f=a.attr("method"),g=a.attr("action"),h=a.find("#comparelist-name").val();H?(b.console.log("logged in user"),c.ajax({type:f,url:g,data:e,success:function(){w[d].listName=h,c("#compareListTable-"+d).parents(".compareSlide").find(".comparelist-suffix").text(w[d].listName),b.gdt.ComparatorUtil.updateCompareCookie(t)},beforeSend:function(){a.find(".cta-comparelist").addClass("loading")},complete:function(){c.pubsub("publish",C.modal.close),a.find(".cta-comparelist").removeClass("loading")}})):(b.console.log("anonymous user"),w[d].listName=h,b.gdt.ComparatorUtil.updateCompareCookie(t),c("#compareListTable-"+d).parents(".compareSlide").find(".comparelist-suffix").text(w[d].listName),c.pubsub("publish",C.modal.close))}function m(a){var b,d,f;b=w[a],b&&(d=b.itemList.length,f=c(".tabs."+a).index(),e(b,d,a),c(".tabs."+a).addClass("active").siblings().removeClass("active"),y.find(".compareSlide:eq("+f+")").addClass("active").siblings().removeClass("active"))}function n(){c(".tabs").on("click",function(){var a,d,f=c(this),g=c("#tab-parent").find(".tabs").length,h=f.height(),i=h*(g-1),j=f.parent(),k=f.data("product-family"),l=f.index();a=w[k],d=a.itemList.length,f.hasClass("active")?j.hasClass("open")?(j.removeClass("open"),b.gdt.ComparelistCarousel.stickyHeader(-i)):(j.addClass("open"),b.gdt.ComparelistCarousel.stickyHeader(i)):d&&(f.addClass("active").siblings().removeClass("active"),y.find(".compareSlide:eq("+l+")").addClass("active").siblings().removeClass("active"),y.find(".compareSlide:eq("+l+")").hasClass("prod-data-added")?(r(k),j.removeClass("open"),b.gdt.ComparelistCarousel.stickyHeader(-i)):(y.addClass("loading"),e(a,d,k),j.removeClass("open"),b.gdt.ComparelistCarousel.stickyHeader(-i)))}),c(document).on("click",".edit-compare-list",function(a){a.preventDefault();var b=c(this).data("prod-family"),d=c(this).parents(".compareSlide").find(".comparelist-suffix").text();k(b,d)}),v.on("submit",".rename-comparelist",function(a){a.preventDefault();var b=c(this),d=b.find("#product-category").val();l(b,d)}),c("body").on("click",".removeProduct",function(){var a=c(this),d=a.data("prod-code"),e=a.data("prodcut-family"),f=c(this).parents("td").index();b.gdt.ComparatorUtil.removeItems(d,e,f),a.addClass("loading")}),c.pubsub("subscribe",I.prodRemoved,function(a,b){var d,e=b.prodType,f=b.tdIndex;if(B[e]=A[e].clone(),d=B[e],z[e].splice(f,1),c.cookie(u.COMPARECOOKIE)&&(t=c.parseJSON(c.cookie(u.COMPARECOOKIE)),w={WMF:t.WMF,WBU:t.WBU,WBR:t.WBR}),z[e].length>0)c.each(z[e],function(a,b){h(d,b,e,a)}),c("#compareListTable-"+e).addClass("column-"+z[e].length),c(".tabs."+e+" .tabCount").html(" ("+z[e].length+")");else{c("#compareListTable-"+e).replaceWith(d),c("#compareListTable-"+e).parent(".compareSlide").removeClass("prod-data-added"),c(".tabs."+e).addClass("disabled-tab").find(".tabCount").html(""),c("#tab-parent").find(".tabs:not(.disabled-tab):first").trigger("click"),c("#compareListTable-"+e).addClass("column-"+z[e].length);var g=c("#tab-parent").find(".disabled-tab").length;g===u.MAXPRODCOMPARESIZE&&x.addClass("emptyComparisonList").removeClass("filledComparisonList")}}),v.on("click",".toggle-content",function(a){a.preventDefault();var b=c(this).parents(".showTitle").find(".content");b.hasClass("large-content")?(b.removeClass("large-content"),c(this).text("view less").addClass("less")):(b.addClass("large-content"),c(this).text("view more").removeClass("less"))}),v.on("click",".toggle-image-view",function(a){a.preventDefault();var b=c(this).parents("td").find(".image-wrapper"),d=c(this).parents("td");b.hasClass("day-view")?b.removeClass("day-view").addClass("night-view"):b.removeClass("night-view").addClass("day-view"),d.find(".cta-day-view").toggleClass("hide-btn"),d.find(".cta-night-view").toggleClass("hide-btn")}),y.length&&v.on("click",".print",function(a){a.preventDefault(),b.print()})}function o(){v.on("click",".tip",function(){var a=c(this),b=a.position().left,d=a.next(".tipContent"),e=d.height(),f=a.parent();c(".titleTip").removeClass("visible"),G||d.css({"margin-top":-(e/2),"margin-left":b}),f.addClass("visible")}),v.on("click",function(){c(".titleTip").removeClass("visible")}),v.on("click",".tipContent, .tip",function(a){a.stopPropagation()})}function p(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var b="[\\#&]"+a+"=([^&#]*)",c=new RegExp(b),d=c.exec(window.location.hash.substr());return null===d?"":d[1]}function q(){var a=p("products"),b=c(".edit-compare-list").data("prod-family"),d=a.split(","),f=d.length,g={listName:"",itemList:d};e(g,f,b),x.addClass("filledSharedView")}function r(a){var b={WBU:"Buckles",WBR:"Straps",WMF:"Watches"},d=c(".compareListTable-"+a).find("tr.first td"),e=[];c(d).each(function(){e.push(c(this).data("reference-code"))}),F.trackevent=c(".tabs").data("tracking-event"),F.comparisonProduct1=e[0],F.comparisonProduct2=e[1],F.comparisonProduct3=e[2],F.productCategory=b[a],c.pubsub("publish",C.tabClicked,F)}function s(){c(".edit-compare-list").modal(),A={WMF:c(".compareListTable-WMF"),WBU:c(".compareListTable-WBU"),WBR:c(".compareListTable-WBR")},B={WMF:A.WMF.clone(),WBU:A.WBU.clone(),WBR:A.WBR.clone()},c.cookie(u.COMPARECOOKIE)&&(t=c.parseJSON(c.cookie(u.COMPARECOOKIE)),w={WMF:t.WMF,WBU:t.WBU,WBR:t.WBR}),n(),c("#compareListTableWrapper").length>0&&(D=D.substr(1),D&&"WBU"===D||"WBR"===D||"WMF"===D?m(D):a(),o()),E>-1&&(q(),o())}var t,u={COMPARECOOKIE:"compare-product",WATCH:"WMF",BUCKLE:"WBU",STRAP:"WBR",MAXPRODCOMPARESIZE:3},v=c("body"),w=[],x=c("html"),y=c("#compareListTableWrapper"),z={WMF:[],WBU:[],WBR:[]},A={},B={},C=b.gdt.Utils.PubSub.UI_EVENTS,D=location.hash,E=window.location.href.indexOf("shared"),F={event:"",productCategory:"",comparisonProduct1:"",comparisonProduct2:"",comparisonProduct3:""},G=b.gdt.Utils.Browser.isMobileLayout,H=c("html").hasClass("logged-in"),I={prodRemoved:"comparator.prod.removed"};s()};b.gdt.ProdComparatorResult=new d}(document,window,window.jQuery||window.Zepto),function(a,b,c){b.gdt=b.gdt||{},b.gdt.ProductGallery=b.gdt.ProductGallery||{},b.videojs.options={flash:{swf:"/swf/video-js.swf",params:{wmode:"transparent"}}};var d=function(){function a(a,b){a.find(".zoom-image").attr("src",b),a.find(".zoom-image").get(0).remove()}function d(c){var d=b.gdt.Utils.Picture.getImgSrcFromTemplate(c);a(c,d)}function e(){y.hasClass("zoomed")&&c(".slide.zoomed").each(function(){c(this).find('[type="text/x-tmpl"]').length&&d(c(this))})}function f(){n(B),n(C),c(".video-playing").removeClass("video-playing")}function g(a,b){u.find(".scroll").addClass("no-transition"),u.akcarousel("move",a.index()),setTimeout(function(){u.find(".scroll").removeClass("no-transition")},1e3),v.addClass("moodboard-hidden"),u.addClass("carousel-hero-productgallery-visible"),x.addClass("modal-full-gallery-visible"),z.addClass("modal-full-ft-visible"),y.removeClass(L),i(b),l(B,"pause")}function h(){v.removeClass("moodboard-hidden"),u.removeClass("carousel-hero-productgallery-visible"),x.removeClass("modal-full-gallery-visible"),z.removeClass("modal-full-ft-visible")}function i(a){switch(a){case y.size()-1:z.removeClass("modal-full-ft-visible");break;default:z.addClass("modal-full-ft-visible")}}function j(){"click"===E&&(v.on("mouseover","li",function(){var a=c(this);a.closest("ul").find("li").not(a).addClass("unhover")}),v.on("mouseout","li",function(){var a=c(this);a.closest("ul").find("li").removeClass("unhover")})),v.on(E,"li:not(.video-container)",function(){var a=c(this),d=a.index();b.matchMedia("only screen and (min-width: 700px)").matches&&g(a,d)}).on(E,".video-container:not(.video-playing)",function(){l(B,"play")}),x.on(E,function(){h(),l(C,"pause")})}function k(a){for(var b=a.controlBar,d=b.addChild("button").addClass("pan-volume"),e=0;4>e;e++)d.addChild("button").addClass("volumelevel level"+(e+1)+" active");c(d.el_).on(E,".volumelevel",function(){var b=c(this),d=".volumelevel",e=b.parent().find(d),f=b.index(d)+1/e.size();a.volume(f),e.removeClass("active").filter(":lt("+parseInt(b.index(d)+1,10)+")").addClass("active")})}function l(a,b){switch(b){case"play":a.paused()&&a.play();break;case"pause":a.paused()||a.pause()}}function m(){M.each(function(){var a=c(this).get(0);b.videojs(a,{nativeControlsForTouch:!1}).ready(function(){C=this,this.nativeControlsForTouch=!1,k(C),D=this.techName,j(this)})})}function n(a){void 0!==a&&(a.pause(),setTimeout(function(){a.dispose()},0))}function o(){K.removeClass("slidenavvisible").addClass("slidenavhidden"),H.removeClass("slidenavvisible").addClass("slidenavhidden"),I.removeClass("arrow-down").addClass("arrow-up")}function p(){u.akcarousel({delay:5e3,horizontal:!0,scrollNode:!0,autoSwitch:!1,scrollSpeed:1e3,navarrows:!0,easing:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",callback:function(a){c(".desktop.slidenavigation").akcarousel("move",a)}}),c(".desktop.slidenavigation").akcarousel({horizontal:!0,delay:5e3,scrollSpeed:500,scrollNode:!0,interruptionDelay:1e4,skipbounds:!0,lockscroll:!0,tapnavigation:!0,variablesizeslides:!0,navarrows:!0,easing:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",callback:function(a){u.akcarousel("move",a),K.removeClass("slidenavvisible").addClass("slidenavhidden"),H.removeClass("slidenavvisible").addClass("slidenavhidden"),I.removeClass("arrow-down").addClass("arrow-up"),I.removeClass("btndisappear")}}),setTimeout(function(){o()},2e3),w=u.find(".cleftarrow, .crightarrow"),H.on(E+".buttonslideup",function(a){a.preventDefault(),a.stopPropagation();var b=c(this).find("button").attr("class");J||("cta-gallery arrow-up"===b?(K.addClass("slidenavvisible").removeClass("slidenavhidden"),H.addClass("slidenavvisible").removeClass("slidenavhidden"),I.addClass("arrow-down").removeClass("arrow-up"),I.addClass("btndisappear").removeClass("btnappear")):(K.removeClass("slidenavvisible").addClass("slidenavhidden"),H.removeClass("slidenavvisible").addClass("slidenavhidden"),I.removeClass("arrow-down").addClass("arrow-up")),G.on(E+".buttonslideup",function(a){c(a.target).parents(".slidenavigation").length||(K.removeClass("slidenavvisible").addClass("slidenavhidden"),H.removeClass("slidenavvisible").addClass("slidenavhidden"),I.removeClass("arrow-down").addClass("arrow-up"),I.removeClass("btndisappear"),G.off(E+".buttonslideup"))}))}),c(".zoom").length>0&&c(".zoom").galleryZoom();var a=window.location.hash,b=[];b=a.split("-");var d=b[1];"#gallery"===b[0]&&(c("#js-product-gallery-carousel").akcarousel("move",d-1),c(".desktop.slidenavigation").akcarousel("move",d-1)),e()}function q(){u=c("#js-product-gallery-carousel"),y=u.find("li"),A=u.find(".video-js").clone()}function r(){u||(q(),p(),m())}function s(){c("#js-product-gallery").modal(),c("body").on("click","#js-product-gallery-btn",function(){c.pubsub("publish",F.productGallery),c("#js-product-gallery").find(".slidenavigation .slide").each(function(){var a=c(this),b=a.find("img");b.each(function(){var a=c(this),b=a.data("src");a.attr("src",b)})})});var a=window.location.hash,b=[];b=a.split("-"),"#gallery"===b[0]&&(c.pubsub("publish",F.productGallery),c("#js-product-gallery").find(".slidenavigation .slide").each(function(){var a=c(this),b=a.find("img");b.each(function(){var a=c(this),b=a.data("src");a.attr("src",b)})}))}function t(){c.pubsub("subscribe",F.modal.productGallery.opening,r),c.pubsub("subscribe",F.modal.productGallery.closing,f),s()}var u,v,w,x,y,z,A,B,C,D,E="undefined"==typeof window.ontouchstart?"click":"touchend",F=b.gdt.Utils.PubSub.UI_EVENTS,G=c("body"),H=c(".buttonslideup"),I=c(".buttonslideup button"),J=!1,K=c(".slidenavigation"),L="carousel-hero-image-lazyload",M=c(".video-js");return c(".video-container").on("click",function(){var a=c(this),b=a.find("video.vjs-tech"),d=b.get(0).player.controlBar;l(b.get(0).player,"play"),b.get(0).player.on("play",function(){c(b.get(0).player.el_).parent().addClass("video-playing"),d.show()}),b.get(0).player.on("pause",function(){c(b.get(0).player.el_).parent().removeClass("video-playing"),l(b.get(0).player,"pause"),d.hide()}),b.on("ended",function(){c(b.get(0).player.el_).parent().removeClass("video-playing"),d.hide()})}),t(),{init:t}};b.gdt.ProductGallery=new d}(document,window,window.jQuery||window.Zepto),function(a,b,c){b.gdt=b.gdt||{};var d=function(){function a(){j.on(f,function(){var a="promo-open",b=i.hasClass(a)?k:l,c=h.prev("h3").outerHeight(!0),d=i.hasClass(a)?0:i.find("ul").outerHeight(!0)+c;i.toggleClass(a).css("max-height",d+"px"),j.text(b).toggleClass("button-minimise")})}function d(){"click"!==f&&h.on(f,"li.product-list-item",function(){}).on("touchstart",function(){g=!1}).on("touchmove",function(){g=!0}),m.on("change",function(){var a,d=h.find('[data-purchaseable="false"]'),e=c("body");"online"===c(this).val()?(d.hide(),a="sold online"):(d.show(),a="view all"),h.hide().fadeIn(2e3),b.gdt.ProdComparator.overlayPositionHandler(),e.trigger("collectionsViewFilter",{event:"itemDisplay",Product_subsection:c("input[name=Product_subsection]").val(),Product_type:c("input[name=Product_type]").val(),view:a})})}function e(){d(),a()}var f="undefined"==typeof window.ontouchstart?"click":"touchend",g=!1,h=c("#js-product-list"),i=c("#js-splash-promo"),j=c("#js-show-promo"),k=j.text(),l=j.data("closetext"),m=c("#js-product-list-filters").find("[name=product-filter]");return{init:e}};b.gdt.ProductList=new d}(document,window,window.jQuery||window.Zepto),function(a,b,c){b.gdt=b.gdt||{};var d=function(){function a(a,b){a.css("background-image","url("+b+")")}function d(c){var d=b.gdt.Utils.Picture.getImgSrcFromTemplate(c);c.removeClass(l),a(c,d)}function e(){i.akcarousel({horizontal:!0,scrollNode:!0,autoSwitch:!1,easing:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",callback:function(a){var b=c(this.node).find(".slide").size(),e=a===b?0:a+1,f=c(this.node).find(".slide").eq(e);f.hasClass(l)&&d(f)}}),d(j.eq(0)),d(j.eq(1))}function f(){k.on(h,"a",function(){d(i.find("."+l)),i.akcarousel("move",c(this).index())})}function g(){i.length&&(e(),f()),b.gdt.Utils.Browser.isMobileLayout&&c(".qualityContentContainer").parent().find(".mobile-links").find("a.back").hide()}var h="undefined"==typeof window.ontouchstart?"click":"touchend",i=c("#js-carousel-QualityControl"),j=c("#js-carousel-QualityControl").find("li"),k=c(".pager"),l="carousel-hero-image-lazyload";g()};b.gdt.QualityControlSlider=new d}(document,window,window.jQuery||window.Zepto),function(a,b){var c="undefined"==typeof window.ontouchstart?"click":"touchend",d=a(".social-wrapper"),e=d.find("dl"),f=d.find(".emailOverlay"),g=d.find(".close, .modal-close"),h=a("#library"),i=a("#empty-comparelist, #emptyWishlist, #js-wishlist-caro"),j=a("html"),k=a("#empty-comparelist"),l=".social-wrapper .facebook a, .social-wrapper .twitter a, .social-wrapper .linkedin a, .social-wrapper .googleplus a, .social-wrapper .pinterest a, .close",m=a(".socialShare"),n=a("#compareListTableWrapper"),o=a("#js-wishlist-caro"),p=a(".carousel-wishlist-wrap"),q=a(".equalTitle").length?a(".equalTitle"):0;if(!b.gdt.Utils.Browser.isMobileLayout&&(k.length||o.length)&&q){var r=q.offset().top;d.css("top",r+100),a("body").on("click",l,function(){j.removeClass("mobileSite openOptions openTellFriend")})}if(d.length){var s=a(".socialShare.social-button");if(b.gdt.Utils.Browser.isMobileLayout){var t=m.clone(!0);a(".product-image-cta").append(t)}else s.length&&(f.css({top:m.offset().top,left:m.offset().left-410,marginTop:-f.height()/2}),e.css({top:m.offset().top,left:m.offset().left+4,marginTop:-(e.height()+15)}),a(window).on("orientationchange",function(){f.css({top:m.offset().top,left:m.offset().left-410,marginTop:-f.height()/2}),e.css({top:m.offset().top,left:m.offset().left+4,marginTop:-(e.height()+15)})}));if(!s.length&&b.gdt.Utils.Browser.isMobileLayout?d.find("dd.email").on(c,function(a){a.preventDefault(),j.addClass("openTellFriend")}):s.length||h.length||i.length||j.addClass("footerShare"),i.length&&!b.gdt.Utils.Browser.isMobileLayout&&j.addClass("compareAndwishlistShare"),a("body").on(c,".socialShare",function(c){c.preventDefault();var e=f.find(".captchaID"),g=e.prop("id"),h=e.data("sitekey");if(j.addClass(b.gdt.Utils.Browser.isMobileLayout?"openOptions mobileSite":"openOptions"),a("#recaptcha_challenge_field_holder").remove(),a("#recaptcha_response_field").remove(),f.find(".captchaID").append('<input type="text" id="recaptcha_response_field" required name="recaptcha_response_field" />'),a.getScript("//www.google.com/recaptcha/api/js/recaptcha_ajax.js",function(){a("#recaptcha_image").remove(),a('<div id="recaptcha_image"></div>').insertBefore(a("#"+g+" .recaptcha_only_if_incorrect_sol")),window.Recaptcha.create(h,g,window.RecaptchaOptions)}),n.length||o.length){var i=a("#compareListTableWrapper").find(".compareSlide.active table"),k=i.data("description"),l=a("#compareListTableWrapper").find(".compareSlide.active h1 .comparelist-suffix").text()?a("#compareListTableWrapper").find(".compareSlide.active h1 .comparelist-suffix").text():p.data("title"),m=i.data("media")?i.data("media"):p.data("media"),q=i.data("share-url")?i.data("share-url"):p.data("share-url"),r=i.data("title")?i.data("title"):p.data("title"),s=[];l=encodeURIComponent(l),i.find("tr.first td.showTitle").each(function(){var b=a(this).find(".removeProduct").data("prod-code");s.push(b)}),b.gdt.Utils.Browser.isMobileLayout?a(this).parents(".slide:first").find(".wishlist-prod-list li").each(function(){var b=a(this).data("prod-code");s.push(b)}):o.find(".slide.active .wishlist-prod-list li").each(function(){var b=a(this).data("prod-code");s.push(b)}),d.find("dd a").not(".email a, .footerShareThis a, .close a, .title a").each(function(){var b=a(this),c=b.data("href-original"),d="products="+s+"&name="+l;d=encodeURIComponent(d);var e=c.replace(/{url}/g,q+d).replace(/{description}/g,k).replace(/{pagetitle}/g,r).replace(/{media}/g,m);b.prop("href",e)});var t=decodeURIComponent(q);a("#share-url").prop("value",t+"products="+s+"&name="+l)}}),a("body").find("dd.email").on(c,function(b){b.preventDefault();var c=f.find(".captchaID"),d=c.prop("id"),e=c.data("sitekey");j.addClass("openTellFriend"),f.find("form").show(),f.find(".gdt-message").remove(),a("#recaptcha_challenge_field_holder").remove(),a("#recaptcha_response_field").remove(),f.find(".captchaID").append('<input type="text" id="recaptcha_response_field" required name="recaptcha_response_field" />'),a.getScript("//www.google.com/recaptcha/api/js/recaptcha_ajax.js",function(){a("#recaptcha_image").remove(),a('<div id="recaptcha_image"></div>').insertBefore(a("#"+d+" .recaptcha_only_if_incorrect_sol")),window.Recaptcha.create(e,d,window.RecaptchaOptions)})}),h.length){if(b.gdt.Utils.Browser.isMobileLayout){var u=a(".emailOverlay"),v=a(".social-button:first dl").clone(!0);u.wrap('<div class="social-wrapper createdOne"></div>').parent().prepend(v),a("body").on(c,"#library .social-button",function(){j.addClass("libEmail"),a("#library").hide()}),a("body").on(c,"dd.close",function(){j.removeClass("libEmail"),a("#library").show()})}else a("body").on(c,"#library .social-button",function(){a(this).addClass("visible")});a("body").on(c,function(){a("#library .social-button").removeClass("visible")}),a("body").on(c,"#library .social-button",function(a){a.stopPropagation()}),a(".modal-close").on(c,function(a){a.preventDefault(),j.removeClass("openTellFriend")})}g.on(c,function(a){a.preventDefault(),j.removeClass("mobileSite openOptions openTellFriend")}),a("body").on(c,function(){j.removeClass("mobileSite openOptions openTellFriend")}),a("body").on(c,".socialShare, .social-wrapper, .emailOverlay",function(a){a.stopPropagation()})}}(window.jQuery,window),function(a,b,c){b.gdt=b.gdt||{};var d=function(){function a(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var b="[\\?&]"+a+"=([^&#]*)",c=new RegExp(b),d=c.exec(window.location.href);return null===d?"":d[1]}function d(){var b=a("case"),d=a("case-diameter");b=b.replace(new RegExp("%7C","g"),"|"),d=d.replace(new RegExp("%7C","g"),"|"),b=b.substring(0,b.indexOf("|")),d=d.substring(0,d.indexOf("|"));var e=window.location.protocol,f=window.location.host,g=window.location.pathname;g=g.substring(0,g.indexOf("."));var h=c("input.colorVariantsPathVar").data("path"),i=c("input.sizeVariantsPathVar").data("path"),j=c("input.relatedVariantsPathVar").data("path");c("input.colorVariantsPathVar").val(e+"//"+f+g+h+b+"."+d+".html"),c("input.sizeVariantsPathVar").val(e+"//"+f+g+i+b+"."+d+".html"),c("input.relatedVariantsPathVar").val(e+"//"+f+g+j+b+"."+d+".html")}function e(){var b=c("input.colorVariantsPathVar").val();if(c("div.moreVariants").hide(),c("div.availableVariantsSection").hide(),c("div.strap-Size").hide(),j>0&&k>0){var d=a("ref");b=b.slice(0,-6),b=b+"REF-"+d+".html"}c.ajax({type:"GET",url:b,dataType:"html",success:function(a){c("div.availableVariantsCont").html(a),c("div.availableData:gt(3)").hide(),c("div.availableData").length>=5?c("div.moreVariants").show():c("div.moreVariants").hide(),c("div.availableData").length>=1&&c("div.availableVariantsSection").show(),c("#strapDetailPage .availableVariantsSection .availableVariantsCont .availableData a").attr("href",function(a,b){return b+"?"+i})}}),c("div.variantsAvailable .moreVariants span").on("click",function(){c("div.availableData:gt(3)").animate({height:"toggle"},600,function(){}),c("div.availableData").not(":visible").animate({height:"toggle"},500,function(){});var a=c("div.variantsAvailable .moreVariants span"),b="more",d="less";a.hasClass("more")?(c(".availableVariantsSection").addClass("visibleAvailableColors"),a.removeClass("more"),c(this).addClass("slideUp"),a.html(d)):(c(".availableVariantsSection").removeClass("visibleAvailableColors"),c(this).addClass("more"),c(this).removeClass("slideUp"),c(this).html(b))})}function f(){var b=c("input.sizeVariantsPathVar").val();if(j>0&&k>0){var d=a("ref");b=b.slice(0,-6),b=b+"REF-"+d+".html"}c.ajax({type:"GET",url:b,dataType:"html",success:function(a){c("span.product-size").html(a),c("span.product-size select option").length>=1&&c("div.strap-Size").show(),c("#strapDetailPage .product-overview .strap-Size .product-size select").bind("change",function(){var a=this.value+"?"+i;return a&&(window.location=a),!1})}})}function g(){var b=c("input.relatedVariantsPathVar").val();if(j>0&&k>0){var d=a("ref");b=b.slice(0,-6),b=b+"REF-"+d+".html"}c.ajax({type:"GET",url:b,dataType:"html",success:function(a){c("div.products-related-accessories").html(a),c(".products-related-accessories a").attr("href",function(a,b){return b+"?"+i}),c("main div.products-related-accessories ul li").length<1&&c("div.products-related-accessories").remove()}})}function h(){if(c("main #strapDetailPage").length>0){d(),e(),1!==l&&(f(),g()),c("main div.related-buckle ul li").length<1?c("main div.related-buckle").remove():c(".related-buckle ul li a").attr("href",function(a,b){return-1===b.indexOf("?")?b+"?"+i:void 0}),c("nav.product-crumb span a").attr("href",function(a,b){return b+"?"+i});var a=document.URL.split("?")[1];void 0!==a?(c("#snb-selection .selectionView").show(),c("#snb-selection .selectionView p a").attr("href",function(a,b){return b+"?"+i})):c("#snb-selection .selectionView").hide()}}var i=window.location.href.slice(window.location.href.indexOf("?")+1),j=b.location.search.indexOf("ref="),k=b.location.search.indexOf("wid="),l=b.location.search.indexOf("sid=");h()};b.gdt.strapsBracelets=new d}(document,window,window.jQuery||window.Zepto),function(a,b,c){b.gdt=b.gdt||{};var d=function(){function a(){var a,d=c.trim(n.html());d=c.parseHTML(d),a=c(d),n.replaceWith(a),k=m.find("picture"),b.picturefill()}function d(){k.hide()}function e(){k.show()}function f(){}function g(){o.each(function(){var a=c(this);a.parent().prepend(a)})}function h(){}function i(){c(b).smartresize(function(){var c="undefined"!=typeof k;b.matchMedia("only screen and (min-width: 668px)").matches?(h(),c?e():a()):(f(),0!==l.data("index")&&g(),c||0!==l.data("index")?0!==l.data("index")&&d():a())}),c(b).trigger("resize")}function j(){l.length&&i()}var k,l=c("#js-sustainability-wrap"),m=l.find(".splash"),n=m.find("script"),o=l.find(".thumbs");j()};b.gdt.SustainabilityWrap=new d}(document,window,window.jQuery||window.Zepto),function(a,b,c){function d(){function a(a){c.ajax({type:"post",url:a.attr("action"),data:a.serialize(),dataType:"json",success:function(c){d.removeClass("loading"),a.parents("div.emailOverlay").addClass("messageTellaFriend"),c.status===!0?(a.hide().after("<div class='gdt-message'>"+c.message+"</div>"),b.Recaptcha.reload(),a.find("[type=reset]").trigger("click"),a.find(".captchaDiv").removeClass("captchaError")):c.status===!1&&void 0!==c.validCaptcha&&c.validCaptcha===!1?(a.find(".captchaDiv").addClass("captchaError"),b.Recaptcha.reload()):(a.hide().after("<div class='gdt-message'>"+c.message+"</div>"),b.Recaptcha.reload(),a.find("[type=reset]").trigger("click"),a.find(".captchaDiv").removeClass("captchaError"))},error:function(b,c,d){a.hide().after("<div class='gdt-message'>"+d+"</div>")}})}var d=c("#js-tell-a-friend div.send-request button");d.on(e,function(b){b.preventDefault(),window.gdt.Validate.form("tellafriend")&&(a(c("#tellafriend")),d.addClass("loading"))})}b.gdt=b.gdt||{},b.gdt.Utils=b.gdt.Utils||{};var e="undefined"==typeof window.ontouchstart?"click":"touchend";b.gdt.Tellafriend=new d}(document,window,window.jQuery||window.Zepto),function(a,b,c){b.gdt=b.gdt||{};var d=function(){function a(a){var d,e=c.trim(a.html());e=c.parseHTML(e),d=c(e),a.replaceWith(d),b.picturefill()}function d(b){a(m.eq(b).find('[type="text/x-tmpl"]')),a(m.eq(b+1).find('[type="text/x-tmpl"]'))}function e(){l.akcarousel({delay:5e3,horizontal:!0,scrollNode:!0,autoSwitch:!1,scrollSpeed:1e3,easing:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",navarrows:!0,callback:function(a){k.akcarousel("move",a),g(n.eq(a)),d(a)}})}function f(){k.akcarousel({horizontal:!0,scrollNode:!0,autoSwitch:!1,scrollSpeed:600,easing:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",navarrows:!0})}function g(a){n.removeClass("clicked"),a.addClass("clicked"),window.location.hash=a.data("year")}function h(){k.find(".slide").on("click",function(){var a=c(this),b=a.index();g(a),l.akcarousel("move",b),k.akcarousel("move",b),d(b)}),c(document).on(j,function(){l.find(".scroll").addClass("scroll-interacted")})}function i(){if(k.length){e(),f(),h();var b=window.location.href.split("#")[1],g=b?k.find('[data-year="'+b+'"]').index():0;g=-1===g?0:g,n.eq(g).addClass("clicked"),l.akcarousel("move",g),k.akcarousel("move",g),d(g),c(".carousel-history-container").find(".slide section").mCustomScrollbar({scrollInertia:0})}o.length&&m.each(function(){a(c(this).find('[type="text/x-tmpl"]'))})}var j="undefined"==typeof window.ontouchstart?"click":"touchstart",k=c("#js-timeline-carousel"),l=c("#js-timeline-content-carousel"),m=l.find(".slide"),n=k.find(".slide"),o=c(".cq-wcm-edit");i()};b.gdt.Timeline=new d}(document,window,window.jQuery||window.Zepto),function(a,b,c){function d(){function a(a,c){a.hasClass("myCustomTooltip")?(a.css("opacity",0),a.prop("hidden",!1),a.removeAttr("hidden"),a.css("top",(c.position().top+c.height())/2-a.height()-24),a.css("opacity",1)):(a.css("opacity",0),a.prop("hidden",!1),a.removeAttr("hidden"),b.gdt.Utils.Browser.isMobileLayout?(a.css("left",0),a.css("top",-(c.position().top+c.height()+a.height()+10))):(a.css("left",c.position().left+c.width()+10),a.css("top",(c.position().top+c.height())/2-a.height()/2-10)),a.css("opacity",1))}function d(a){a.animate({opacity:0},200,function(){a.prop("hidden",!0),a.attr("hidden","hidden")}),f.removeClass("mobileTip")}var f=c("button.btn-tooltip");f.each(function(f,g){var h=c(g),i=h.closest(h.closest("label").length?"label":"fieldset"),j=i.find("span.tooltip").length?i.find("span.tooltip"):h.next("span.tooltip"),k=i.find("input, select, textarea"),l=j.find(".closeBtn");h.on(e,function(e){c(".tooltip").attr("hidden","hidden"),c(".tooltip").prop("hidden",!0),b.gdt.Utils.Browser.isMobileLayout&&h.addClass("mobileTip"),j.prop("hidden")?a(j,h):d(j),
e.stopPropagation()}),j.on(e,function(a){a.preventDefault(),a.stopPropagation()}),i.on(e,function(a){c("#js-strapsBracelets-wrap").length||c(a.target).is("input")&&c(a.target).is("label")||(a.preventDefault(),a.stopPropagation())}),k.on("focus",function(){d(j)}),c(document.body).on(e,function(){d(j)}),l.on(e,function(){d(j)})})}b.gdt=b.gdt||{},b.gdt.Utils=b.gdt.Utils||{};var e="undefined"==typeof window.ontouchstart?"click":"touchend";b.gdt.Tooltips=new d,c("#my-account #profile-section-1").on("click",function(){c(document).ajaxComplete(function(){b.gdt.Tooltips=new d})})}(document,window,window.jQuery||window.Zepto),function(a,b){b.gdt=b.gdt||{},b.gdt.Validate=b.gdt.Validate||{};var c=function(){function a(a){var b,c,e,f;for(e=[],b=0,c=a.length;c>b;b++)d[b]&&a.match(d[b].pattern)&&(f=d[b].name);return f}function b(a){var b,c,d=[0,2,4,6,8,1,3,5,7,9],e=0,f=!1,g=String(a).replace(/[^\d]/g,"");if(0===g.length)return!1;for(c=g.length-1;c>=0;--c)b=parseInt(g.charAt(c),10),e+=(f=!f)?b:d[b];return e%10===0}function c(c){var d=b(c),e=a(c);return!!d&&e}var d=[{name:"amex",pattern:/^3[47]/},{name:"diners_club_carte_blanche",pattern:/^30[0-5]/},{name:"diners_club_international",pattern:/^36/},{name:"jcb",pattern:/^35(2[89]|[3-8][0-9])/},{name:"laser",pattern:/^(6304|670[69]|6771)/},{name:"visa_electron",pattern:/^(4026|417500|4508|4844|491(3|7))/},{name:"visa",pattern:/^4/},{name:"mastercard",pattern:/^5[1-5]/},{name:"maestro",pattern:/^(5018|5020|5038|6304|6759|676[1-3])/},{name:"discover",pattern:/^(6011|622(12[6-9]|1[3-9][0-9]|[2-8][0-9]{2}|9[0-1][0-9]|92[0-5]|64[4-9])|65)/}];return{type:"creditcard",luhnChk:b,creditCardName:a,getValidity:c}};b.gdt.Validate.ext=b.gdt.Validate.ext||{},b.gdt.Validate.ext.CreditCards=new c}(document,window),function(a,b,c){b.gdt=b.gdt||{},b.gdt.snbFilteredResultsData={};var d=c("#find"),e=(c("#watchOptions"),d.find("form")),f=b.gdt.Utils.PubSub.UI_EVENTS;c("#watch-list-filters").find("[name=watch-filter]").on("click",function(){"online"===c(this).val()&&c("#find").find(".clear").addClass("visible")}),e.on("submit",function(a){if(d.hasClass("open-from-filter")){a.preventDefault(),d.removeClass("open-from-filter");var b=c(this),g=b.find("div.search input"),h=g.val(),i=c("#watch-list-filters").find("[name=watch-filter]:checked").val(),j=c("#watch-list-filters").find("[name=watch-filter]:checked").next().text();c.pubsub("publish",f.modal.close),c("#watchListFilterLink").addClass("clicked");var k="";e.find("input[type=checkbox]").each(function(){c(this).is(":checked")&&(k+=c(this).attr("name")+"="+c(this).val()+"&")});for(var l=k.split("&"),m={},n=l.length;n--;){var o=l[n].split("="),p=o[0].replace("[]",""),q=o[1];m[p]=m[p]||[],m[p].push(q)}var r=m.movement,s=m.function,t=m.casediameter,u=m.material,v=m.color,w=[],x=[],y=[],z=[],A=[];if(void 0!==r)for(var B=0;B<r.length;B++)w.push(e.find('input[name="movement"][value="'+r[B]+'"]').next().text());if(void 0!==s)for(var C=0;C<s.length;C++)x.push(e.find('input[name="function"][value="'+s[C]+'"]').next().text());if(void 0!==t)for(var D=0;D<t.length;D++)y.push(e.find('input[name="casediameter"][value="'+t[D]+'"]').next().text());if(void 0!==u)for(var E=0;E<u.length;E++)z.push(e.find('input[name="material"][value="'+u[E]+'"]').next().text());if(void 0!==v)for(var F=0;F<v.length;F++)A.push(e.find('input[name="color"][value="'+v[F]+'"]').next().text());if(""!==h)c("#js-product-list").find("li").addClass("hide").removeClass("show"),c("#js-product-list").find("li").each(function(){var a=c(this),b=a.data("filter"),d=a.data("purchaseable"),e=h.toUpperCase(),f=b.movement,g=b.function,i=b.casediameter,j=b.material,k=b.name,l=b.reference,m=b.color;null!==k&&""!==k&&(k=k.toUpperCase(),-1!==k.indexOf(e)&&a.addClass("show")),null!==l&&""!==l&&(l=l.toUpperCase(),-1!==l.indexOf(e)&&a.addClass("show")),null!==f&&""!==f&&(f=f.toUpperCase(),-1!==f.indexOf(e)&&a.addClass("show")),null!==g&&""!==g&&(g=g.toUpperCase(),-1!==g.indexOf(e)&&a.addClass("show")),null!==i&&""!==i&&(i=i.toUpperCase(),-1!==i.indexOf(e)&&a.addClass("show")),null!==j&&""!==j&&(j=j.toUpperCase(),-1!==j.indexOf(e)&&a.addClass("show")),null!==m&&""!==m&&(m=m.toUpperCase(),-1!==m.indexOf(e)&&a.addClass("show")),null!==m&&""!==m&&(m=m.toUpperCase(),-1!==m.indexOf(e)&&a.addClass("show")),d===!1&&a.removeClass("show")}),c("#resultsummary span.resultsCount").text(c("#js-product-list").find("li.show").length),c("#resultsummary li").removeClass("sh"),c("#resultsummary").find("li.search").addClass("sh").find("span:last").text(h);else{c("#js-product-list").find("li").addClass("hide").removeClass("show");var G=["movement","function","casediameter","material","color"];c("#js-product-list").find("li").addClass("show").removeClass("hide");for(var H=0;H<G.length;H++){var I=G[H],J=c("#find fieldset."+I).find("input:checkbox:checked").map(function(){return c(this).val()}).get();J&&1===J.length&&"0"===J[0]||c("#js-product-list").find("li.show").each(function(){for(var a=c(this),b=a.data("filter"),d=!1,e=0;e<J.length;e++)b[I]===J[e]&&(d=!0);d||(a.addClass("hide"),a.removeClass("show"))})}c("#resultsummary").find("li").removeClass("sh"),c("#js-product-list").find("li.show").each(function(){var a=c(this),b=a.data("purchaseable");"online"===i&&b===!1&&(a.addClass("hide").removeClass("show"),c("#resultsummary").find("li.soldOnlineWatch").addClass("sh").find("span:last").text(j))}),r&&"0"!==r[0]&&c("#resultsummary").find("li.movement").addClass("sh").find("span:last").text(w),s&&"0"!==s[0]&&c("#resultsummary").find("li.function").addClass("sh").find("span:last").text(x),t&&"0"!==t[0]&&c("#resultsummary").find("li.casediameter").addClass("sh").find("span:last").text(y),u&&"0"!==u[0]&&c("#resultsummary").find("li.material").addClass("sh").find("span:last").text(z),v&&"0"!==v[0]&&c("#resultsummary").find("li.color").addClass("sh").find("span:last").text(A),c("#resultsummary span.resultsCount").text(c("#js-product-list").find("li.show").length)}}}),c(".gdt-form").on("click",".clear",function(){c(this).removeClass("visible"),c(this).parents("form:first").trigger("reset")}),c("#watchListFilterLink").modal(),c("#watchListFilterLink").on("click",function(){c("#watch-list-filters").addClass("product-list-filters-show"),d.addClass("open-from-filter");var a=c("#find").find("div.case").data("default-case"),b=c("#find").find('div.case input[type="checkbox"]');b.each(function(){c(this).removeAttr("checked").attr("disabled","disabled"),c(this).val()===a&&c(this).prop("checked","checked")})}),c(".modal-close.mobileOnly").on("click",function(){c("#watch-list-filters").removeClass("product-list-filters-show");var a=c("#find").find('div.case input[type="checkbox"]');d.removeClass("open-from-filter"),a.each(function(){c(this).removeAttr("checked").removeAttr("disabled"),"0"===c(this).val()&&c(this).prop("checked","checked")})})}(document,window,window.jQuery||window.Zepto),function(a,b,c){b.gdt=b.gdt||{};var d=function(){function a(){h.akcarousel({delay:5e3,horizontal:!0,scrollNode:!0,autoSwitch:!1,scrollSpeed:500,easing:"cubic-bezier(0.390, 0.575, 0.565, 1.000)"});var a=n.find("li.slide:first .shareIconsMobile").data("pdf-url");o.prop("href",a)}function d(){k.on(g,"a",function(){h.akcarousel("move",c(this).index());var a=h.find("ul li.active").index(),b=h.find("ul li.active").height();c("#profile-section-2 .accordion-tabs-inner").removeAttr("style"),h.find("#js-product-list").height(b);var d=parseInt(j);0===a?(m.hide(),l.show()):a===d-1?(l.hide(),m.show()):(m.show(),l.show());var e=c(this).index(),f=n.find("li.slide:eq("+e+") .shareIconsMobile").data("pdf-url");o.prop("href",f)}),j>1&&l.show(),l.on(g,function(a){a.preventDefault();var b=h.find("ul li.active").index(),d=h.find("ul li.active").next().height();h.akcarousel("move",c(this).index()+b);var e=c(this).index()+b,f=n.find("li.slide:eq("+e+") .shareIconsMobile").data("pdf-url");o.prop("href",f),c("#profile-section-2 .accordion-tabs-inner").removeAttr("style"),h.find("#js-product-list").height(d);var g=parseInt(j);b===g-2&&l.hide(),m.show()}),m.on(g,function(a){a.preventDefault();var b=h.find("ul li.active").index()-1,d=h.find("ul li.active").prev().height();h.akcarousel("move",c(this).index()+b);var e=c(this).index()+b,f=n.find("li.slide:eq("+e+") .shareIconsMobile").data("pdf-url");o.prop("href",f),c("#profile-section-2 .accordion-tabs-inner").removeAttr("style"),h.find("#js-product-list").height(d),l.show(),0===b&&m.hide()})}function e(){i.each(function(){var a=c(this).find("ul li"),b=c(this).find("h2:first").text();a.each(function(){c(this).find("[name=wishlist-name]").val(b)})})}function f(){i.length&&!b.gdt.Utils.Browser.isMobileLayout&&(a(),d(),e())}var g="undefined"==typeof window.ontouchstart?"click":"touchend",h=c("#js-wishlist-caro"),i=h.find(".slide"),j=i.length,k=c(".pager"),l=h.find(".next"),m=h.find(".prev"),n=h.find("#js-product-list"),o=c(".printWishlistSlide");f()};b.gdt.WishlistSlider=new d}(document,window,window.jQuery||window.Zepto),function(a,b,c){function d(){c(".js-show-cataglogue-msg-btn").modal(),c.trim(v.html()).length&&c(".js-show-cataglogue-msg-btn").trigger("click"),w.on("click",function(){v.find(".modal-close").trigger("click")})}b.gdt=b.gdt||{};var e="undefined"==typeof b.ontouchstart?"click":"touchend",f=c("body"),g=c("form label span.tooltip").next("input"),h=c("html");if(g.on(e,function(){c(this).select()}),c("#my-account section.lazy").lazyloadContent({callback:function(a){c(".component-cataloguetab",a).tabAccordion(),c(".component-myactsubscription",a).subscriptions()}}),c("#my-account section.lazy").on("click",function(){c(document).ajaxComplete(function(){c.pubsub("publish",b.gdt.Utils.PubSub.UI_EVENTS.accordionContentUpdated),c(".js-contact-concierge-btn").modal(),c(".editWishlistMobile").modal()})}),b.gdt.Utils.Browser.isMobileLayout){if(c("#emptyWishlist").length||c("#empty-comparelist").length&&0===c("#my-account").length){var i=c(".equalTitle:first .rightLinks").find("a").removeClass("button-primary").clone(!0),j=c(".equalTitle:first .leftIcons").clone(!0);c("#empty-comparelist").length&&c(".shoppingbag-ctas:first").prepend(j,i),c("#emptyWishlist").length&&c(".shoppingbag-ctas:first").prepend(i)}if(c("#js-wishlist-caro").length&&0===c("#my-account").length){for(var k=c(".equalTitle:first .leftIcons").clone(!0),l=0;l<c("#js-product-list li.slide").length;l++)c("#js-product-list li.slide").find(".shareIconsMobile").html(k);for(var m=0;m<c("#js-product-list li.slide").length;m++){var n=c("#js-product-list li.slide:eq("+m+")").find(".shareIconsMobile").data("pdf-url");c("#js-product-list li.slide:eq("+m+")").find(".shareIconsMobile .printWishlistSlide").prop("href",n)}}}if(c(".product-detail").length&&b.gdt.Utils.Browser.isMobileLayout&&c(".product-detail-top").length){var o=c(".product-detail-top").offset().top;c(document).scrollTop(o)}if(c(".findYourPaneraiSearch").length){var p=b.location.search,q=c("#top").offset().top;p.indexOf("setTopSearch")>-1&&c(document).scrollTop(q)}if(c("#shoppingbag").length&&b.gdt.Utils.Browser.isMobileLayout){var r=c("#shoppingbag").find(".mobileScroll .row").length;r>1&&c(".mobileScroll").addClass("height").mCustomScrollbar()}c("input, textarea").placeholder(),c("#my-account > .accordion-tabs").tabAccordion({closeOthers:!0}),c("#js-wishlist-caro").length&&(c(".product-list-item .product-list-item-info").matchHeight(),h.addClass("wishListPage")),c("#saveLink, #saveLinkMobile").modal(),c(".eboutiqueContainer").length&&c("main").addClass("blackBoutique"),(!b.gdt.Utils.Browser.isMobileLayout&&c("#shoppingbag").length||c("#checkout").length)&&c(".component-ecommercehighlights").each(function(){var a=0;c("section",this).each(function(){c(this).height()>a&&(a=c(this).height())}),c("section",this).height(a)}),c(".nav-secondary").each(function(){var a=0;c("a",this).each(function(){c(this).height()>a&&(a=c(this).height())}),c("a",this).height(a)}),a.getElementById("js-product-list")&&b.gdt.ProductList.init();var s=c(".search-results-watch, .search-results-eboutique-watch");if(s.length&&s.each(function(){c(this).find("a").each(function(){var a=c(this).attr("href");c(this).attr("href",a+b.location.search)})}),c("#js-product-details").tabAccordion({trigger:"h4"}),c("#js-basket-error").modal(),c("#confirmWishlistAdded").modal(),b.gdt.Utils.Browser.isMobileLayout&&c(".order-confirmation").length&&c(".form-errors").length){var t=c(".form-errors").offset().top;setTimeout(function(){c("html, body").animate({scrollTop:t},300)},200)}if(c("#js-movement-details").tabAccordion({trigger:"h4"}),c(".component-shippinginfo").shippingInfo(),c(".personalise a").modal(),1===c("#exceptionMsg").length){var u=c("#exceptionMsgA");u.modal(),u.trigger("click")}c("#card-number").creditcard("#card-types"),a.getElementById("js-news-list")&&b.gdt.NewsList.init(),c(".js-vertical-gallery-thumbs").length&&(c(".js-vertical-gallery-thumbs").modal(),c(".js-vertical-gallery-content").verticalGallery()),c(".component-cataloguetab").tabAccordion(),c("#newShippingOptions").tabAccordion(),c(".component-cataloguetab .accordion-tabs-content .download a.download-file").on(e,function(){var a=c(this).data("cookie-name");c.cookie(a,"1",{path:"/",domain:"panerai.com",expires:999999})}),c(".gdt-form #catalogs").submit(function(){var a=c("#catalogs_catalogType").val();if(void 0!==a&&"digital"===a){var b=c("#catalogs .catalogRequested select option:selected").data("cookie-name");void 0===b&&(b="panerai_catalogo"),c.cookie(b,"1",{path:"/",domain:"panerai.com",expires:999999})}});var v=c("#js-catalogue-msg-wrapper"),w=c("#js-catalogue-msg-wrapper .close-btn");if(c("#js-catalogue-msg-container").length>0&&d(),b.gdt.Utils.Browser.isMobileLayout&&c(".photographers").length>0&&(c(".photographers").addClass("open"),c(".photographers .editable-title h4").on("click",function(){c(".photographers .two-column").slideToggle(1e3),c(".photographers").hasClass("open")?c(".photographers").removeClass("open"):c(".photographers").addClass("open")})),b.gdt.Utils.Browser.isIE&&"#top"===document.location.hash){var x=c("#top").offset().top;window.scrollTo(0,x)}b.gdt.Utils.Browser.isMobileLayout&&(c("#gdt main div.history-wrap").next("p.mobile-links").css("display","none"),c("#gdt main div.history-wrap").prev("h1").css("display","none"),c("#gdt main div.history-wrap").css("margin-top","20px"));var y=new Date,z=y.getMonth()+1,A=y.getDate(),B=y.getFullYear();9>=z&&(z="0"+z),9>=A&&(A="0"+A);var C=A+"."+z+"."+B;c(".c-date span").html(C),f.on(e,".cta-print",function(a){a.preventDefault(),b.print&&(b.print(),f.trigger("print:product"))}),f.on(e,".cta-strapsize",function(a){a.preventDefault(),c("#strapDetailPage .findStrapLinkSection a").click(),location.href=c("#strapDetailPage .findStrapLinkSection a").attr("href")}),c(".ie9 #js-product-details .mobile-height-calc").columnize({width:400});var D=window.location.href.slice(window.location.href.indexOf("?")+1);window.location.href.indexOf("?")>-1?(c(".product-detail .product-detail-top a.watchBack").attr("href",function(a,b){return b+"?"+D}),c(".product-detail .product-detail-top a.strapBack").attr("href",function(a,b){return b}),c(".product-detail .product-detail-top a.buckleBack").attr("href",function(a,b){return b})):(c(".product-detail .product-detail-top a.watchBack").attr("href",function(a,b){return b}),c(".product-detail .product-detail-top a.strapBack").hide(),c(".product-detail .product-detail-top a.buckleBack").hide())}(document,window,window.jQuery||window.Zepto);